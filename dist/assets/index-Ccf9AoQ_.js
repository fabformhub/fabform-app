var Jo=Object.defineProperty;var gi=r=>{throw TypeError(r)};var Ko=(r,e,t)=>e in r?Jo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ge=(r,e,t)=>Ko(r,typeof e!="symbol"?e+"":e,t),pi=(r,e,t)=>e.has(r)||gi("Cannot "+t);var Fe=(r,e,t)=>(pi(r,e,"read from private field"),t?t.call(r):e.get(r)),er=(r,e,t)=>e.has(r)?gi("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t);var $n=(r,e,t)=>(pi(r,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();const xa=!1;var Wn=Array.isArray,Yo=Array.prototype.indexOf,qa=Array.from,Qo=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor,hs=Object.getOwnPropertyDescriptors,Xo=Object.prototype,Zo=Array.prototype,Ha=Object.getPrototypeOf;function Cr(r){return typeof r=="function"}const ir=()=>{};function el(r){return r()}function ka(r){for(var e=0;e<r.length;e++)r[e]()}const mt=2,vs=4,bn=8,Jn=16,At=32,Ur=64,Nn=128,Et=256,Dn=512,Ve=1024,Bt=2048,vr=4096,kt=8192,zr=16384,gs=32768,gr=65536,tl=1<<17,rl=1<<19,ps=1<<20,$t=Symbol("$state"),ms=Symbol("legacy props"),nl=Symbol("");function bs(r){return r===this.v}function Va(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function al(r,e){return r!==e}function Ga(r){return!Va(r,this.v)}function il(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function sl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ol(r){throw new Error("https://svelte.dev/e/effect_orphan")}function ll(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function cl(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function ul(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function dl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function fl(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function hl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let qr=!1,vl=!1;function gl(){qr=!0}const Wa=1,Ja=2,ys=4,pl=8,ml=16,bl=1,yl=2,_s=4,_l=8,wl=16,xl=1,kl=2,$l=4,Sl=1,El=2,We=Symbol(),ws="http://www.w3.org/2000/svg";function Ka(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Te=null;function mi(r){Te=r}function Tl(r){return xs().get(r)}function Pl(r,e){return xs().set(r,e),e}function de(r,e=!1,t){Te={p:Te,c:null,e:null,m:!1,s:r,x:null,l:null},qr&&!e&&(Te.l={s:null,u:null,r1:[],r2:et(!1)})}function fe(r){const e=Te;if(e!==null){const s=e.e;if(s!==null){var t=Ee,n=Le;e.e=null;try{for(var a=0;a<s.length;a++){var i=s[a];ut(i.effect),Pt(i.reaction),it(i.fn)}}finally{ut(t),Pt(n)}}Te=e.p,e.m=!0}return{}}function xs(r){return Te===null&&Ka(),Te.c??(Te.c=new Map(Al(Te)||void 0))}function Al(r){let e=r.p;for(;e!==null;){const t=e.c;if(t!==null)return t;e=e.p}return null}function et(r,e){var t={f:0,v:r,reactions:null,equals:bs,rv:0,wv:0};return t}function ie(r){return ks(et(r))}function Ya(r,e=!1){var n;const t=et(r);return e||(t.equals=Ga),qr&&Te!==null&&Te.l!==null&&((n=Te.l).s??(n.s=[])).push(t),t}function Me(r,e=!1){return ks(Ya(r,e))}function ks(r){return Le!==null&&!Lt&&(Le.f&mt)!==0&&(St===null?Hl([r]):St.push(r)),r}function st(r,e){return I(r,dt(()=>v(r))),e}function I(r,e){return Le!==null&&!Lt&&Vr()&&(Le.f&(mt|Jn))!==0&&(St===null||!St.includes(r))&&hl(),$a(r,e)}function $a(r,e){return r.equals(e)||(r.v,r.v=e,r.wv=Bs(),$s(r,Bt),Vr()&&Ee!==null&&(Ee.f&Ve)!==0&&(Ee.f&(At|Ur))===0&&(jt===null?Vl([r]):jt.push(r))),e}function $s(r,e){var t=r.reactions;if(t!==null)for(var n=Vr(),a=t.length,i=0;i<a;i++){var s=t[i],o=s.f;(o&Bt)===0&&(!n&&s===Ee||(ft(s,e),(o&(Ve|Et))!==0&&((o&mt)!==0?$s(s,vr):ea(s))))}}let Ss=!1;function W(r,e=null,t){if(typeof r!="object"||r===null||$t in r)return r;const n=Ha(r);if(n!==Xo&&n!==Zo)return r;var a=new Map,i=Wn(r),s=et(0);i&&a.set("length",et(r.length));var o;return new Proxy(r,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ul();var d=a.get(c);return d===void 0?(d=et(u.value),a.set(c,d)):I(d,W(u.value,o)),!0},deleteProperty(l,c){var u=a.get(c);if(u===void 0)c in l&&a.set(c,et(We));else{if(i&&typeof c=="string"){var d=a.get("length"),f=Number(c);Number.isInteger(f)&&f<d.v&&I(d,f)}I(u,We),bi(s)}return!0},get(l,c,u){var g;if(c===$t)return r;var d=a.get(c),f=c in l;if(d===void 0&&(!f||(g=Jt(l,c))!=null&&g.writable)&&(d=et(W(f?l[c]:We,o)),a.set(c,d)),d!==void 0){var h=v(d);return h===We?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=a.get(c);d&&(u.value=v(d))}else if(u===void 0){var f=a.get(c),h=f==null?void 0:f.v;if(f!==void 0&&h!==We)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){var h;if(c===$t)return!0;var u=a.get(c),d=u!==void 0&&u.v!==We||Reflect.has(l,c);if(u!==void 0||Ee!==null&&(!d||(h=Jt(l,c))!=null&&h.writable)){u===void 0&&(u=et(d?W(l[c],o):We),a.set(c,u));var f=v(u);if(f===We)return!1}return d},set(l,c,u,d){var k;var f=a.get(c),h=c in l;if(i&&c==="length")for(var g=u;g<f.v;g+=1){var m=a.get(g+"");m!==void 0?I(m,We):g in l&&(m=et(We),a.set(g+"",m))}f===void 0?(!h||(k=Jt(l,c))!=null&&k.writable)&&(f=et(void 0),I(f,W(u,o)),a.set(c,f)):(h=f.v!==We,I(f,W(u,o)));var p=Reflect.getOwnPropertyDescriptor(l,c);if(p!=null&&p.set&&p.set.call(d,u),!h){if(i&&typeof c=="string"){var b=a.get("length"),E=Number(c);Number.isInteger(E)&&E>=b.v&&I(b,E+1)}bi(s)}return!0},ownKeys(l){v(s);var c=Reflect.ownKeys(l).filter(f=>{var h=a.get(f);return h===void 0||h.v!==We});for(var[u,d]of a)d.v!==We&&!(u in l)&&c.push(u);return c},setPrototypeOf(){dl()}})}function bi(r,e=1){I(r,r.v+e)}function yi(r){return r!==null&&typeof r=="object"&&$t in r?r[$t]:r}function Cl(r,e){return Object.is(yi(r),yi(e))}var _i,Es,Ts;function Il(){if(_i===void 0){_i=window;var r=Element.prototype,e=Node.prototype;Es=Jt(e,"firstChild").get,Ts=Jt(e,"nextSibling").get,r.__click=void 0,r.__className="",r.__attributes=null,r.__styles=null,r.__e=void 0,Text.prototype.__t=void 0}}function Kn(r=""){return document.createTextNode(r)}function xt(r){return Es.call(r)}function Yn(r){return Ts.call(r)}function w(r,e){return xt(r)}function N(r,e){{var t=xt(r);return t instanceof Comment&&t.data===""?Yn(t):t}}function P(r,e=1,t=!1){let n=r;for(;e--;)n=Yn(n);return n}function jl(r){r.textContent=""}function Ne(r){var e=mt|Bt,t=Le!==null&&(Le.f&mt)!==0?Le:null;return Ee===null||t!==null&&(t.f&Et)!==0?e|=Et:Ee.f|=ps,{ctx:Te,deps:null,effects:null,equals:bs,f:e,fn:r,reactions:null,rv:0,v:null,wv:0,parent:t??Ee}}function Qn(r){const e=Ne(r);return e.equals=Ga,e}function Qa(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)bt(e[t])}}function Ol(r){for(var e=r.parent;e!==null;){if((e.f&mt)===0)return e;e=e.parent}return null}function Ps(r){var e,t=Ee;ut(Ol(r));try{Qa(r),e=Us(r)}finally{ut(t)}return e}function As(r){var e=Ps(r),t=(lr||(r.f&Et)!==0)&&r.deps!==null?vr:Ve;ft(r,t),r.equals(e)||(r.v=e,r.wv=Bs())}function Ll(r){Qa(r),un(r,0),ft(r,zr),r.v=r.deps=r.ctx=r.reactions=null}function Cs(r){Ee===null&&Le===null&&ol(),Le!==null&&(Le.f&Et)!==0&&Ee===null&&sl(),Za&&il()}function Rl(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function Hr(r,e,t,n=!0){var a=(r&Ur)!==0,i=Ee,s={ctx:Te,deps:null,nodes_start:null,nodes_end:null,f:r|Bt,first:null,fn:e,last:null,next:null,parent:a?null:i,prev:null,teardown:null,transitions:null,wv:0};if(t){var o=jr;try{wi(!0),Zn(s),s.f|=gs}catch(u){throw bt(s),u}finally{wi(o)}}else e!==null&&ea(s);var l=t&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(ps|Nn))===0;if(!l&&!a&&n&&(i!==null&&Rl(s,i),Le!==null&&(Le.f&mt)!==0)){var c=Le;(c.effects??(c.effects=[])).push(s)}return s}function Nl(r){const e=Hr(bn,null,!1);return ft(e,Ve),e.teardown=r,e}function rt(r){Cs();var e=Ee!==null&&(Ee.f&At)!==0&&Te!==null&&!Te.m;if(e){var t=Te;(t.e??(t.e=[])).push({fn:r,effect:Ee,reaction:Le})}else{var n=it(r);return n}}function Dl(r){return Cs(),pr(r)}function Ml(r){const e=Hr(Ur,r,!0);return(t={})=>new Promise(n=>{t.outro?ur(e,()=>{bt(e),n(void 0)}):(bt(e),n(void 0))})}function it(r){return Hr(vs,r,!1)}function Bl(r,e){var t=Te,n={effect:null,ran:!1};t.l.r1.push(n),n.effect=pr(()=>{r(),!n.ran&&(n.ran=!0,I(t.l.r2,!0),dt(e))})}function Fl(){var r=Te;pr(()=>{if(v(r.l.r2)){for(var e of r.l.r1){var t=e.effect;(t.f&Ve)!==0&&ft(t,vr),Gr(t)&&Zn(t),e.ran=!1}r.l.r2.v=!1}})}function pr(r){return Hr(bn,r,!0)}function K(r,e=[],t=Ne){const n=e.map(t);return Yt(()=>r(...n.map(v)))}function Yt(r,e=0){return Hr(bn|Jn|e,r,!0)}function Tt(r,e=!0){return Hr(bn|At,r,!0,e)}function Is(r){var e=r.teardown;if(e!==null){const t=Za,n=Le;xi(!0),Pt(null);try{e.call(null)}finally{xi(t),Pt(n)}}}function js(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){var n=t.next;bt(t,e),t=n}}function Ul(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&At)===0&&bt(e),e=t}}function bt(r,e=!0){var t=!1;if((e||(r.f&rl)!==0)&&r.nodes_start!==null){for(var n=r.nodes_start,a=r.nodes_end;n!==null;){var i=n===a?null:Yn(n);n.remove(),n=i}t=!0}js(r,e&&!t),un(r,0),ft(r,zr);var s=r.transitions;if(s!==null)for(const l of s)l.stop();Is(r);var o=r.parent;o!==null&&o.first!==null&&Os(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function Os(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function ur(r,e){var t=[];Xa(r,t,!0),Ls(t,()=>{bt(r),e&&e()})}function Ls(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var a of r)a.out(n)}else e()}function Xa(r,e,t){if((r.f&kt)===0){if(r.f^=kt,r.transitions!==null)for(const s of r.transitions)(s.is_global||t)&&e.push(s);for(var n=r.first;n!==null;){var a=n.next,i=(n.f&gr)!==0||(n.f&At)!==0;Xa(n,e,i?t:!1),n=a}}}function on(r){Rs(r,!0)}function Rs(r,e){if((r.f&kt)!==0){r.f^=kt,(r.f&Ve)===0&&(r.f^=Ve),Gr(r)&&(ft(r,Bt),ea(r));for(var t=r.first;t!==null;){var n=t.next,a=(t.f&gr)!==0||(t.f&At)!==0;Rs(t,a?e:!1),t=n}if(r.transitions!==null)for(const i of r.transitions)(i.is_global||e)&&i.in()}}let Mn=!1,Sa=[];function Ns(){Mn=!1;const r=Sa.slice();Sa=[],ka(r)}function yn(r){Mn||(Mn=!0,queueMicrotask(Ns)),Sa.push(r)}function zl(){Mn&&Ns()}const Ds=0,ql=1;let jn=!1,On=Ds,ln=!1,cn=null,jr=!1,Za=!1;function wi(r){jr=r}function xi(r){Za=r}let or=[],Or=0;let Le=null,Lt=!1;function Pt(r){Le=r}let Ee=null;function ut(r){Ee=r}let St=null;function Hl(r){St=r}let tt=null,nt=0,jt=null;function Vl(r){jt=r}let Ms=1,Bn=0,lr=!1;function Bs(){return++Ms}function Vr(){return!qr||Te!==null&&Te.l===null}function Gr(r){var c;var e=r.f;if((e&Bt)!==0)return!0;if((e&vr)!==0){var t=r.deps,n=(e&Et)!==0;if(t!==null){var a,i,s=(e&Dn)!==0,o=n&&Ee!==null&&!lr,l=t.length;if(s||o){for(a=0;a<l;a++)i=t[a],(s||!((c=i==null?void 0:i.reactions)!=null&&c.includes(r)))&&(i.reactions??(i.reactions=[])).push(r);s&&(r.f^=Dn)}for(a=0;a<l;a++)if(i=t[a],Gr(i)&&As(i),i.wv>r.wv)return!0}(!n||Ee!==null&&!lr)&&ft(r,Ve)}return!1}function Gl(r,e){for(var t=e;t!==null;){if((t.f&Nn)!==0)try{t.fn(r);return}catch{t.f^=Nn}t=t.parent}throw jn=!1,r}function Wl(r){return(r.f&zr)===0&&(r.parent===null||(r.parent.f&Nn)===0)}function Xn(r,e,t,n){if(jn){if(t===null&&(jn=!1),Wl(e))throw r;return}t!==null&&(jn=!0);{Gl(r,e);return}}function Fs(r,e,t=0){var n=r.reactions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];(i.f&mt)!==0?Fs(i,e,t+1):e===i&&(t===0?ft(i,Bt):(i.f&Ve)!==0&&ft(i,vr),ea(i))}}function Us(r){var h;var e=tt,t=nt,n=jt,a=Le,i=lr,s=St,o=Te,l=Lt,c=r.f;tt=null,nt=0,jt=null,Le=(c&(At|Ur))===0?r:null,lr=(c&Et)!==0&&(!jr||(a===null||l)&&r.parent!==null),St=null,mi(r.ctx),Lt=!1,Bn++;try{var u=(0,r.fn)(),d=r.deps;if(tt!==null){var f;if(un(r,nt),d!==null&&nt>0)for(d.length=nt+tt.length,f=0;f<tt.length;f++)d[nt+f]=tt[f];else r.deps=d=tt;if(!lr)for(f=nt;f<d.length;f++)((h=d[f]).reactions??(h.reactions=[])).push(r)}else d!==null&&nt<d.length&&(un(r,nt),d.length=nt);if(Vr()&&jt!==null&&(r.f&(mt|vr|Bt))===0)for(f=0;f<jt.length;f++)Fs(jt[f],r);return a!==null&&Bn++,u}finally{tt=e,nt=t,jt=n,Le=a,lr=i,St=s,mi(o),Lt=l}}function Jl(r,e){let t=e.reactions;if(t!==null){var n=Yo.call(t,r);if(n!==-1){var a=t.length-1;a===0?t=e.reactions=null:(t[n]=t[a],t.pop())}}t===null&&(e.f&mt)!==0&&(tt===null||!tt.includes(e))&&(ft(e,vr),(e.f&(Et|Dn))===0&&(e.f^=Dn),Qa(e),un(e,0))}function un(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)Jl(r,t[n])}function Zn(r){var e=r.f;if((e&zr)===0){ft(r,Ve);var t=Ee,n=Te;Ee=r;try{(e&Jn)!==0?Ul(r):js(r),Is(r);var a=Us(r);r.teardown=typeof a=="function"?a:null,r.wv=Ms;var i=r.deps,s;xa&&vl&&r.f&Bt}catch(o){Xn(o,r,t,n||r.ctx)}finally{Ee=t}}}function zs(){if(Or>1e3){Or=0;try{ll()}catch(r){if(cn!==null)Xn(r,cn,null);else throw r}}Or++}function qs(r){var e=r.length;if(e!==0){zs();var t=jr;jr=!0;try{for(var n=0;n<e;n++){var a=r[n];(a.f&Ve)===0&&(a.f^=Ve);var i=[];Hs(a,i),Kl(i)}}finally{jr=t}}}function Kl(r){var e=r.length;if(e!==0)for(var t=0;t<e;t++){var n=r[t];if((n.f&(zr|kt))===0)try{Gr(n)&&(Zn(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Os(n):n.fn=null))}catch(a){Xn(a,n,null,n.ctx)}}}function Yl(){if(ln=!1,Or>1001)return;const r=or;or=[],qs(r),ln||(Or=0,cn=null)}function ea(r){On===Ds&&(ln||(ln=!0,queueMicrotask(Yl))),cn=r;for(var e=r;e.parent!==null;){e=e.parent;var t=e.f;if((t&(Ur|At))!==0){if((t&Ve)===0)return;e.f^=Ve}}or.push(e)}function Hs(r,e){var t=r.first,n=[];e:for(;t!==null;){var a=t.f,i=(a&At)!==0,s=i&&(a&Ve)!==0,o=t.next;if(!s&&(a&kt)===0)if((a&bn)!==0){if(i)t.f^=Ve;else try{Gr(t)&&Zn(t)}catch(d){Xn(d,t,null,t.ctx)}var l=t.first;if(l!==null){t=l;continue}}else(a&vs)!==0&&n.push(t);if(o===null){let d=t.parent;for(;d!==null;){if(r===d)break e;var c=d.next;if(c!==null){t=c;continue e}d=d.parent}}t=o}for(var u=0;u<n.length;u++)l=n[u],e.push(l),Hs(l,e)}function Vs(r){var e=On,t=or;try{zs();const a=[];On=ql,or=a,ln=!1,qs(t);var n=r==null?void 0:r();return zl(),(or.length>0||a.length>0)&&Vs(),Or=0,cn=null,n}finally{On=e,or=t}}async function Ql(){await Promise.resolve(),Vs()}function v(r){var e=r.f,t=(e&mt)!==0;if(t&&(e&zr)!==0){var n=Ps(r);return Ll(r),n}if(Le!==null&&!Lt){St!==null&&St.includes(r)&&fl();var a=Le.deps;r.rv<Bn&&(r.rv=Bn,tt===null&&a!==null&&a[nt]===r?nt++:tt===null?tt=[r]:tt.push(r))}else if(t&&r.deps===null&&r.effects===null){var i=r,s=i.parent;s!==null&&(s.f&Et)===0&&(i.f^=Et)}return t&&(i=r,Gr(i)&&As(i)),r.v}function dt(r){var e=Lt;try{return Lt=!0,r()}finally{Lt=e}}const Xl=-7169;function ft(r,e){r.f=r.f&Xl|e}function ki(r,e=1){var t=v(r),n=e===1?t++:t--;return I(r,t),n}function Gs(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if($t in r)Ea(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&$t in t&&Ea(t)}}}function Ea(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let n in r)try{Ea(r[n],e)}catch{}const t=Ha(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const n=hs(t);for(let a in n){const i=n[a].get;if(i)try{i.call(r)}catch{}}}}}function Zl(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const ec=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function tc(r){return ec.includes(r)}const rc={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function nc(r){return r=r.toLowerCase(),rc[r]??r}const ac=["touchstart","touchmove"];function ic(r){return ac.includes(r)}function sc(r,e){if(e){const t=document.body;r.autofocus=!0,yn(()=>{document.activeElement===t&&r.focus()})}}let $i=!1;function oc(){$i||($i=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var e;if(!r.defaultPrevented)for(const t of r.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Ws(r){var e=Le,t=Ee;Pt(null),ut(null);try{return r()}finally{Pt(e),ut(t)}}function ei(r,e,t,n=t){r.addEventListener(e,()=>Ws(t));const a=r.__on_r;a?r.__on_r=()=>{a(),n(!0)}:r.__on_r=()=>n(!0),oc()}const Js=new Set,Ta=new Set;function Ks(r,e,t,n={}){function a(i){if(n.capture||Zr.call(e,i),!i.cancelBubble)return Ws(()=>t==null?void 0:t.call(this,i))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?yn(()=>{e.addEventListener(r,a,n)}):e.addEventListener(r,a,n),a}function V(r,e,t,n,a){var i={capture:n,passive:a},s=Ks(r,e,t,i);(e===document.body||e===window||e===document)&&Nl(()=>{e.removeEventListener(r,s,i)})}function Wr(r){for(var e=0;e<r.length;e++)Js.add(r[e]);for(var t of Ta)t(r)}function Zr(r){var E;var e=this,t=e.ownerDocument,n=r.type,a=((E=r.composedPath)==null?void 0:E.call(r))||[],i=a[0]||r.target,s=0,o=r.__root;if(o){var l=a.indexOf(o);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var c=a.indexOf(e);if(c===-1)return;l<=c&&(s=l)}if(i=a[s]||r.target,i!==e){Qo(r,"currentTarget",{configurable:!0,get(){return i||t}});var u=Le,d=Ee;Pt(null),ut(null);try{for(var f,h=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var m=i["__"+n];if(m!==void 0&&!i.disabled)if(Wn(m)){var[p,...b]=m;p.apply(i,[r,...b])}else m.call(i,r)}catch(k){f?h.push(k):f=k}if(r.cancelBubble||g===e||g===null)break;i=g}if(f){for(let k of h)queueMicrotask(()=>{throw k});throw f}}finally{r.__root=e,delete r.currentTarget,Pt(u),ut(d)}}}function ti(r){var e=document.createElement("template");return e.innerHTML=r,e.content}function Dr(r,e){var t=Ee;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function A(r,e){var t=(e&Sl)!==0,n=(e&El)!==0,a,i=!r.startsWith("<!>");return()=>{a===void 0&&(a=ti(i?r:"<!>"+r),t||(a=xt(a)));var s=n?document.importNode(a,!0):a.cloneNode(!0);if(t){var o=xt(s),l=s.lastChild;Dr(o,l)}else Dr(s,s);return s}}function lc(r,e,t="svg"){var n=!r.startsWith("<!>"),a=`<${t}>${n?r:"<!>"+r}</${t}>`,i;return()=>{if(!i){var s=ti(a),o=xt(s);i=xt(o)}var l=i.cloneNode(!0);return Dr(l,l),l}}function G(){var r=document.createDocumentFragment(),e=document.createComment(""),t=Kn();return r.append(e,t),Dr(e,t),r}function _(r,e){r!==null&&r.before(e)}let Fn=!0;function Si(r){Fn=r}function se(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t==null?"":t+"")}function cc(r,e){return uc(r,e)}const wr=new Map;function uc(r,{target:e,anchor:t,props:n={},events:a,context:i,intro:s=!0}){Il();var o=new Set,l=d=>{for(var f=0;f<d.length;f++){var h=d[f];if(!o.has(h)){o.add(h);var g=ic(h);e.addEventListener(h,Zr,{passive:g});var m=wr.get(h);m===void 0?(document.addEventListener(h,Zr,{passive:g}),wr.set(h,1)):wr.set(h,m+1)}}};l(qa(Js)),Ta.add(l);var c=void 0,u=Ml(()=>{var d=t??e.appendChild(Kn());return Tt(()=>{if(i){de({});var f=Te;f.c=i}a&&(n.$$events=a),Fn=s,c=r(d,n)||{},Fn=!0,i&&fe()}),()=>{var g;for(var f of o){e.removeEventListener(f,Zr);var h=wr.get(f);--h===0?(document.removeEventListener(f,Zr),wr.delete(f)):wr.set(f,h)}Ta.delete(l),d!==t&&((g=d.parentNode)==null||g.removeChild(d))}});return dc.set(c,u),c}let dc=new WeakMap;function z(r,e,t=!1){var n=r,a=null,i=null,s=We,o=t?gr:0,l=!1;const c=(d,f=!0)=>{l=!0,u(f,d)},u=(d,f)=>{s!==(s=d)&&(s?(a?on(a):f&&(a=Tt(()=>f(n))),i&&ur(i,()=>{i=null})):(i?on(i):f&&(i=Tt(()=>f(n))),a&&ur(a,()=>{a=null})))};Yt(()=>{l=!1,e(c),l||u(null,null)},o)}function fc(r,e,t){var n=r,a=We,i,s=Vr()?al:Va;Yt(()=>{s(a,a=e())&&(i&&ur(i),i=Tt(()=>t(n)))})}function He(r,e){return e}function hc(r,e,t,n){for(var a=[],i=e.length,s=0;s<i;s++)Xa(e[s].e,a,!0);var o=i>0&&a.length===0&&t!==null;if(o){var l=t.parentNode;jl(l),l.append(t),n.clear(),qt(r,e[0].prev,e[i-1].next)}Ls(a,()=>{for(var c=0;c<i;c++){var u=e[c];o||(n.delete(u.k),qt(r,u.prev,u.next)),bt(u.e,!o)}})}function Be(r,e,t,n,a,i=null){var s=r,o={flags:e,items:new Map,first:null},l=(e&ys)!==0;if(l){var c=r;s=c.appendChild(Kn())}var u=null,d=!1,f=Qn(()=>{var h=t();return Wn(h)?h:h==null?[]:qa(h)});Yt(()=>{var h=v(f),g=h.length;if(!(d&&g===0)){d=g===0;{var m=Le;vc(h,o,s,a,e,(m.f&kt)!==0,n,t)}i!==null&&(g===0?u?on(u):u=Tt(()=>i(s)):u!==null&&ur(u,()=>{u=null})),v(f)}})}function vc(r,e,t,n,a,i,s,o){var Q,Z,le,pe;var l=(a&pl)!==0,c=(a&(Wa|Ja))!==0,u=r.length,d=e.items,f=e.first,h=f,g,m=null,p,b=[],E=[],k,S,y,T;if(l)for(T=0;T<u;T+=1)k=r[T],S=s(k,T),y=d.get(S),y!==void 0&&((Q=y.a)==null||Q.measure(),(p??(p=new Set)).add(y));for(T=0;T<u;T+=1){if(k=r[T],S=s(k,T),y=d.get(S),y===void 0){var $=h?h.e.nodes_start:t;m=pc($,e,m,m===null?e.first:m.next,k,S,T,n,a,o),d.set(S,m),b=[],E=[],h=m.next;continue}if(c&&gc(y,k,T,a),(y.e.f&kt)!==0&&(on(y.e),l&&((Z=y.a)==null||Z.unfix(),(p??(p=new Set)).delete(y))),y!==h){if(g!==void 0&&g.has(y)){if(b.length<E.length){var C=E[0],q;m=C.prev;var R=b[0],O=b[b.length-1];for(q=0;q<b.length;q+=1)Ei(b[q],C,t);for(q=0;q<E.length;q+=1)g.delete(E[q]);qt(e,R.prev,O.next),qt(e,m,R),qt(e,O,C),h=C,m=O,T-=1,b=[],E=[]}else g.delete(y),Ei(y,h,t),qt(e,y.prev,y.next),qt(e,y,m===null?e.first:m.next),qt(e,m,y),m=y;continue}for(b=[],E=[];h!==null&&h.k!==S;)(i||(h.e.f&kt)===0)&&(g??(g=new Set)).add(h),E.push(h),h=h.next;if(h===null)continue;y=h}b.push(y),m=y,h=y.next}if(h!==null||g!==void 0){for(var M=g===void 0?[]:qa(g);h!==null;)(i||(h.e.f&kt)===0)&&M.push(h),h=h.next;var J=M.length;if(J>0){var Y=(a&ys)!==0&&u===0?t:null;if(l){for(T=0;T<J;T+=1)(le=M[T].a)==null||le.measure();for(T=0;T<J;T+=1)(pe=M[T].a)==null||pe.fix()}hc(e,M,Y,d)}}l&&yn(()=>{var ye;if(p!==void 0)for(y of p)(ye=y.a)==null||ye.apply()}),Ee.first=e.first&&e.first.e,Ee.last=m&&m.e}function gc(r,e,t,n){(n&Wa)!==0&&$a(r.v,e),(n&Ja)!==0?$a(r.i,t):r.i=t}function pc(r,e,t,n,a,i,s,o,l,c){var u=(l&Wa)!==0,d=(l&ml)===0,f=u?d?Ya(a):et(a):a,h=(l&Ja)===0?s:et(s),g={i:h,v:f,k:i,a:null,e:null,prev:t,next:n};try{return g.e=Tt(()=>o(r,f,h,c),Ss),g.e.prev=t&&t.e,g.e.next=n&&n.e,t===null?e.first=g:(t.next=g,t.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function Ei(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,a=e?e.e.nodes_start:t,i=r.e.nodes_start;i!==n;){var s=Yn(i);a.before(i),i=s}}function qt(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function ri(r,e,t,n,a){var i=r,s="",o;Yt(()=>{s!==(s=e()??"")&&(o!==void 0&&(bt(o),o=void 0),s!==""&&(o=Tt(()=>{var l=s+"";t&&(l=`<svg>${l}</svg>`);var c=ti(l);if((t||n)&&(c=xt(c)),Dr(xt(c),c.lastChild),t||n)for(;xt(c);)i.before(xt(c));else i.before(c)})))})}function ee(r,e,t,n,a){var o;var i=(o=e.$$slots)==null?void 0:o[t],s=!1;i===!0&&(i=e.children,s=!0),i===void 0||i(r,s?()=>n:n)}function mc(r,e,...t){var n=r,a=ir,i;Yt(()=>{a!==(a=e())&&(i&&(bt(i),i=null),i=Tt(()=>a(n,...t)))},gr)}function mr(r,e,t){var n=r,a,i;Yt(()=>{a!==(a=e())&&(i&&(ur(i),i=null),a&&(i=Tt(()=>t(n,a))))},gr)}function bc(r,e,t,n,a,i){var s,o,l=null,c=r,u;Yt(()=>{const d=e()||null;var f=ws;d!==s&&(u&&(d===null?ur(u,()=>{u=null,o=null}):d===o?on(u):(bt(u),Si(!1))),d&&d!==o&&(u=Tt(()=>{if(l=document.createElementNS(f,d),Dr(l,l),n){var h=l.appendChild(Kn());n(l,h)}Ee.nodes_end=l,c.before(l)})),s=d,s&&(o=s),Si(!0))},gr)}function pt(r,e,t){it(()=>{var n=dt(()=>e(r,t==null?void 0:t())||{});if(t&&(n!=null&&n.update)){var a=!1,i={};pr(()=>{var s=t();Gs(s),a&&Va(i,s)&&(i=s,n.update(s))}),a=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Ys(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=Ys(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function yc(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=Ys(r))&&(n&&(n+=" "),n+=e);return n}function Un(r){return typeof r=="object"?yc(r):r??""}function Qs(r,e){var t=r.__attributes??(r.__attributes={});t.value===(t.value=e??void 0)||r.value===e&&(e!==0||r.nodeName!=="PROGRESS")||(r.value=e??"")}function _c(r,e){var t=r.__attributes??(r.__attributes={});t.checked!==(t.checked=e??void 0)&&(r.checked=e)}function wc(r,e){e?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function ve(r,e,t,n){var a=r.__attributes??(r.__attributes={});a[e]!==(a[e]=t)&&(e==="style"&&"__styles"in r&&(r.__styles={}),e==="loading"&&(r[nl]=t),t==null?r.removeAttribute(e):typeof t!="string"&&Xs(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function Mr(r,e,t,n,a=!1,i=!1,s=!1){var o=e||{},l=r.tagName==="OPTION";for(var c in e)c in t||(t[c]=null);t.class&&(t.class=Un(t.class));var u=Xs(r),d=r.__attributes??(r.__attributes={});for(const b in t){let E=t[b];if(l&&b==="value"&&E==null){r.value=r.__value="",o[b]=E;continue}var f=o[b];if(E!==f){o[b]=E;var h=b[0]+b[1];if(h!=="$$"){if(h==="on"){const k={},S="$$"+b;let y=b.slice(2);var g=tc(y);if(Zl(y)&&(y=y.slice(0,-7),k.capture=!0),!g&&f){if(E!=null)continue;r.removeEventListener(y,o[S],k),o[S]=null}if(E!=null)if(g)r[`__${y}`]=E,Wr([y]);else{let T=function($){o[b].call(this,$)};o[S]=Ks(y,r,T,k)}else g&&(r[`__${y}`]=void 0)}else if(b==="style"&&E!=null)r.style.cssText=E+"";else if(b==="autofocus")sc(r,!!E);else if(b==="__value"||b==="value"&&E!=null)r.value=r[b]=r.__value=E;else if(b==="selected"&&l)wc(r,E);else{var m=b;a||(m=nc(m));var p=m==="defaultValue"||m==="defaultChecked";if(E==null&&!i&&!p)if(d[b]=null,m==="value"||m==="checked"){let k=r;if(m==="value"){let S=k.defaultValue;k.removeAttribute(m),k.defaultValue=S}else{let S=k.defaultChecked;k.removeAttribute(m),k.defaultChecked=S}}else r.removeAttribute(b);else p||u.includes(m)&&(i||typeof E!="string")?r[m]=E:typeof E!="function"&&ve(r,m,E)}b==="style"&&"__styles"in r&&(r.__styles={})}}}return o}var Ti=new Map;function Xs(r){var e=Ti.get(r.nodeName);if(e)return e;Ti.set(r.nodeName,e=[]);for(var t,n=r,a=Element.prototype;a!==n;){t=hs(n);for(var i in t)t[i].set&&e.push(i);n=Ha(n)}return e}function Ce(r,e,t){var n=r.__className,a=xc(e);(n!==a||Ss)&&(e==null?r.removeAttribute("class"):r.className=a,r.__className=a)}function xc(r,e){return(r??"")+""}function rr(r,e,t){if(t){if(r.classList.contains(e))return;r.classList.add(e)}else{if(!r.classList.contains(e))return;r.classList.remove(e)}}const kc=()=>performance.now(),Ot={tick:r=>requestAnimationFrame(r),now:()=>kc(),tasks:new Set};function Zs(){const r=Ot.now();Ot.tasks.forEach(e=>{e.c(r)||(Ot.tasks.delete(e),e.f())}),Ot.tasks.size!==0&&Ot.tick(Zs)}function $c(r){let e;return Ot.tasks.size===0&&Ot.tick(Zs),{promise:new Promise(t=>{Ot.tasks.add(e={c:r,f:t})}),abort(){Ot.tasks.delete(e)}}}function Sn(r,e){r.dispatchEvent(new CustomEvent(e))}function Sc(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Pi(r){const e={},t=r.split(";");for(const n of t){const[a,i]=n.split(":");if(!a||i===void 0)break;const s=Sc(a.trim());e[s]=i.trim()}return e}const Ec=r=>r;function Kt(r,e,t,n){var a=(r&xl)!==0,i=(r&kl)!==0,s=a&&i,o=(r&$l)!==0,l=s?"both":a?"in":"out",c,u=e.inert,d=e.style.overflow,f,h;function g(){var k=Le,S=Ee;Pt(null),ut(null);try{return c??(c=t()(e,(n==null?void 0:n())??{},{direction:l}))}finally{Pt(k),ut(S)}}var m={is_global:o,in(){var k;if(e.inert=u,!a){h==null||h.abort(),(k=h==null?void 0:h.reset)==null||k.call(h);return}i||f==null||f.abort(),Sn(e,"introstart"),f=Pa(e,g(),h,1,()=>{Sn(e,"introend"),f==null||f.abort(),f=c=void 0,e.style.overflow=d})},out(k){if(!i){k==null||k(),c=void 0;return}e.inert=!0,Sn(e,"outrostart"),h=Pa(e,g(),f,0,()=>{Sn(e,"outroend"),k==null||k()})},stop:()=>{f==null||f.abort(),h==null||h.abort()}},p=Ee;if((p.transitions??(p.transitions=[])).push(m),a&&Fn){var b=o;if(!b){for(var E=p.parent;E&&(E.f&gr)!==0;)for(;(E=E.parent)&&(E.f&Jn)===0;);b=!E||(E.f&gs)!==0}b&&it(()=>{dt(()=>m.in())})}}function Pa(r,e,t,n,a){var i=n===1;if(Cr(e)){var s,o=!1;return yn(()=>{if(!o){var p=e({direction:i?"in":"out"});s=Pa(r,p,t,n,a)}}),{abort:()=>{o=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return a(),{abort:ir,deactivate:ir,reset:ir,t:()=>n};const{delay:l=0,css:c,tick:u,easing:d=Ec}=e;var f=[];if(i&&t===void 0&&(u&&u(0,1),c)){var h=Pi(c(0,1));f.push(h,h)}var g=()=>1-n,m=r.animate(f,{duration:l});return m.onfinish=()=>{var p=(t==null?void 0:t.t())??1-n;t==null||t.abort();var b=n-p,E=e.duration*Math.abs(b),k=[];if(E>0){var S=!1;if(c)for(var y=Math.ceil(E/16.666666666666668),T=0;T<=y;T+=1){var $=p+b*d(T/y),C=Pi(c($,1-$));k.push(C),S||(S=C.overflow==="hidden")}S&&(r.style.overflow="hidden"),g=()=>{var q=m.currentTime;return p+b*d(q/E)},u&&$c(()=>{if(m.playState!=="running")return!1;var q=g();return u(q,1-q),!0})}m=r.animate(k,{duration:E,fill:"forwards"}),m.onfinish=()=>{g=()=>n,u==null||u(n,1-n),a()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=ir)},deactivate:()=>{a=ir},reset:()=>{n===0&&(u==null||u(1,0))},t:()=>g()}}function qe(r,e,t=e){var n=Vr();ei(r,"input",a=>{var i=a?r.defaultValue:r.value;if(i=ua(r)?da(i):i,t(i),n&&i!==(i=e())){var s=r.selectionStart,o=r.selectionEnd;r.value=i??"",o!==null&&(r.selectionStart=s,r.selectionEnd=Math.min(o,r.value.length))}}),dt(e)==null&&r.value&&t(ua(r)?da(r.value):r.value),pr(()=>{var a=e();ua(r)&&a===da(r.value)||r.type==="date"&&!a&&!r.value||a!==r.value&&(r.value=a??"")})}function Tc(r,e,t=e){ei(r,"change",n=>{var a=n?r.defaultChecked:r.checked;t(a)}),dt(e)==null&&t(r.checked),pr(()=>{var n=e();r.checked=!!n})}function ua(r){var e=r.type;return e==="number"||e==="range"}function da(r){return r===""?null:+r}function eo(r,e,t){if(r.multiple)return Cc(r,e);for(var n of r.options){var a=tn(n);if(Cl(a,e)){n.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function Pc(r,e){it(()=>{var t=new MutationObserver(()=>{var n=r.__value;eo(r,n)});return t.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function Ac(r,e,t=e){var n=!0;ei(r,"change",a=>{var i=a?"[selected]":":checked",s;if(r.multiple)s=[].map.call(r.querySelectorAll(i),tn);else{var o=r.querySelector(i)??r.querySelector("option:not([disabled])");s=o&&tn(o)}t(s)}),it(()=>{var a=e();if(eo(r,a,n),n&&a===void 0){var i=r.querySelector(":checked");i!==null&&(a=tn(i),t(a))}r.__value=a,n=!1}),Pc(r)}function Cc(r,e){for(var t of r.options)t.selected=~e.indexOf(tn(t))}function tn(r){return"__value"in r?r.__value:r.value}function Ai(r,e){return r===e||(r==null?void 0:r[$t])===e}function _n(r={},e,t,n){return it(()=>{var a,i;return pr(()=>{a=i,i=[],dt(()=>{r!==t(...i)&&(e(r,...i),a&&Ai(t(...a),r)&&e(null,...a))})}),()=>{yn(()=>{i&&Ai(t(...i),r)&&e(null,...i)})}}),r}function dr(r){return function(...e){var t=e[0];return t.stopPropagation(),r==null?void 0:r.apply(this,e)}}function Lr(r){return function(...e){var t=e[0];return t.preventDefault(),r==null?void 0:r.apply(this,e)}}function ht(r=!1){const e=Te,t=e.l.u;if(!t)return;let n=()=>Gs(e.s);if(r){let a=0,i={};const s=Ne(()=>{let o=!1;const l=e.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],o=!0);return o&&a++,a});n=()=>v(s)}t.b.length&&Dl(()=>{Ci(e,n),ka(t.b)}),rt(()=>{const a=dt(()=>t.m.map(el));return()=>{for(const i of a)typeof i=="function"&&i()}}),t.a.length&&rt(()=>{Ci(e,n),ka(t.a)})}function Ci(r,e){if(r.l.s)for(const t of r.l.s)v(t);e()}function ta(r,e){var i;var t=(i=r.$$events)==null?void 0:i[e.type],n=Wn(t)?t.slice():t==null?[]:[t];for(var a of n)a.call(this,e)}let En=!1;function Ic(r){var e=En;try{return En=!1,[r(),En]}finally{En=e}}const jc={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function wn(r,e,t){return new Proxy({props:r,exclude:e},jc)}const Oc={get(r,e){if(!r.exclude.includes(e))return v(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,t){return e in r.special||(r.special[e]=H({get[e](){return r.props[e]}},e,_s)),r.special[e](t),ki(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),ki(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function te(r,e){return new Proxy({props:r,exclude:e,special:{},version:et(0)},Oc)}const Lc={get(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(Cr(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n)return n[e]}},set(r,e,t){let n=r.props.length;for(;n--;){let a=r.props[n];Cr(a)&&(a=a());const i=Jt(a,e);if(i&&i.set)return i.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(Cr(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n){const a=Jt(n,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(r,e){if(e===$t||e===ms)return!1;for(let t of r.props)if(Cr(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props){Cr(t)&&(t=t());for(const n in t)e.includes(n)||e.push(n)}return e}};function ne(...r){return new Proxy({props:r},Lc)}function Ii(r){for(var e=Ee,t=Ee;e!==null&&(e.f&(At|Ur))===0;)e=e.parent;try{return ut(e),r()}finally{ut(t)}}function H(r,e,t,n){var $;var a=(t&bl)!==0,i=!qr||(t&yl)!==0,s=(t&_l)!==0,o=(t&wl)!==0,l=!1,c;s?[c,l]=Ic(()=>r[e]):c=r[e];var u=$t in r||ms in r,d=s&&((($=Jt(r,e))==null?void 0:$.set)??(u&&e in r&&(C=>r[e]=C)))||void 0,f=n,h=!0,g=!1,m=()=>(g=!0,h&&(h=!1,o?f=dt(n):f=n),f);c===void 0&&n!==void 0&&(d&&i&&cl(),c=m(),d&&d(c));var p;if(i)p=()=>{var C=r[e];return C===void 0?m():(h=!0,g=!1,C)};else{var b=Ii(()=>(a?Ne:Qn)(()=>r[e]));b.f|=tl,p=()=>{var C=v(b);return C!==void 0&&(f=void 0),C===void 0?f:C}}if((t&_s)===0)return p;if(d){var E=r.$$legacy;return function(C,q){return arguments.length>0?((!i||!q||E||l)&&d(q?p():C),C):p()}}var k=!1,S=!1,y=Ya(c),T=Ii(()=>Ne(()=>{var C=p(),q=v(y);return k?(k=!1,S=!0,q):(S=!1,y.v=C)}));return a||(T.equals=Ga),function(C,q){if(arguments.length>0){const R=q?v(T):i&&s?W(C):C;return T.equals(R)||(k=!0,I(y,R),g&&f!==void 0&&(f=R),dt(()=>v(T))),C}return v(T)}}function Ke(r){Te===null&&Ka(),qr&&Te.l!==null?Nc(Te).m.push(r):rt(()=>{const e=dt(r);if(typeof e=="function")return e})}function Rc(r){Te===null&&Ka(),Ke(()=>()=>dt(r))}function Nc(r){var e=r.l;return e.u??(e.u={a:[],b:[],m:[]})}const Dc="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Dc);gl();const oe={string:"string",number:"number",boolean:"boolean",null:"null",undefined:"undefined",regexp:"regexp",function:"function",object:"object",array:"array",promise:"promise",unknown:"unknown"},fa=r=>r===null?oe.null:r===void 0?oe.undefined:r instanceof RegExp?oe.regexp:typeof r=="string"?oe.string:typeof r=="number"?oe.number:typeof r=="boolean"?oe.boolean:Array.isArray(r)?oe.array:typeof r=="function"?oe.function:typeof r=="object"?oe.object:oe.unknown,Rt=r=>{var e;if(typeof r=="string"){if(r.match(/^[\d.-]+$/))return Number.isNaN(Number.parseFloat(r))?Number.isNaN(Number.parseInt(r))?{identity:oe.string,value:r}:{identity:oe.number,value:Number.parseInt(r)}:{identity:oe.number,value:Number.parseFloat(r)};if(!r.includes(",")&&(r.includes("&")||r.includes("="))){const t=r.split(/[&,]/),n={};for(const a of t){if(!a.includes("="))continue;const[i,s]=a.split("="),o=i.replace(/\[\d*\]$/,""),l=Rt(s);if(i.includes("[")){Array.isArray(n[o])||(n[o]=[]);const c=(e=i.match(/\[(\d+)\]/))==null?void 0:e[1];c?(Array.isArray(n[o])||(n[o]=[]),n[o].push([parseInt(c),l.value])):n[o].push(l.value)}else n[o]=l.value}for(const[a,i]of Object.entries(n))Array.isArray(i)&&i.length>0&&Array.isArray(i[0])&&(n[a]=i.sort((s,o)=>s[0]-o[0]).map(([,s])=>s));return{identity:oe.object,value:n}}else if(r.includes("&")&&r.includes("=")){const t={};for(const n of r.split("&")){if(!n.includes("="))continue;const[a,i]=n.split("=");t[a]=i}return{identity:oe.object,value:t}}else if(r.match(/^[0-9a-z]+\[\d+\]=.+$/)){const[,t,n]=r.match(/^[0-9a-z]+\[(\d+)\]=(.+)$/)||[];if(t!==void 0&&n!==void 0){const a=[],i=Rt(n);return a[parseInt(t,10)]=i.value,{identity:oe.array,value:a}}}else if(r.match(/^[0-9a-z]+\[\]$/))return{identity:oe.array,value:r};return r.match(/^true$/i)?{identity:oe.boolean,value:!0}:r.match(/^false$/i)?{identity:oe.boolean,value:!1}:{identity:oe.string,value:r}}else{if(typeof r=="number")return{identity:oe.number,value:r};if(r instanceof RegExp)return{identity:oe.regexp,value:r};if(typeof r=="boolean")return{identity:oe.boolean,value:r};if(r===null)return{identity:oe.null,value:null};if(r===void 0)return{identity:oe.undefined,value:void 0};if(Array.isArray(r))return{identity:oe.array,value:r};if(typeof r=="object"){const t=Object.entries(r).reduce((n,[a,i])=>{var s;return n[a]=(s=Rt(i))==null?void 0:s.value,n},{});return{identity:oe.object,value:t}}else{if(typeof r=="function")return{identity:oe.function,value:r};if(r instanceof Promise)return{identity:oe.promise,value:r}}}throw new Error(`unable to marshal value: ${r} (it is neither a string, number, boolean, nor a regular expression)`)},ha=["exact-match","base-match","default-match","permitted-no-conditions"];var dn;(function(r){r.any={[oe.string]:(e,t)=>e===t,[oe.number]:(e,t)=>e===t,[oe.boolean]:(e,t)=>e===t,[oe.promise]:(e,t)=>e===t,[oe.function]:(e,t)=>e===t,[oe.null]:(e,t)=>e===t,[oe.undefined]:(e,t)=>e===t,[oe.unknown]:(e,t)=>e===t,[oe.array]:(e,t)=>Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((n,a)=>r.any[fa(n)](n,t[a])),[oe.object]:(e,t)=>{if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(e),a=Object.keys(t);return n.length!==a.length?!1:n.every(i=>r.any[fa(e[i])](e[i],t[i]))},[oe.regexp]:(e,t)=>{const n=e.exec(t);return n?n.groups?Rt(n.groups).value:n.length===1&&n[0]===n.input?!0:Rt(n.slice(1)[0]).value:!1}},r.valid={[oe.string]:e=>e.length>0,[oe.boolean]:e=>e===!1,[oe.number]:e=>!isNaN(e),[oe.array]:e=>Array.isArray(e)&&e.length>0,[oe.object]:e=>{if(typeof e!="object"||e===null)return!0;const t=Object.keys(e);return t.length===0?!0:t.every(a=>{const i=e[a],s=fa(i);return r.valid[s](i)})},[oe.regexp]:e=>e instanceof RegExp,[oe.function]:e=>typeof e=="function",[oe.null]:()=>!1,[oe.undefined]:()=>!1}})(dn||(dn={}));const Dt=(r,e)=>{const t=new URL(r,window.location.origin);e&&Object.entries(e).forEach(([n,a])=>{t.searchParams.set(n,a)}),window.history.pushState({},"",t.toString())};class zn{constructor(e){ge(this,"params",{});ge(this,"original");if(typeof e=="string"&&(this.original=e),e){const t=Rt(e);t.value&&(this.params=t.value)}}get(e,t){return this.params[e]||t}set(e,t){}delete(e){delete this.params[e]}clear(){this.params={}}goto(e){Dt(e,this.params)}test(e){if(typeof e=="object"){const t={};for(const[n,a]of Object.entries(e.params))if(this.params[n]){const i=Rt(this.params[n]);if(a instanceof RegExp){const s=dn.any[oe.regexp](a,this.params[n]);if(s)t[n]=s;else return{condition:"no-match"}}else i.identity===oe.number?i.value===this.params[n]&&(t[n]=i.value):i.identity===oe.string?t[n]=i.value===this.params[n]:i.identity===oe.boolean?t[n]=i.value===!!this.params[n]:i.identity===oe.array&&(t[n]=i.value.includes(this.params[n]))}else return{condition:"no-match"};return Object.keys(t).length===Object.keys(e).length&&dn.valid[oe.object](t)?{condition:"exact-match",matches:Rt(t).value}:{condition:Object.keys(t).length>1&&Object.keys(e).length!==Object.keys(t).length?"exact-match":"no-match",matches:t}}}toString(){const e=t=>Array.isArray(t)?t.map(n=>e(n)).join(","):typeof t=="object"&&t!==null?Object.entries(t).map(([n,a])=>`${n}:${e(a)}`).join(","):encodeURIComponent(t);return Object.entries(this.params).map(([t,n])=>`${encodeURIComponent(t)}=${e(n)}`).join("&")}toJSON(e){return Object.fromEntries(Object.entries(this.params).map(([t,n])=>[t,n.toString()]))}}var qn;(function(r){r.parse=e=>{if(e){const[t,n=""]=e.split("#"),[a,i=""]=n.split("?");return{path:a,query:new zn(i),hash:n}}}})(qn||(qn={}));const Hn=r=>(r&&!r.startsWith("/")&&(r="/"+r),r);var Br;(function(r){r.parse=e=>{if(e===void 0||e.length===0)throw new Error(`invalid URL: ${e}`);if(e.includes("://")){const[n,a]=e.split("://"),i=a.match(/^([^/:]+)(?::(\d+))?(.*)$/),[s,o,l]=(i==null?void 0:i.slice(1))??[],[c,u=""]=(l||"").split("?"),d=qn.parse(e);return{protocol:n,host:s,port:o,path:Hn(c)||"/",query:new zn(u),hash:d}}else{const[n,a=""]=e.split("?"),i=qn.parse(e);return{protocol:window.location.protocol.replace(":",""),host:window.location.hostname,port:window.location.port,path:Hn(n)||"/",query:new zn(a),hash:i}}},r.path=e=>e.split("?")[0]})(Br||(Br={}));const ji=(r,e,t)=>{var a,i,s,o,l,c,u,d,f,h,g,m,p,b,E,k;const n=Br.parse(location.toString());(r.path===n.path||r.path===n.hash.path||r.hash.path===n.path||!((a=e.active)!=null&&a.absolute)&&n.path.startsWith(r.path))&&((i=e.active)!=null&&i.querystring||((s=e.active)==null?void 0:s.querystring)===void 0)&&(r.query.original==""||r.query.original===location.search.replace("?","")||r.query.original===n.hash.query.original)?(Array.isArray((o=e.active)==null?void 0:o.class)?t.classList.add(...(l=e.active)==null?void 0:l.class):t.classList.add((c=e.active)==null?void 0:c.class),(u=e.default)!=null&&u.class&&t.classList.remove(...(d=e.default)==null?void 0:d.class)):Array.isArray((f=e.active)==null?void 0:f.class)?(t.classList.remove(...(h=e.active)==null?void 0:h.class),(g=e.default)!=null&&g.class&&t.classList.add(...(m=e.default)==null?void 0:m.class)):((p=e.active)!=null&&p.class&&t.classList.remove((b=e.active)==null?void 0:b.class),(E=e.default)!=null&&E.class&&t.classList.add(...(k=e.default)==null?void 0:k.class))},ot=(r,e={})=>{let t=Br.parse(r.href);const n=()=>{ji(t,e,r)},a=i=>{i.preventDefault(),window.history.pushState({},"",r.href),ji(t,e,r)};return n(),r.addEventListener("click",a),window.addEventListener("pushState",n),{destroy(){r.removeEventListener("click",a),window.removeEventListener("pushState",n)}}};var gt;(function(r){r.config=e=>{var t,n,a;return{tracing:(e==null?void 0:e.tracing)||void 0||!1,logging:{level:((t=e==null?void 0:e.logging)==null?void 0:t.level)||void 0||4,console:((n=e==null?void 0:e.logging)==null?void 0:n.console)||void 0,sink:((a=e==null?void 0:e.logging)==null?void 0:a.sink)||void 0}}},r.current=r.config()})(gt||(gt={}));var fn;(function(r){let e;(function(t){t[t.FATAL=-1]="FATAL",t[t.ERROR=1]="ERROR",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.TRACE=4]="TRACE",t[t.DISABLED=5]="DISABLED"})(e=r.LogLevel||(r.LogLevel={})),r.info=(...t)=>{r.log(e.INFO,...t)},r.debug=(...t)=>{r.log(e.DEBUG,...t)},r.error=(...t)=>{r.log(e.ERROR,...t)},r.trace=(...t)=>{r.log(e.TRACE,...t)},r.fatal=(...t)=>{throw r.log(e.FATAL,...t),new Error("Fatal error")},r.log=(t,...n)=>{t<=gt.current.logging.level&&t!==e.DISABLED&&(gt.current.logging.console&&(n.some(a=>a==null?void 0:a.toConsole)?n.forEach(a=>{var i;return(i=a==null?void 0:a.toConsole)==null?void 0:i.call(a,gt.current.logging.level)}):gt.current.logging.console&&console.log(...n)),gt.current.logging.sink&&gt.current.logging.sink(n))}})(fn||(fn={}));function Mc(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}const Oi=async r=>Mc(r)?await r():r();var lt,Nr,Ln;class ni extends Map{constructor(){super(...arguments);er(this,Nr);er(this,lt,ie(!1))}get size(){return v(Fe(this,lt)),super.size}add(t,n){if(this.has(t))throw new Error(`key ${t} already exists`);return this.set(t,n)}get(t){return v(Fe(this,lt)),super.get(t)}set(t,n){const a=super.set(t,n);return $n(this,Nr,Ln).call(this),a}delete(t){const n=super.delete(t);return n&&$n(this,Nr,Ln).call(this),n}clear(){const t=super.clear();return $n(this,Nr,Ln).call(this),t}keys(){return v(Fe(this,lt)),super.keys()}values(){return v(Fe(this,lt)),super.values()}entries(){return v(Fe(this,lt)),super.entries()}forEach(t){return v(Fe(this,lt)),super.forEach(t)}[Symbol.iterator](){return v(Fe(this,lt)),super[Symbol.iterator]()}}lt=new WeakMap,Nr=new WeakSet,Ln=function(){I(Fe(this,lt),!v(Fe(this,lt)))};var vn;class Bc{constructor(e,t){ge(this,"prefix");ge(this,"id");ge(this,"date");ge(this,"name");ge(this,"description");ge(this,"metadata");er(this,vn,ie(W(new ni)));this.prefix=t,this.name=e.name,this.id=e.id||Math.random().toString(36).substring(2,25),this.description=e.description,this.metadata=e.metadata,this.date=e.date||new Date}get traces(){return v(Fe(this,vn))}set traces(e){I(Fe(this,vn),W(e))}trace(e,t){const n=e.id||Math.random().toString(36).substring(2,25);return e=new Fc(e,this.traces.size+1,this,t),this.traces.set(n,e),fn.trace(t,e),e}get(){return this.traces.values()}}vn=new WeakMap;class Fc{constructor(e,t,n,a){ge(this,"prefix");ge(this,"id");ge(this,"index");ge(this,"date");ge(this,"name");ge(this,"description");ge(this,"metadata");ge(this,"span");this.id=e.id||Math.random().toString(36).substring(2,25),this.index=t,this.date=e.date||new Date,this.name=e.name,this.description=e.description,this.metadata=e.metadata,this.span=n,this.prefix=e.prefix}toConsole(e){var n,a,i;const t=["%c%s %cspan:%c%s:%ctrace:%c%s%c:%c%s %c%s","color: #505050",(n=this.date)==null?void 0:n.toISOString(),"color: #7A7A7A","color: #915CF2; font-weight: bold",((a=this.span)==null?void 0:a.name)||this.id,"color: #7A7A7A; font-weight: bold","color: #C3F53B; font-weight: bold",this.index,"color: #7A7A7A; font-weight: bold","color: #3BAEF5; font-weight: bold",`${(i=this.metadata)!=null&&i.router?`[${this.metadata.router.id}] `:""}${this.name}`,"color: #06E96C",this.description];this.prefix&&(t[0]=`${this.prefix} %c%s %cspan:%c%s:%ctrace:%c%s%c:%c%s %c%s`),gt.current.tracing.level===fn.LogLevel.TRACE?(t[0]+=`
%c%s`,t.push("color: #6B757F",`attached trace metadata:

${JSON.stringify({span:this.span.metadata,trace:this.metadata},null,2)}`)):gt.current.tracing.level===fn.LogLevel.DEBUG&&(this.span&&t.push(this.span.metadata),this.metadata&&t.push(this.metadata)),console.log(...t)}}const Uc=new ni,to=(r,e)=>{if(gt.current.tracing){const t=new Bc({name:r,metadata:e});return Uc.set(r,t),t}};var Aa;(function(r){r.base=(e,t)=>t.match(new RegExp(`^${e}(/|$)`))!==null})(Aa||(Aa={}));var Vn;(function(r){r.from=e=>{if(typeof e=="string")return new RegExp(e);if(e instanceof RegExp)return new RegExp(e.source);throw new Error("invalid regexp expression")},r.can=e=>/[[\]{}()*+?.,\\^$|#\s]|\\[wWdDsS]|\(\?[:!=<]?/.test(e)})(Vn||(Vn={}));class va{constructor(e){ge(this,"router");ge(this,"route");ge(this,"result");this.router=e.router,this.route=e.route,this.result=e.result}absolute(e=this.router.config.basePath){return e?`${e}${this.result.path.original}`:this.result.path.original}toString(){return`${this.absolute()}${this.result.querystring.original?`?${this.result.querystring.original}`:""}`}}var gn;const hi=class hi{constructor(e){ge(this,"name");ge(this,"basePath");ge(this,"path");ge(this,"querystring");ge(this,"component");ge(this,"props");ge(this,"hooks");ge(this,"children");ge(this,"status");er(this,gn,ie(W([])));var t;this.name=e.name,this.basePath=e.basePath,this.path=typeof e.path=="string"?Hn(e.path):e.path,e.querystring&&(this.querystring=new zn(e.querystring)),this.component=e.component,this.props=e.props,this.hooks=e.hooks,this.status=e.status,this.children=(t=e.children)==null?void 0:t.map(n=>new hi(n))}get traces(){return v(Fe(this,gn))}set traces(e){I(Fe(this,gn),W(e))}test(e){const t=Br.path(e.toString());if(typeof this.path=="string")if(Vn.can(this.path)){const n=Vn.from(this.path).exec(t);if(n)return{condition:"exact-match",params:n.groups}}else{if(this.path===t)return{condition:"exact-match",params:this.path};if(Aa.base(this.path,t))return{condition:"base-match",params:{}}}else if(this.path instanceof RegExp){const n=dn.any[oe.regexp](this.path,t);if(n)return{condition:"exact-match",params:n}}else if(typeof this.path=="number"&&this.path===Rt(t).value)throw new Error("numbered route match not supported at the route.path level");return{condition:"no-match",params:{}}}absolute(){return this.basePath?`${this.basePath}${this.path}`:this.path.toString()}};gn=new WeakMap;let Ca=hi;class zc{constructor(e){ge(this,"id");ge(this,"basePath");ge(this,"routes");ge(this,"hooks");ge(this,"initialPath");ge(this,"notFoundComponent");ge(this,"children");ge(this,"statuses");ge(this,"renavigation");this.id=e.id||Math.random().toString(36).substring(2,15),this.basePath=e.basePath,this.hooks=e.hooks,this.initialPath=e.initialPath,this.notFoundComponent=e.notFoundComponent,this.statuses=e.statuses,this.routes=e.routes}}var Ht;(function(r){r[r.OK=200]="OK",r[r.PermanentRedirect=301]="PermanentRedirect",r[r.TemporaryRedirect=302]="TemporaryRedirect",r[r.BadRequest=400]="BadRequest",r[r.Unauthorized=401]="Unauthorized",r[r.Forbidden=403]="Forbidden",r[r.NotFound=404]="NotFound",r[r.InternalServerError=500]="InternalServerError"})(Ht||(Ht={}));var pn,mn;class qc{constructor(e,t){ge(this,"id");ge(this,"routes",new Set);ge(this,"handlers");ge(this,"config");ge(this,"applyFn");er(this,pn,ie(!1));er(this,mn,ie());this.id=e.id||Math.random().toString(36).substring(2,15),this.config=e,this.applyFn=t,this.handlers={pushStateHandler:()=>this.handleStateChange(location.toString()),replaceStateHandler:()=>this.handleStateChange(location.toString()),popStateHandler:()=>this.handleStateChange(location.toString()),hashChangeHandler:()=>this.handleStateChange(location.toString())},window.addEventListener("pushState",this.handlers.pushStateHandler),window.addEventListener("replaceState",this.handlers.replaceStateHandler),window.addEventListener("popstate",this.handlers.popStateHandler),window.addEventListener("hashchange",this.handlers.hashChangeHandler);for(let n of e.routes)this.routes.add(new Ca({...n,basePath:n.basePath||this.config.basePath}))}get navigating(){return v(Fe(this,pn))}set navigating(e){I(Fe(this,pn),W(e))}get current(){return v(Fe(this,mn))}set current(e){I(Fe(this,mn),W(e))}async handleStateChange(e,t){var s,o,l,c,u,d;const{path:n,query:a}=Br.parse(e);this.navigating=!0,t||(t=to("detected history change event")),t==null||t.trace({prefix:"",name:"router-instance.handleStateChange",description:`attempting to handle a new state change for path "${n}"`,metadata:{router:{id:this.config.id,basePath:this.config.basePath},location:"/src/lib/router-instance.svelte:handleStateChange()",basePath:this.config.basePath,path:n,query:a,url:e}});const i=await this.get(n,a,t);if(i&&ha.includes(i.result.path.condition)){if(t==null||t.trace({prefix:"",name:"router-instance.handleStateChange",description:`route found for path "${n}"`,metadata:{location:"/src/lib/router-instance.svelte:handleStateChange()",router:{id:this.config.id,basePath:this.config.basePath},path:n,query:(a==null?void 0:a.params)||!1,route:i,url:e}}),(s=this.config.hooks)!=null&&s.pre&&!await this.evaluateHooks(i,this.config.hooks.pre)){this.navigating=!1;return}if((l=(o=i.route)==null?void 0:o.hooks)!=null&&l.pre&&!await this.evaluateHooks(i,i.route.hooks.pre)){this.navigating=!1;return}if(this.applyFn(i,t),i&&((u=(c=i.route)==null?void 0:c.hooks)!=null&&u.post)&&!await this.evaluateHooks(i,i.route.hooks.post)){this.navigating=!1;return}(d=this.config.hooks)!=null&&d.post&&await this.evaluateHooks(i,this.config.hooks.post),this.current=i}this.navigating=!1}async evaluateHooks(e,t){if(Array.isArray(t))for(const n of t){if(!await Oi(()=>n(e)))return!1;await new Promise(a=>setTimeout(a,50))}else if(!await Oi(()=>t(e)))return!1;return!0}async get(e,t,n){var o;e=e.replace("/#","");const a=Hn(e.replace(this.config.basePath||"/","")),i=l=>{const c=Array.from(this.routes).find(u=>!u.path||u.path===""||u.path==="/");if(n==null||n.trace({prefix:c?"":"",name:"router-instance.getDefaultRoute",description:`get default route because "${l}"`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,route:c}}),c)return new va({router:this,route:c,result:{path:{condition:"default-match",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},component:c.component,status:Ht.OK}})};if(n==null||n.trace({prefix:"",name:"router-instance.get",description:`${this.config.id} with base path "${this.config.basePath||"/"}" is attempting to get a route for path "${e}"`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a}}),this.config.basePath===e)return i("base path is the same as the path");let s;for(const l of this.routes){const c=l.test(a);if(c&&ha.includes(c.condition))if(n==null||n.trace({prefix:"",name:"router-instance.get:routesloop",description:`${c.condition} for inbound path "${e}"${l.name?` (named: "${l.name}")`:""}`,metadata:{location:"/src/lib/router-instance.svelte:get():forloop",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,route:l,evaluation:{path:c}}}),l.querystring&&t){const u=t.test(l.querystring);ha.includes(u==null?void 0:u.condition)&&(n==null||n.trace({prefix:"",name:"router-instance.get.evaluateQuery",description:`${u==null?void 0:u.condition} evaluating querystring "${t==null?void 0:t.toString()}" for the route "${e}"${l.name?` (named: "${l.name}")`:""}`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,evaluation:{path:c,querystring:u}}}),s=new va({router:this,route:l,result:{path:{...c,original:a},querystring:{...u,original:t.toJSON()},component:l.component,status:Ht.OK}}))}else s=new va({router:this,route:l,result:{path:{...c,original:a},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},component:l.component,status:Ht.OK}})}if(e==="/")return i("no routes match, last resort is to find a default route");if(!s&&((o=this.config.statuses)!=null&&o[404])){const l=this.config.statuses[404];return typeof l=="function"?{result:{...l({router:this,result:{path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Ht.NotFound}},n),path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Ht.NotFound},router:this}:{result:{...l,path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Ht.NotFound},router:this}}return s}deregister(e){window.removeEventListener("pushState",this.handlers.pushStateHandler),window.removeEventListener("replaceState",this.handlers.replaceStateHandler),window.removeEventListener("popstate",this.handlers.popStateHandler),window.removeEventListener("hashchange",this.handlers.hashChangeHandler),ro.deregister(this.config.id,e)}}pn=new WeakMap,mn=new WeakMap;class Hc{constructor(){ge(this,"instances",new ni);if(window.__SVELTE_SPA_ROUTER_REGISTERED__)return window.__SVELTE_SPA_ROUTER_REGISTERED__;window.__SVELTE_SPA_ROUTER_REGISTERED__=this;const{pushState:e,replaceState:t}=window.history;window.history.pushState=function(...n){e.apply(window.history,n),window.dispatchEvent(new Event("pushState"))},window.history.replaceState=function(...n){t.apply(window.history,n),window.dispatchEvent(new Event("replaceState"))}}register(e,t,n){if(this.instances.has(e.id))throw new Error(`router instance with id ${e.id} already registered`);const a=new qc(e,t);return n&&n.trace({prefix:"",name:"registry.register",description:"registering a new router instance",metadata:{router:{id:e.id,basePath:e.basePath},location:"/src/lib/registry.svelte:register()",config:e}}),this.instances.set(e.id,a),a}deregister(e,t){const n=this.instances.get(e);if(t&&t.trace({prefix:n?"":"",name:"registry.deregister",description:"deregistering a router instance",metadata:{router:{id:e,basePath:n.config.basePath},location:"/src/lib/registry.svelte:deregister()",config:n.config}}),n)this.instances.delete(e);else throw new Error(`router instance with id ${e} not found`)}get(e){return this.instances.get(e)}}const ro=window.__SVELTE_SPA_ROUTER_REGISTRY__||new Hc;function Vc(r,e){de(e,!0);let t=H(e,"instance",15),n=wn(e,["$$slots","$$events","$$legacy","instance"]);const a=to(e.id?`[${e.id}]`:"router");let i=ie(null),s,o=ie(void 0);const l=async(d,f)=>{if(I(o,W(d)),f==null||f.trace({prefix:"",name:"apply",description:`<Router${s.config.id?` id="${s.config.id}"`:""}/> applying route ${d.result.path.original} (${d.result.path.condition})`,metadata:{location:"/src/lib/router.svelte:apply()",router:{id:s.config.id,basePath:s.config.basePath},result:d}}),typeof d.result.component=="function"&&d.result.component.constructor.name==="AsyncFunction"){const h=await d.result.component();I(i,W(h.default||h))}else I(i,W(d.result.component))};s=ro.register(new zc(n),l,a),a==null||a.trace({prefix:"",name:"<Router/> Component",description:"new component mounted",metadata:{router:{id:s.config.id,basePath:s.config.basePath},location:"/src/lib/router.svelte:mount()"}}),t(s),a&&(a.metadata={router:s.config.id}),s.handleStateChange(location.toString(),a),Rc(()=>{s.deregister(a)});var c=G(),u=N(c);mr(u,()=>v(i),(d,f)=>{f(d,{get route(){return v(o)}})}),_(r,c),fe()}const Gc="modulepreload",Wc=function(r){return"/"+r},Li={},fr=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let s=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=s(t.map(c=>{if(c=Wc(c),c in Li)return;Li[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Gc,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},Jc=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>fr(async()=>{const{default:n}=await Promise.resolve().then(()=>Jr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class ai extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Kc extends ai{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yc extends ai{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Qc extends ai{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ia;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Ia||(Ia={}));var Xc=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Zc{constructor(e,{headers:t={},customFetch:n,region:a=Ia.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=Jc(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Xc(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(o["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:c}).catch(g=>{throw new Kc(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Yc(u);if(!u.ok)throw new Qc(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(a){return{data:null,error:a}}})}}function no(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function eu(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var Ue={},xr={},kr={},$r={},Sr={},Er={},tu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fr=tu();const ru=Fr.fetch,ao=Fr.fetch.bind(Fr),io=Fr.Headers,nu=Fr.Request,au=Fr.Response,Jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:io,Request:nu,Response:au,default:ao,fetch:ru},Symbol.toStringTag,{value:"Module"})),iu=eu(Jr);var Tn={},Ri;function so(){if(Ri)return Tn;Ri=1,Object.defineProperty(Tn,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Tn.default=r,Tn}var Ni;function oo(){if(Ni)return Er;Ni=1;var r=Er&&Er.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Er,"__esModule",{value:!0});const e=r(iu),t=r(so());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f;let h=null,g=null,m=null,p=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const y=await c.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=y:g=JSON.parse(y))}const k=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");k&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,p=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const k=await c.text();try{h=JSON.parse(k),Array.isArray(h)&&c.status===404&&(g=[],h=null,p=200,b="OK")}catch{c.status===404&&k===""?(p=204,b="No Content"):h={message:k}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,p=200,b="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:g,count:m,status:p,statusText:b}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,s)}returns(){return this}overrideTypes(){return this}}return Er.default=n,Er}var Di;function lo(){if(Di)return Sr;Di=1;var r=Sr&&Sr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sr,"__esModule",{value:!0});const e=r(oo());class t extends e.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const d=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`,c==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Sr.default=t,Sr}var Mi;function ii(){if(Mi)return $r;Mi=1;var r=$r&&$r.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($r,"__esModule",{value:!0});const e=r(lo());class t extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${l}fts${c}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return $r.default=t,$r}var Bi;function co(){if(Bi)return kr;Bi=1;var r=kr&&kr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(kr,"__esModule",{value:!0});const e=r(ii());class t{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=i,this.schema=s,this.fetch=o}select(a,{head:i=!1,count:s}={}){const o=i?"HEAD":"GET";let l=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),s&&(this.headers.Prefer=`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:s=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(a)){const c=a.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(a)){const d=a.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const s="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",s=[];return a&&s.push(`count=${a}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return kr.default=t,kr}var Kr={},Yr={},Fi;function su(){return Fi||(Fi=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.version=void 0,Yr.version="0.0.0-automated"),Yr}var Ui;function ou(){if(Ui)return Kr;Ui=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.DEFAULT_HEADERS=void 0;const r=su();return Kr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Kr}var zi;function lu(){if(zi)return xr;zi=1;var r=xr&&xr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xr,"__esModule",{value:!0});const e=r(co()),t=r(ii()),n=ou();class a{constructor(s,{headers:o={},schema:l,fetch:c}={}){this.url=s,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),o),this.schemaName=l,this.fetch=c}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:l=!1,get:c=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${s}`);let h;l||c?(d=l?"HEAD":"GET",Object.entries(o).filter(([m,p])=>p!==void 0).map(([m,p])=>[m,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([m,p])=>{f.searchParams.append(m,p)})):(d="POST",h=o);const g=Object.assign({},this.headers);return u&&(g.Prefer=`count=${u}`),new t.default({method:d,url:f,headers:g,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return xr.default=a,xr}var qi;function cu(){if(qi)return Ue;qi=1;var r=Ue&&Ue.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.PostgrestError=Ue.PostgrestBuilder=Ue.PostgrestTransformBuilder=Ue.PostgrestFilterBuilder=Ue.PostgrestQueryBuilder=Ue.PostgrestClient=void 0;const e=r(lu());Ue.PostgrestClient=e.default;const t=r(co());Ue.PostgrestQueryBuilder=t.default;const n=r(ii());Ue.PostgrestFilterBuilder=n.default;const a=r(lo());Ue.PostgrestTransformBuilder=a.default;const i=r(oo());Ue.PostgrestBuilder=i.default;const s=r(so());return Ue.PostgrestError=s.default,Ue.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},Ue}var uu=cu();const du=no(uu),{PostgrestClient:fu,PostgrestQueryBuilder:Im,PostgrestFilterBuilder:jm,PostgrestTransformBuilder:Om,PostgrestBuilder:Lm,PostgrestError:Rm}=du,hu="2.11.2",vu={"X-Client-Info":`realtime-js/${hu}`},gu="1.0.0",uo=1e4,pu=1e3;var Rr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Rr||(Rr={}));var at;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(at||(at={}));var vt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(vt||(vt={}));var ja;(function(r){r.websocket="websocket"})(ja||(ja={}));var sr;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(sr||(sr={}));class mu{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const a=t.getUint8(1),i=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+a));s=s+a;const l=n.decode(e.slice(s,s+i));s=s+i;const c=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class fo{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Oe||(Oe={}));const Hi=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=bu(s,r,e,a),i),{})},bu=(r,e,t,n)=>{const a=e.find(o=>o.name===r),i=a==null?void 0:a.type,s=t[r];return i&&!n.includes(i)?ho(i,s):Oa(s)},ho=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return xu(e,t)}switch(r){case Oe.bool:return yu(e);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return _u(e);case Oe.json:case Oe.jsonb:return wu(e);case Oe.timestamp:return ku(e);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Oa(e);default:return Oa(e)}},Oa=r=>r,yu=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},_u=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},wu=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},xu=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const s=r.slice(1,t);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>ho(e,o))}return r},ku=r=>typeof r=="string"?r.replace(" ","T"):r,vo=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ga{constructor(e,t,n={},a=uo){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vi;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Vi||(Vi={}));class rn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rn.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=rn.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=rn.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const i=this.cloneDeep(e),s=this.transformState(t),o={},l={};return this.map(i,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=i[c];if(d){const f=u.map(p=>p.presence_ref),h=d.map(p=>p.presence_ref),g=u.filter(p=>h.indexOf(p.presence_ref)<0),m=d.filter(p=>f.indexOf(p.presence_ref)<0);g.length>0&&(o[c]=g),m.length>0&&(l[c]=m)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(e,t,n,a){const{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[o].unshift(...f)}n(o,u,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,a(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gi;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Gi||(Gi={}));var Wi;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Wi||(Wi={}));var It;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(It||(It={}));class si{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ga(this,vt.join,this.params,this.timeout),this.rejoinTimer=new fo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new rn(this),this.broadcastEndpointURL=vo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(u=>e==null?void 0:e(It.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(It.CLOSED));const l={},c={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(It.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,g=[];for(let m=0;m<h;m++){const p=f[m],{filter:{event:b,schema:E,table:k,filter:S}}=p,y=u&&u[m];if(y&&y.event===b&&y.schema===E&&y.table===k&&y.filter===S)g.push(Object.assign(Object.assign({},p),{id:y.id}));else{this.unsubscribe(),e==null||e(It.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(It.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(It.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(It.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new ga(this,vt.leave,{},e);a.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(i),s}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ga(this,e,t,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,i;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=vt;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let f=this._onMessage(s,t,n);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var g,m,p;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((p=(m=h.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===s}).map(h=>h.callback(f,n)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var g,m,p,b,E,k;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const S=h.id,y=(g=h.filter)===null||g===void 0?void 0:g.event;return S&&((m=t.ids)===null||m===void 0?void 0:m.includes(S))&&(y==="*"||(y==null?void 0:y.toLocaleLowerCase())===((p=t.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const S=(E=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return S==="*"||S===((k=t==null?void 0:t.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:p,commit_timestamp:b,type:E,errors:k}=g;f=Object.assign(Object.assign({},{schema:m,table:p,commit_timestamp:b,eventType:E,new:{},old:{},errors:k}),this._getPayloadRecords(g))}h.callback(f,n)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),i={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&si.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vt.close,{},e)}_onError(e){this._on(vt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Hi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Hi(e.columns,e.old_record)),t}}const $u=()=>{},Su=typeof WebSocket<"u",Eu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tu{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=vu,this.params={},this.timeout=uo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$u,this.conn=null,this.sendBuffer=[],this.serializer=new mu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>fr(async()=>{const{default:l}=await Promise.resolve().then(()=>Jr);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${ja.websocket}`,this.httpEndpoint=vo(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,s)=>s(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Su){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Pu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),fr(async()=>{const{default:e}=await import("./browser-DPIMLRAB.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gu}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Rr.connecting:return sr.Connecting;case Rr.open:return sr.Open;case Rr.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}channel(e,t={config:{}}){const n=new si(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(a=>{t&&a.updateJoinPayload({access_token:t}),a.joinedOnce&&a._isJoined()&&a._push(vt.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(pu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:a,payload:i,ref:s}=t;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(vt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Eu],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class Pu{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Rr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class oi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ze(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Au extends oi{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class La extends oi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Cu=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const go=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>fr(async()=>{const{default:n}=await Promise.resolve().then(()=>Jr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Iu=()=>Cu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fr(()=>Promise.resolve().then(()=>Jr),void 0)).Response:Response}),Ra=r=>{if(Array.isArray(r))return r.map(t=>Ra(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Ra(n)}),e};var br=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const pa=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ju=(r,e,t)=>br(void 0,void 0,void 0,function*(){const n=yield Iu();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(a=>{e(new Au(pa(a),r.status||500))}).catch(a=>{e(new La(pa(a),a))}):e(new La(pa(r),r))}),Ou=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),t))};function xn(r,e,t,n,a,i){return br(this,void 0,void 0,function*(){return new Promise((s,o)=>{r(t,Ou(e,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>ju(l,o,n))})})}function Gn(r,e,t,n){return br(this,void 0,void 0,function*(){return xn(r,"GET",e,t,n)})}function Vt(r,e,t,n,a){return br(this,void 0,void 0,function*(){return xn(r,"POST",e,n,a,t)})}function Lu(r,e,t,n,a){return br(this,void 0,void 0,function*(){return xn(r,"PUT",e,n,a,t)})}function Ru(r,e,t,n){return br(this,void 0,void 0,function*(){return xn(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function po(r,e,t,n,a){return br(this,void 0,void 0,function*(){return xn(r,"DELETE",e,n,a,t)})}var Ze=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Nu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ji={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Du{constructor(e,t={},n,a){this.url=e,this.headers=t,this.bucketId=n,this.fetch=go(a)}uploadOrUpdate(e,t,n,a){return Ze(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Ji),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ze(i))return{data:null,error:i};throw i}})}upload(e,t,n){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return Ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Ji.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ze(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Ze(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=yield Vt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new oi("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}update(e,t,n){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Ze(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ze(a))return{data:null,error:a};throw a}})}copy(e,t,n){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ze(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return Ze(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Vt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(ze(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return Ze(this,void 0,void 0,function*(){try{const a=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(ze(a))return{data:null,error:a};throw a}})}download(e,t){return Ze(this,void 0,void 0,function*(){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Gn(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ze(o))return{data:null,error:o};throw o}})}info(e){return Ze(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Gn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ra(n),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}exists(e){return Ze(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Ru(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ze(n)&&n instanceof La){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&a.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return Ze(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ze(t))return{data:null,error:t};throw t}})}list(e,t,n){return Ze(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Nu),t),{prefix:e||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(ze(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Mu="2.7.1",Bu={"X-Client-Info":`storage-js/${Mu}`};var Tr=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Fu{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Bu),t),this.fetch=go(n)}listBuckets(){return Tr(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ze(e))return{data:null,error:e};throw e}})}getBucket(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ze(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Tr(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Tr(this,void 0,void 0,function*(){try{return{data:yield Lu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ze(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ze(t))return{data:null,error:t};throw t}})}}class Uu extends Fu{constructor(e,t={},n){super(e,t,n)}from(e){return new Du(this.url,this.headers,e,this.fetch)}}const zu="2.49.8";let en="";typeof Deno<"u"?en="deno":typeof document<"u"?en="web":typeof navigator<"u"&&navigator.product==="ReactNative"?en="react-native":en="node";const qu={"X-Client-Info":`supabase-js-${en}/${zu}`},Hu={headers:qu},Vu={schema:"public"},Gu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wu={};var Ju=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Ku=r=>{let e;return r?e=r:typeof fetch>"u"?e=ao:e=fetch,(...t)=>e(...t)},Yu=()=>typeof Headers>"u"?io:Headers,Qu=(r,e,t)=>{const n=Ku(t),a=Yu();return(i,s)=>Ju(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:c}))})};var Xu=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};function Zu(r){return r.endsWith("/")?r:r+"/"}function ed(r,e){var t,n;const{db:a,auth:i,realtime:s,global:o}=r,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(t=d==null?void 0:d.headers)!==null&&t!==void 0?t:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Xu(this,void 0,void 0,function*(){return""})};return r.accessToken?f.accessToken=r.accessToken:delete f.accessToken,f}const mo="2.69.1",Ir=30*1e3,Na=3,ma=Na*Ir,td="http://localhost:9999",rd="supabase.auth.token",nd={"X-Client-Info":`gotrue-js/${mo}`},Da="X-Supabase-Api-Version",bo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ad=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,id=6e5;class li extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function me(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class sd extends li{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function od(r){return me(r)&&r.name==="AuthApiError"}class yo extends li{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Qt extends li{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class Ut extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ld(r){return me(r)&&r.name==="AuthSessionMissingError"}class ba extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pn extends Qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class An extends Qt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cd(r){return me(r)&&r.name==="AuthImplicitGrantRedirectError"}class Ki extends Qt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ma extends Qt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ya(r){return me(r)&&r.name==="AuthRetryableFetchError"}class Yi extends Qt{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class nn extends Qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xi=` 	
\r=`.split(""),ud=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Xi.length;e+=1)r[Xi[e].charCodeAt(0)]=-2;for(let e=0;e<Qi.length;e+=1)r[Qi[e].charCodeAt(0)]=e;return r})();function _o(r,e,t){const n=ud[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Zi(r){const e=[],t=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{hd(s,n,t)};for(let s=0;s<r.length;s+=1)_o(r.charCodeAt(s),a,i);return e.join("")}function dd(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function fd(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}dd(n,e)}}function hd(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function vd(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)_o(r.charCodeAt(a),t,n);return new Uint8Array(e)}function gd(r){const e=[];return fd(r,t=>e.push(t)),new Uint8Array(e)}function pd(r){return Math.round(Date.now()/1e3)+r}function md(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const _t=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},an=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function bd(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const wo=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>fr(async()=>{const{default:n}=await Promise.resolve().then(()=>Jr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},yd=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",xo=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Cn=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},In=async(r,e)=>{await r.removeItem(e)};class ra{constructor(){this.promise=new ra.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ra.promiseConstructor=Promise;function _a(r){const e=r.split(".");if(e.length!==3)throw new nn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!ad.test(e[n]))throw new nn("JWT not in base64url format");return{header:JSON.parse(Zi(e[0])),payload:JSON.parse(Zi(e[1])),signature:vd(e[2]),raw:{header:e[0],payload:e[1]}}}async function _d(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function wd(r,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await r(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function xd(r){return("0"+r.toString(16)).substr(-2)}function kd(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let i=0;i<56;i++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,xd).join("")}async function $d(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Sd(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await $d(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(r,e,t=!1){const n=kd();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await xo(r,`${e}-code-verifier`,a);const i=await Sd(n);return[i,n===i?"plain":"s256"]}const Ed=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Td(r){const e=r.headers.get(Da);if(!e||!e.match(Ed))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Pd(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Ad(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Cd=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const nr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Id=[502,503,504];async function es(r){var e;if(!yd(r))throw new Ma(nr(r),0);if(Id.includes(r.status))throw new Ma(nr(r),r.status);let t;try{t=await r.json()}catch(i){throw new yo(nr(i),i)}let n;const a=Td(r);if(a&&a.getTime()>=bo["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Yi(nr(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ut}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Yi(nr(t),r.status,t.weak_password.reasons);throw new sd(nr(t),r.status||500,n)}const jd=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function we(r,e,t,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Da]||(i[Da]=bo["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Od(r,e,t+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Od(r,e,t,n,a,i){const s=jd(e,n,a,i);let o;try{o=await r(t,Object.assign({},s))}catch(l){throw console.error(l),new Ma(nr(l),0)}if(o.ok||await es(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await es(l)}}function zt(r){var e;let t=null;Dd(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=pd(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function ts(r){const e=zt(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Gt(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Ld(r){return{data:r,error:null}}function Rd(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:i}=r,s=Cd(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function Nd(r){return r}function Dd(r){return r.access_token&&r.refresh_token&&r.expires_in}var Md=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};class Bd{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=wo(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Gt})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Md(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Rd,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(me(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gt})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Nd});if(u.error)throw u.error;const d=await u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(g.split(";")[1].split("=")[1]);c[`${p}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(me(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gt})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Gt})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Gt})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}}const Fd={getItem:r=>an()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{an()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{an()&&globalThis.localStorage.removeItem(r)}};function rs(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Ud(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ar={debug:!!(globalThis&&an()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ko extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zd extends ko{}async function qd(r,e,t){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new zd(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ar.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Ud();const Hd={url:td,storageKey:rd,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ns(r,e,t){return await t()}class hn{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hn.nextInstanceID,hn.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Hd),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Bd({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=wo(a.fetch),this.lock=a.lock||ns,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:_t()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=qd:this.lock=ns,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:an()?this.storage=Fd:(this.memoryStorage={},this.storage=rs(this.memoryStorage)):(this.memoryStorage={},this.storage=rs(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=bd(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),_t()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),cd(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return me(t)?{error:t}:{error:new yo("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:zt}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,a;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Pr(this.storage,this.storageKey)),i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:g},xform:zt})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zt})}else throw new Pn("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:s,options:o}=e;t=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ts})}else if("phone"in e){const{phone:i,password:s,options:o}=e;t=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ts})}else throw new Pn("You must provide either an email or phone number and a password");const{data:n,error:a}=t;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ba}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Cn(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{const{data:i,error:s}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:zt});if(await In(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ba}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(me(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:i,nonce:s}=e,o=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:zt}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ba}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,a,i,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Pr(this.storage,this.storageKey));const{error:d}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Pn("You must provide either an email or phone number.")}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let a,i;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:zt});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Pr(this.storage,this.storageKey)),await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Ld})}catch(i){if(me(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Ut;const{error:a}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await we(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:o}=await we(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new Pn("You must provide either an email or phone number and a type")}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ma:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gt}):await this._useSession(async t=>{var n,a,i;const{data:s,error:o}=t;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Gt})})}catch(t){if(me(t))return ld(t)&&(await this._removeSession(),await In(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ut;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Pr(this.storage,this.storageKey));const{data:c,error:u}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Gt});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ut;const t=Date.now()/1e3;let n=t,a=!0,i=null;const{payload:s}=_a(e.access_token);if(s.exp&&(n=s.exp,a=n<=t),a){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(me(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:s,error:o}=t;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ut;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!_t())throw new An("No browser detected.");if(e.error||e.error_description||e.error_code)throw new An(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ki("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new An("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ki("No code detected.");const{data:E,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!s||!c)throw new An("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=Ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:p}=await this._getUser(i);if(p)throw p;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:d,expires_at:f,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Cn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:i}=t;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(od(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await In(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=md(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:i},error:s}=t;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Pr(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(me(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,c,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return _t()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(me(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:i,error:s}=t;if(s)throw s;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await wd(async a=>(a>0&&await _d(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zt})),(a,i)=>{const s=200*Math.pow(2,a);return i&&ya(i)&&Date.now()+s-n<Ir})}catch(n){if(this._debug(t,"error",n),me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),_t()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Cn(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ma;if(this._debug(t,`session has${a?"":" not"} expired with margin of ${ma}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),ya(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ra;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Ut;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),me(i)){const s={session:null,error:i};return ya(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await xo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await In(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ir);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ir}ms, refresh threshold is ${Na} ticks`),a<=Na&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ko)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Pr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:i}=t;return i?{data:null,error:i}:await we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:i,error:s}=t;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await we(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:i}=t;if(i)return{data:null,error:i};const{data:s,error:o}=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(t){if(me(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:i}=t;return i?{data:null,error:i}:await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(me(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=_a(a.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(s=>s.kid===e);if(n||(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+id>Date.now()))return n;const{data:a,error:i}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new nn("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(s=>s.kid===e),!n)throw new nn("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};n=h.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:l}}=_a(n);if(Pd(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:s},error:null}}const c=Ad(a.alg),u=await this.fetchJwk(a.kid,t),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,gd(`${o}.${l}`)))throw new nn("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}hn.nextInstanceID=0;const Vd=hn;class Gd extends Vd{constructor(e){super(e)}}var Wd=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Jd{constructor(e,t,n){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Zu(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Vu,realtime:Wu,auth:Object.assign(Object.assign({},Gu),{storageKey:c}),global:Hu},d=ed(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Qu(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new fu(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Zc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Uu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Wd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gd({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Tu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kd=(r,e,t)=>new Jd(r,e,t),Yd="https://lbwtzoxtlssyjeututrs.supabase.co",Qd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxid3R6b3h0bHNzeWpldXR1dHJzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4OTg2OTksImV4cCI6MjA3MDQ3NDY5OX0.GdbcTzNRo5dcuBSCr9_e_HWiXXBJWNm_IYkdwxfbDgI",xe=Kd(Yd,Qd),yr=(()=>{const r=W({user:null,loading:!1,error:null,message:null,lastAction:null,lastProvider:null}),e=l=>{r.error=(l==null?void 0:l.message)||String(l)||"Unknown error"};return xe.auth.onAuthStateChange((l,c)=>{r.user=(c==null?void 0:c.user)||null}),{state:r,getUser:async()=>{var l,c;r.loading=!0,r.error=null;try{const u=await xe.auth.getSession();return u?u.error?(e(u.error),r.user=null,null):(r.user=((c=(l=u.data)==null?void 0:l.session)==null?void 0:c.user)||null,r.user):(e("No response from Supabase"),r.user=null,null)}catch(u){return e(u),r.user=null,null}finally{r.loading=!1}},createUser:async(l,c)=>{var u,d,f,h;r.loading=!0,r.error=null,r.message=null,r.lastAction="signup",r.lastProvider="email";try{const g=await xe.auth.signUp({email:l,password:c});return g?g.error?(e(g.error),!1):(r.user=((u=g.data)==null?void 0:u.user)||((f=(d=g.data)==null?void 0:d.session)==null?void 0:f.user)||null,(h=g.data)!=null&&h.session?(r.message="Account created successfully!",!0):(r.message="Signup successful! Please check your email to confirm your account.",!0)):(e("No response from Supabase"),!1)}catch(g){return e(g),!1}finally{r.loading=!1}},loginWithEmail:async(l,c)=>{var u,d,f;r.loading=!0,r.error=null,r.message=null,r.lastAction="login",r.lastProvider="email";try{const h=await xe.auth.signInWithPassword({email:l,password:c});return h?h.error?(e(h.error),!1):(r.user=((u=h.data)==null?void 0:u.user)||((f=(d=h.data)==null?void 0:d.session)==null?void 0:f.user)||null,r.user?(r.message="Login successful! Redirecting",!0):(e("Login failed: no user returned"),!1)):(e("No response from Supabase"),!1)}catch(h){return e(h),!1}finally{r.loading=!1}},resetPassword:async l=>{r.loading=!0,r.error=null,r.message=null,r.lastAction="resetPassword",r.lastProvider="email";try{const{error:c}=await xe.auth.resetPasswordForEmail(l);return c?(e(c),!1):(r.message="Password reset email sent. Please check your inbox.",!0)}catch(c){return e(c),!1}finally{r.loading=!1}},updatePassword:async l=>{r.loading=!0,r.error=null,r.message=null,r.lastAction="updatePassword";try{const{data:c,error:u}=await xe.auth.updateUser({password:l});return u?(e(u),!1):(r.user=(c==null?void 0:c.user)||null,r.message="Password updated successfully!",!0)}catch(c){return e(c),!1}finally{r.loading=!1}},logout:async()=>{r.loading=!0,r.error=null,r.message=null;try{const l=await xe.auth.signOut();return l!=null&&l.error?(e(l.error),!1):(r.user=null,r.message="Logged out successfully.",!0)}catch(l){return e(l),!1}finally{r.loading=!1}}}})();async function ci(r){if(!r)return Je("Form identifier is required");let{data:e,error:t}=await xe.from("forms").select("*").eq("id",r).maybeSingle();return e?Mt({form:e}):({data:e,error:t}=await xe.from("forms").select("*").eq("slug",r).maybeSingle(),e?Mt({form:e}):Je(t||"Form not found"))}async function Xd(r){const{data:e,error:t}=await xe.from("forms").select("*").eq("user_id",r).order("created_at",{ascending:!1});return t?Je(t):Mt({forms:e})}const Mt=r=>({success:!0,data:r}),Je=r=>({success:!1,error:(r==null?void 0:r.message)||r||"Unknown error"});async function Zd(r){const{data:e,error:t}=await xe.from("forms").insert(r).select().single();return t?Je(t):Mt({id:e.id})}async function ef(r){if(!(r!=null&&r.id))return Je("Form ID is required");const{data:e,error:t}=await xe.from("forms").update(r).eq("id",r.id).select().single();return t?Je(t):Mt({form:e})}async function tf(r){const{data:e,error:t}=await xe.from("forms").delete().eq("id",r).select();return t?Je(t):e!=null&&e.length?Mt({id:e[0].id}):Je("Form not found")}async function rf(r){const{data:e,error:t}=await xe.from("forms").select("*").eq("id",r).single();if(t)return Je(t);const{id:n,created_at:a,...i}=e,{data:s,error:o}=await xe.from("forms").insert([{...i,created_at:new Date}]).select().single();return o?Je(o):Mt({form:s})}async function nf(r,e){if(!r)return{success:!1,error:"Form ID is required"};if(!e)return{success:!1,error:"New slug is required"};console.log("Updating slug:",r,e);const{data:t,error:n}=await xe.from("forms").update({slug:e}).eq("id",r).select().single();return n?(console.error("Supabase error:",n),n.code==="23505"?{success:!1,error:"Slug already exists"}:{success:!1,error:n.message||n}):(console.log("Updated data:",t),{success:!0,form:t})}async function af(r){if(!r)return Je("Form ID is required");const{data:e,error:t}=await xe.from("forms").select("views").eq("id",r).single();if(t)return Je(t);const{data:n,error:a}=await xe.from("forms").update({views:e.views+1}).eq("id",r).select("views").single();return a?Je(a):Mt({views:n.views})}async function sf(r){if(!r)return Je("Form ID is required");const{data:e,error:t}=await xe.from("forms").select("views").eq("id",r).single();return t?Je(t):Mt({views:e.views})}/**
 * @license lucide-svelte v0.482.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const of={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var lf=lc("<svg><!><!></svg>");function ae(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]),n=te(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);de(e,!1);let a=H(e,"name",8,void 0),i=H(e,"color",8,"currentColor"),s=H(e,"size",8,24),o=H(e,"strokeWidth",8,2),l=H(e,"absoluteStrokeWidth",8,!1),c=H(e,"iconNode",24,()=>[]);const u=(...m)=>m.filter((p,b,E)=>!!p&&E.indexOf(p)===b).join(" ");ht();var d=lf();let f;var h=w(d);Be(h,1,c,He,(m,p)=>{let b=()=>v(p)[0],E=()=>v(p)[1];var k=G(),S=N(k);bc(S,b,!0,(y,T)=>{let $;K(()=>$=Mr(y,$,{...E()},void 0,y.namespaceURI===ws,y.nodeName.includes("-")))}),_(m,k)});var g=P(h);ee(g,e,"default",{}),K((m,p)=>f=Mr(d,f,{...of,...n,width:s(),height:s(),stroke:i(),"stroke-width":m,class:p},void 0,!0),[()=>l()?Number(o())*24/Number(s()):o(),()=>u("lucide-icon","lucide",a()?`lucide-${a()}`:"",t.class)],Qn),_(r,d),fe()}function cf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"align-center"},()=>t,{iconNode:[["path",{d:"M17 12H7"}],["path",{d:"M19 18H5"}],["path",{d:"M21 6H3"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function uf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"align-left"},()=>t,{iconNode:[["path",{d:"M15 12H3"}],["path",{d:"M17 18H3"}],["path",{d:"M21 6H3"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function df(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"arrow-down"},()=>t,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function ff(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"arrow-left"},()=>t,{iconNode:[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function hf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"arrow-up"},()=>t,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function vf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"calendar-check"},()=>t,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"m9 16 2 2 4-4"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function $o(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"calendar-clock"},()=>t,{iconNode:[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5"}],["path",{d:"M16 2v4"}],["path",{d:"M8 2v4"}],["path",{d:"M3 10h5"}],["path",{d:"M17.5 17.5 16 16.3V14"}],["circle",{cx:"16",cy:"16",r:"6"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function So(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"calendar"},()=>t,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function gf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"chart-no-axes-column"},()=>t,{iconNode:[["line",{x1:"18",x2:"18",y1:"20",y2:"10"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function pf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"check"},()=>t,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function mf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"chevron-down"},()=>t,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function bf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"circle-alert"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function yf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"circle-check-big"},()=>t,{iconNode:[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function _f(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"circle-dot"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"1"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function wf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"clipboard"},()=>t,{iconNode:[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function as(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"cloud-upload"},()=>t,{iconNode:[["path",{d:"M12 13v8"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"m8 17 4-4 4 4"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function xf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"copy"},()=>t,{iconNode:[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Eo(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"download"},()=>t,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"7 10 12 15 17 10"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function To(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"ellipsis-vertical"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Po(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"external-link"},()=>t,{iconNode:[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function kf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"eye"},()=>t,{iconNode:[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Ao(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"file-text"},()=>t,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function $f(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"gauge"},()=>t,{iconNode:[["path",{d:"m12 14 4-4"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Sf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"ghost"},()=>t,{iconNode:[["path",{d:"M9 10h.01"}],["path",{d:"M15 10h.01"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Ef(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"hammer"},()=>t,{iconNode:[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9"}],["path",{d:"m18 15 4-4"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Tf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"hash"},()=>t,{iconNode:[["line",{x1:"4",x2:"20",y1:"9",y2:"9"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Pf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"inbox"},()=>t,{iconNode:[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Af(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"info"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Cf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"layout-dashboard"},()=>t,{iconNode:[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function na(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"link"},()=>t,{iconNode:[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function If(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"list-checks"},()=>t,{iconNode:[["path",{d:"m3 17 2 2 4-4"}],["path",{d:"m3 7 2 2 4-4"}],["path",{d:"M13 6h8"}],["path",{d:"M13 12h8"}],["path",{d:"M13 18h8"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function jf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"log-in"},()=>t,{iconNode:[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}],["polyline",{points:"10 17 15 12 10 7"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Of(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"log-out"},()=>t,{iconNode:[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Lf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"mail"},()=>t,{iconNode:[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Rf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"party-popper"},()=>t,{iconNode:[["path",{d:"M5.8 11.3 2 22l10.7-3.79"}],["path",{d:"M4 3h.01"}],["path",{d:"M22 8h.01"}],["path",{d:"M15 2h.01"}],["path",{d:"M22 20h.01"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Nf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"pen-tool"},()=>t,{iconNode:[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18"}],["path",{d:"m2.3 2.3 7.286 7.286"}],["circle",{cx:"11",cy:"11",r:"2"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Df(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"phone"},()=>t,{iconNode:[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Mf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"plus"},()=>t,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Bf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"qr-code"},()=>t,{iconNode:[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3"}],["path",{d:"M21 21v.01"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7"}],["path",{d:"M3 12h.01"}],["path",{d:"M12 3h.01"}],["path",{d:"M12 16v.01"}],["path",{d:"M16 12h1"}],["path",{d:"M21 12v.01"}],["path",{d:"M12 21v-1"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Ff(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"rectangle-horizontal"},()=>t,{iconNode:[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Uf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"refresh-cw"},()=>t,{iconNode:[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function zf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"rocket"},()=>t,{iconNode:[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function qf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"scroll-text"},()=>t,{iconNode:[["path",{d:"M15 12h-5"}],["path",{d:"M15 8h-5"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Hf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"share-2"},()=>t,{iconNode:[["circle",{cx:"18",cy:"5",r:"3"}],["circle",{cx:"6",cy:"12",r:"3"}],["circle",{cx:"18",cy:"19",r:"3"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Vf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"signature"},()=>t,{iconNode:[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284"}],["path",{d:"M3 21h18"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Gf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"smile"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Wf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"sparkle"},()=>t,{iconNode:[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Jf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"square-check"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m9 12 2 2 4-4"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Kf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"square-chevron-down"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m16 10-4 4-4-4"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function is(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"square-pen"},()=>t,{iconNode:[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Yf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"square-plus"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Co(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"star"},()=>t,{iconNode:[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Qf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"toggle-left"},()=>t,{iconNode:[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6"}],["circle",{cx:"8",cy:"12",r:"2"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function ui(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"trash-2"},()=>t,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Io(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"trash"},()=>t,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Xf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"triangle-alert"},()=>t,{iconNode:[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function Zf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"upload"},()=>t,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"17 8 12 3 7 8"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function eh(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"user"},()=>t,{iconNode:[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}function th(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ae(r,ne({name:"x"},()=>t,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(a,i)=>{var s=G(),o=N(s);ee(o,e,"default",{}),_(a,s)},$$slots:{default:!0}}))}const aa=r=>({success:!0,data:r}),ia=r=>({success:!1,error:(r==null?void 0:r.message)||"Unknown error"});async function rh(r,e){const{data:t,error:n}=await xe.from("responses").insert({form_id:r,meta:e}).select();return n?ia(n):aa({responseIds:t.map(a=>a.id)})}async function nh(r){const{data:e,error:t}=await xe.from("responses").select("id, meta, created_at").eq("form_id",r).order("created_at",{ascending:!1});return t?ia(t):aa({responses:e})}async function ah(r){const{count:e,error:t}=await xe.from("responses").select("*",{count:"exact",head:!0}).eq("form_id",r);return t?ia(t):aa({count:e})}async function ih(r){const{error:e}=await xe.from("responses").delete().eq("id",r);return e?ia(e):aa({deletedId:r})}var sh=A("<input>");function wt(r,e){let t=H(e,"value",15),n=wn(e,["$$slots","$$events","$$legacy","value","props"]);var a=sh();let i;K(()=>i=Mr(a,i,{autofocus:!0,...n,class:"my-4 bg-gray-50 border  border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),qe(a,t),_(r,a)}var oh=A("<textarea></textarea>");function Ba(r,e){let t=H(e,"value",15),n=wn(e,["$$slots","$$events","$$legacy","value"]);var a=oh();let i;K(()=>i=Mr(a,i,{autofocus:!0,...n,rows:"4",class:"my-2 block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),qe(a,t),_(r,a)}function ct(r,{text:e="",position:t="top"}){const n=document.createElement("div");n.classList.add("absolute","invisible","bg-gray-700","text-white","text-xs","rounded","py-1","px-2","opacity-0","transition-opacity","duration-300","transform","whitespace-nowrap","z-50"),n.innerText=e,document.body.appendChild(n);let a=!1;const i=()=>{a||(n.style.visibility="visible",n.style.opacity="1",l(),n.classList.add("animate-tada"))},s=()=>{n.style.visibility="hidden",n.style.opacity="0",n.classList.remove("animate-tada")},o=(d,f,h)=>Math.max(f,Math.min(h,d)),l=()=>{const{top:d,left:f,width:h,height:g}=r.getBoundingClientRect(),{offsetWidth:m,offsetHeight:p}=n;let b,E;switch(t){case"top":b=f+h/2-m/2,E=d-p-5;break;case"bottom":b=f+h/2-m/2,E=d+g+5;break;case"left":b=f-m-5,E=d+g/2-p/2;break;case"right":b=f+h+5,E=d+g/2-p/2;break}const k=8,S=window.innerWidth-m-k,y=window.innerHeight-p-k;n.style.left=`${o(b,k,S)}px`,n.style.top=`${o(E,k,y)}px`},c=()=>{s(),a=!0},u=()=>{s(),a=!1};return r.addEventListener("mouseenter",i),r.addEventListener("mouseleave",u),r.addEventListener("click",c),{destroy(){r.removeEventListener("mouseenter",i),r.removeEventListener("mouseleave",u),r.removeEventListener("click",c),document.body.removeChild(n)}}}var lh=A('<button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button>');function ss(r,e){let n=H(e,"largeIcon",3,!1)()?"w-8 h-8":"w-5 h-5";var a=lh(),i=w(a);Yf(i,{class:n}),pt(a,(s,o)=>ct==null?void 0:ct(s,o),()=>({text:"Add Block",position:"bottom"})),it(()=>V("click",a,function(...s){var o;(o=e.clickHandler)==null||o.apply(this,s)})),_(r,a)}var ch=A("<button> </button>");function Fa(r,e){let t=wn(e,["$$slots","$$events","$$legacy","text"]);var n=ch();let a;var i=w(n);K(()=>{a=Mr(n,a,{type:"button",class:"text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-bold rounded-lg text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700",...t}),se(i,e.text)}),_(r,n)}var uh=A('<label class="flex items-center space-x-2 cursor-pointer select-none"><input type="checkbox" class="w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"></label>');function Ua(r,e){let t=H(e,"checked",15,!1);var n=uh(),a=w(n);Tc(a,t),_(r,n)}var dh=A('<div class="flex items-center space-x-2"><button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button> <!></div>');function jo(r,e){let t=H(e,"link",3,""),n=ie(!1);async function a(){if(t())try{await navigator.clipboard.writeText(t()),I(n,!0),setTimeout(()=>I(n,!1),2e3)}catch(u){console.error("Failed to copy:",u)}}var i=dh(),s=w(i),o=w(s);na(o,{class:"w-5 h-5"}),pt(s,(u,d)=>ct==null?void 0:ct(u,d),()=>({text:"Copy form link",position:"bottom"})),it(()=>V("click",s,a));var l=P(s,2);{var c=u=>{Lo(u,{message:"Link copied!"})};z(l,u=>{v(n)&&u(c)})}K(()=>s.disabled=!t()),_(r,i)}var fh=A("<option disabled hidden> </option>"),hh=A("<option> </option>"),vh=A('<span class="absolute bottom-0 left-0 h-0.5 w-0 bg-indigo-500 transition-all duration-300 peer-focus:w-full"></span>'),gh=A('<div class="relative w-full m-0 p-0"><select><!><!></select> <!></div>');function Wt(r,e){de(e,!0);let t=H(e,"choices",19,()=>[]),n=H(e,"value",15),a=H(e,"canAnswer",3,!1),i=ie(W(n()??""));rt(()=>{e.choiceSelected(v(i)),n(v(i))});var s=gh(),o=w(s),l=w(o);{var c=h=>{var g=fh();g.value=((g.__value="")==null,"");var m=w(g);K(()=>se(m,e.props.placeholder)),_(h,g)};z(l,h=>{var g;(g=e.props)!=null&&g.placeholder&&h(c)})}var u=P(l);Be(u,17,t,He,(h,g)=>{var m=hh(),p={},b=w(m);K(()=>{p!==(p=v(g))&&(m.value=(m.__value=v(g))==null?"":v(g)),se(b,v(g))}),_(h,m)});var d=P(o,2);{var f=h=>{var g=vh();_(h,g)};z(d,h=>{a()&&h(f)})}K(()=>{o.disabled=!a(),Ce(o,`block w-full bg-transparent border-0 border-b-2 text-xl py-2 px-0 outline-none transition-all duration-300
      ${a()?"text-gray-900 border-gray-400 focus:border-indigo-500 cursor-pointer":"text-gray-400 border-gray-200 cursor-not-allowed"}`)}),Ac(o,()=>v(i),h=>I(i,h)),_(r,s),fe()}var ph=A('<button class="w-full flex items-center gap-2 text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"><!> </button>'),mh=A('<div class="absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-[9999] overflow-visible"></div>'),bh=A('<div class="relative inline-block text-left overflow-visible"><button class="w-7 h-7 flex items-center justify-center rounded-full hover:bg-gray-100 transition" aria-label="More options"><!></button> <!></div>');function Oo(r,e){let t=H(e,"dropdownItems",24,()=>[]),n=Me(!1);const a=()=>{I(n,!v(n))},i={Duplicate:xf,Delete:Io,Rename:is,RenameLink:is,OpenForm:Po,CopyLink:na,QRCode:Bf};let s;function o(){s=setTimeout(()=>{I(n,!1)},200)}function l(){clearTimeout(s)}var c=bh(),u=w(c),d=w(u);To(d,{class:"w-4 h-4 text-gray-500 hover:text-black cursor-pointer"});var f=P(u,2);{var h=g=>{var m=mh();Be(m,5,t,He,(p,b)=>{let E=()=>v(b).icon,k=()=>v(b).label,S=()=>v(b).onClick;var y=ph(),T=w(y);{var $=q=>{v(Qn(()=>i[E()]))(q,{class:"w-4 h-4 text-gray-500"})};z(T,q=>{i[E()]&&q($)})}var C=P(T);K(()=>se(C,` ${k()??""}`)),V("click",y,async()=>{await S()(),I(n,!1)}),_(p,y)}),_(g,m)};z(f,g=>{v(n)&&g(h)})}V("click",u,a),V("mouseenter",c,l),V("mouseleave",c,o),_(r,c)}var yh=A('<div class="relative rounded-2xl overflow-visible border border-neutral-300 bg-gradient-to-br from-neutral-100 via-white to-neutral-200 shadow-xl transition-all duration-300 ease-in-out transform hover:-translate-y-1 hover:rotate-[-0.5deg] hover:shadow-2xl max-w-[288px] backdrop-blur-md"><div class="p-4 cursor-pointer hover:bg-white/40 transition duration-200"><h2 class="text-base font-bold text-black tracking-tight drop-shadow-sm"> </h2></div> <div class="h-[1px] bg-gradient-to-r from-transparent via-neutral-400 to-transparent animate-pulse"></div> <div class="relative flex items-center justify-between px-3 py-2 bg-white/30 text-sm text-black backdrop-blur-md rounded-b-2xl"><button class="bg-black hover:bg-neutral-800 text-white text-xs px-2 py-[2px] rounded shadow-sm transition"> </button> <div class="flex items-center gap-1"><!> <span> </span></div> <div class="relative z-20"><!></div></div></div>');function _h(r,e){de(e,!0);const t=H(e,"responseCount",3,0);var n=yh(),a=w(n),i=w(a),s=w(i),o=P(a,4),l=w(o),c=w(l),u=P(l,2),d=w(u);kf(d,{class:"w-4 h-4"});var f=P(d,2),h=w(f),g=P(u,2),m=w(g);const p=Ne(()=>[{label:"Open Form",icon:"OpenForm",onClick:e.onOpen},{label:"Copy Form Link",icon:"CopyLink",onClick:e.onCopy},{label:"Rename Form",icon:"Rename",onClick:e.onRenameForm},{label:"Customize Form Link",icon:"Rename",onClick:e.onRenameFormSlug},{label:"Duplicate",icon:"Duplicate",onClick:e.onDuplicate},{label:"Delete Form",icon:"Delete",onClick:e.onDelete},{label:"Create QR Code",icon:"QRCode",onClick:e.onQRCode}]);Oo(m,{get dropdownItems(){return v(p)}}),K(()=>{se(s,e.form.name),se(c,`${t()??""} Response${(t()===1?"":"s")??""}`),se(h,e.formViewCount??0)}),V("click",a,dr(()=>Dt("/form/build/"+e.form.id))),V("click",l,dr(()=>Dt("/responses/"+e.form.id))),_(r,n),fe()}var wh=A('<button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button>');function xh(r,e){let t=H(e,"url",3,"");var n=wh(),a=w(n);Po(a,{class:"w-5 h-5"}),pt(n,(i,s)=>ct==null?void 0:ct(i,s),()=>({text:"Open form link",position:"bottom"})),it(()=>V("click",n,()=>t()&&window.open(t(),"_blank"))),_(r,n)}var kh=A('<div role="alert"><div class="flex items-center gap-2"><!> <span class="text-sm"> </span></div> <button class="text-white font-bold text-xl leading-none hover:opacity-75" aria-label="Close">&times;</button></div>');function Lo(r,e){let t=H(e,"message",8,""),n=H(e,"type",8,"info"),a=H(e,"duration",8,4e3),i=Me(!0);const s={success:{color:"bg-green-500 text-white",Icon:yf},error:{color:"bg-red-500 text-white",Icon:bf},info:{color:"bg-blue-500 text-white",Icon:Af}},{color:o,Icon:l}=s[n()];setTimeout(()=>{I(i,!1)},a());var c=G(),u=N(c);{var d=f=>{var h=kh();Ce(h,`fixed top-12 right-12 px-4 py-3 rounded shadow-lg flex items-center justify-between gap-4 transition-opacity duration-500 ease-in-out ${o}`);var g=w(h),m=w(g);l(m,{class:"w-5 h-5"});var p=P(m,2),b=w(p),E=P(g,2);K(()=>se(b,t())),V("click",E,()=>I(i,!1)),_(f,h)};z(u,f=>{v(i)&&f(d)})}_(r,c)}var $h=A('<div class="w-screen min-h-screen flex items-center justify-center bg-neutral-50 text-gray-800 animate-fadeIn svelte-7unkar"><div class="flex flex-col items-center gap-2 svelte-7unkar"><div class="text-sm text-gray-600 font-light tracking-wide animate-fadeIn delay-100 svelte-7unkar">Powered By</div> <div class="flex items-center gap-2 animate-slideUp delay-200 svelte-7unkar"><!> <span class="text-xl font-semibold tracking-tight animate-bounce-slow svelte-7unkar">FabForm</span></div> <div class="w-48 h-2.5 mt-3 bg-neutral-300 rounded-full overflow-hidden animate-slideIn delay-300 svelte-7unkar"><div class="h-full bg-pink-500 transition-all duration-700 ease-out svelte-7unkar"></div></div></div></div>');function Sh(r,e){de(e,!1);let t=Me(0);Ke(()=>{const c=setInterval(()=>{v(t)<100?I(t,v(t)+1):clearInterval(c)},20)}),ht();var n=$h(),a=w(n),i=P(w(a),2),s=w(i);zf(s,{class:"w-8 h-8 text-pink-500 drop-shadow animate-pulse-slow"});var o=P(i,2),l=w(o);K(()=>ve(l,"style",`width: ${v(t)??""}%`)),_(r,n),fe()}var Eh=A('<figure class="loader svelte-d62oge"><div class="dot white svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div></figure>');function Th(r){var e=Eh();_(r,e)}var Ph=A('<div class="group relative inline-block m-1"><button class="cursor-pointer"><!></button></div>');function Ah(r,e){de(e,!1);function t(){Dt("/dashboard")}ht();var n=Ph(),a=w(n),i=w(a);ff(i,{class:`w-8 h-8 stroke-current fill-none 
      hover:scale-125 duration-200 hover:stroke-blue-500`,"stroke-width":"2"}),V("click",a,t),_(r,n),fe()}var Ch=A('<div role="main" aria-label="Page not found error message" class="relative flex items-center justify-center min-h-screen bg-gradient-to-tr from-zinc-950 via-zinc-900 to-zinc-950 text-white overflow-hidden svelte-1i8xg84"><canvas class="absolute inset-0 w-full h-full z-0 pointer-events-none svelte-1i8xg84" aria-hidden="true"></canvas> <div class="absolute inset-0 flex items-center justify-center pointer-events-none z-0 svelte-1i8xg84" aria-hidden="true"><div class="w-40 h-40 bg-purple-600 rounded-full blur-3xl opacity-30 svelte-1i8xg84"></div></div> <div class="text-center animate-fade-in-up z-10 relative svelte-1i8xg84"><!> <h1 class="text-6xl sm:text-7xl font-extrabold mt-6 mb-4 tracking-tight text-white drop-shadow-xl svelte-1i8xg84" tabindex="0">Oops!</h1> <p class="text-2xl sm:text-3xl text-zinc-400 font-medium svelte-1i8xg84" tabindex="0">Page not found <span class="text-purple-400 svelte-1i8xg84" aria-hidden="true">:(</span></p></div></div>');function Ih(r,e){de(e,!1);let t=Me(),n,a=[],i={x:null,y:null};function s(p,b){return Math.random()*(b-p)+p}function o(){a=[];for(let p=0;p<60;p++)a.push({x:Math.random()*v(t).width,y:Math.random()*v(t).height,r:s(1,3),baseR:s(1,3),dx:(Math.random()-.5)*.6,dy:(Math.random()-.5)*.6,opacity:s(.2,.6),pulseDir:Math.random()<.5?1:-1,hueShift:s(-20,20)})}function l(p){for(let E=0;E<a.length;E++)for(let k=E+1;k<a.length;k++){const S=a[E],y=a[k],T=Math.hypot(S.x-y.x,S.y-y.y);if(T<120){const $=.2*(1-T/120);p.strokeStyle=`rgba(168, 85, 247, ${$})`,p.lineWidth=1,p.beginPath(),p.moveTo(S.x,S.y),p.lineTo(y.x,y.y),p.stroke()}}}function c(p){if(i.x===null||i.y===null)return;const b=100,E=p.x-i.x,k=p.y-i.y,S=Math.hypot(E,k);if(S<b&&S>0){const y=(b-S)/b*.5;p.dx+=E/S*y,p.dy+=k/S*y}}function u(p){p.clearRect(0,0,v(t).width,v(t).height),a.forEach(b=>{b.r+=.02*b.pulseDir,(b.r>b.baseR+.5||b.r<b.baseR-.5)&&(b.pulseDir*=-1),c(b),b.dx*=.98,b.dy*=.98,b.x+=b.dx,b.y+=b.dy,b.x<0&&(b.x=0,b.dx*=-1),b.x>v(t).width&&(b.x=v(t).width,b.dx*=-1),b.y<0&&(b.y=0,b.dy*=-1),b.y>v(t).height&&(b.y=v(t).height,b.dy*=-1),p.beginPath(),p.shadowColor=`hsla(${275+b.hueShift}, 80%, 70%, 0.6)`,p.shadowBlur=8,p.arc(b.x,b.y,b.r,0,Math.PI*2),p.fillStyle=`hsla(${275+b.hueShift}, 70%, 60%, ${b.opacity})`,p.fill(),p.shadowBlur=0}),l(p),n=requestAnimationFrame(()=>u(p))}function d(){st(t,v(t).width=window.innerWidth),st(t,v(t).height=window.innerHeight),o()}Ke(()=>{const p=v(t).getContext("2d");d(),u(p);function b(){document.hidden?cancelAnimationFrame(n):u(p)}window.addEventListener("resize",d),document.addEventListener("visibilitychange",b);function E(S){i.x=S.clientX,i.y=S.clientY}function k(){i.x=null,i.y=null}return window.addEventListener("mousemove",E),window.addEventListener("mouseout",k),()=>{window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",b),window.removeEventListener("mousemove",E),window.removeEventListener("mouseout",k),cancelAnimationFrame(n)}}),ht();var f=Ch(),h=w(f);_n(h,p=>I(t,p),()=>v(t));var g=P(h,4),m=w(g);Sf(m,{class:"w-24 h-24 mx-auto text-purple-400 drop-shadow-xl animate-float","aria-hidden":"true",focusable:"false"}),_(r,f),fe()}var wa={exports:{}},os;function jh(){return os||(os=1,function(r){(function(){function e(m,p){document.addEventListener?m.addEventListener("scroll",p,!1):m.attachEvent("scroll",p)}function t(m){document.body?m():document.addEventListener?document.addEventListener("DOMContentLoaded",function p(){document.removeEventListener("DOMContentLoaded",p),m()}):document.attachEvent("onreadystatechange",function p(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",p),m())})}function n(m){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(m)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function a(m,p){m.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+p+";"}function i(m){var p=m.g.offsetWidth,b=p+100;return m.j.style.width=b+"px",m.i.scrollLeft=b,m.h.scrollLeft=m.h.scrollWidth+100,m.l!==p?(m.l=p,!0):!1}function s(m,p){function b(){var k=E;i(k)&&k.g.parentNode!==null&&p(k.l)}var E=m;e(m.h,b),e(m.i,b),i(m)}function o(m,p,b){p=p||{},b=b||window,this.family=m,this.style=p.style||"normal",this.weight=p.weight||"normal",this.stretch=p.stretch||"normal",this.context=b}var l=null,c=null,u=null,d=null;function f(m){return c===null&&(h(m)&&/Apple/.test(window.navigator.vendor)?(m=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!m&&603>parseInt(m[1],10)):c=!1),c}function h(m){return d===null&&(d=!!m.document.fonts),d}function g(m,p){var b=m.style,E=m.weight;if(u===null){var k=document.createElement("div");try{k.style.font="condensed 100px sans-serif"}catch{}u=k.style.font!==""}return[b,E,u?m.stretch:"","100px",p].join(" ")}o.prototype.load=function(m,p){var b=this,E=m||"BESbswy",k=0,S=p||3e3,y=new Date().getTime();return new Promise(function(T,$){if(h(b.context)&&!f(b.context)){var C=new Promise(function(R,O){function M(){new Date().getTime()-y>=S?O(Error(""+S+"ms timeout exceeded")):b.context.document.fonts.load(g(b,'"'+b.family+'"'),E).then(function(J){1<=J.length?R():setTimeout(M,25)},O)}M()}),q=new Promise(function(R,O){k=setTimeout(function(){O(Error(""+S+"ms timeout exceeded"))},S)});Promise.race([q,C]).then(function(){clearTimeout(k),T(b)},$)}else t(function(){function R(){var he;(he=Q!=-1&&Z!=-1||Q!=-1&&le!=-1||Z!=-1&&le!=-1)&&((he=Q!=Z&&Q!=le&&Z!=le)||(l===null&&(he=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!he&&(536>parseInt(he[1],10)||parseInt(he[1],10)===536&&11>=parseInt(he[2],10))),he=l&&(Q==pe&&Z==pe&&le==pe||Q==ye&&Z==ye&&le==ye||Q==Pe&&Z==Pe&&le==Pe)),he=!he),he&&(_e.parentNode!==null&&_e.parentNode.removeChild(_e),clearTimeout(k),T(b))}function O(){if(new Date().getTime()-y>=S)_e.parentNode!==null&&_e.parentNode.removeChild(_e),$(Error(""+S+"ms timeout exceeded"));else{var he=b.context.document.hidden;(he===!0||he===void 0)&&(Q=M.g.offsetWidth,Z=J.g.offsetWidth,le=Y.g.offsetWidth,R()),k=setTimeout(O,50)}}var M=new n(E),J=new n(E),Y=new n(E),Q=-1,Z=-1,le=-1,pe=-1,ye=-1,Pe=-1,_e=document.createElement("div");_e.dir="ltr",a(M,g(b,"sans-serif")),a(J,g(b,"serif")),a(Y,g(b,"monospace")),_e.appendChild(M.g),_e.appendChild(J.g),_e.appendChild(Y.g),b.context.document.body.appendChild(_e),pe=M.g.offsetWidth,ye=J.g.offsetWidth,Pe=Y.g.offsetWidth,O(),s(M,function(he){Q=he,R()}),a(M,g(b,'"'+b.family+'",sans-serif')),s(J,function(he){Z=he,R()}),a(J,g(b,'"'+b.family+'",serif')),s(Y,function(he){le=he,R()}),a(Y,g(b,'"'+b.family+'",monospace'))})})},r.exports=o})()}(wa)),wa.exports}var Oh=jh();const Lh=no(Oh);var Rh=A("<div><!></div>"),Nh=A("<div><!></div>");function Dh(r,e){de(e,!0);let t=H(e,"fontName",3,"Roboto"),n=H(e,"fontScale",3,"medium"),a=H(e,"fallback",3,"sans-serif");const i={small:"1rem",medium:"1.5rem",large:"2rem"};let s=Ne(()=>i[n()]||"1.5rem"),o=ie(!1);function l(h){const g=h.replace(/ /g,"+");if(!document.getElementById(`gf-${g}`)){const m=document.createElement("link");m.id=`gf-${g}`,m.rel="stylesheet",m.href=`https://fonts.googleapis.com/css2?family=${g}&display=swap`,document.head.appendChild(m)}}Ke(()=>{l(t()),new Lh(t()).load(null,1e4).then(()=>{I(o,!0)}).catch(()=>{I(o,!1)})});var c=G(),u=N(c);{var d=h=>{var g=Rh(),m=w(g);ee(m,e,"default",{}),K(()=>ve(g,"style",`font-family: '${t()??""}', ${a()??""}; font-size: ${v(s)??""}; transition: opacity 0.3s;`)),_(h,g)},f=h=>{var g=Nh(),m=w(g);ee(m,e,"default",{}),K(()=>ve(g,"style",`font-family: ${a()??""}; font-size: ${v(s)??""}; opacity: 0.5;`)),_(h,g)};z(u,h=>{v(o)?h(d):h(f,!1)})}_(r,c),fe()}const Xt=(()=>{/*!
* Copyright (c) 2021-2024 Momo Bassit.
* Licensed under the MIT License (MIT)
* https://github.com/mdbassit/Coloris
* Version: 0.24.0
* NPM: https://github.com/melloware/coloris-npm
*/return((r,e,t,n)=>{const a=e.createElement("canvas").getContext("2d"),i={r:0,g:0,b:0,h:0,s:0,v:0,a:1};let s,o,l,c,u,d,f,h,g,m,p,b,E,k,S,y,T={};const $={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:()=>n,a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},C={};let q="",R={},O=!1;function M(x){if(typeof x=="object")for(const F in x)switch(F){case"el":le(x.el),x.wrap!==!1&&Pe(x.el);break;case"parent":s=x.parent instanceof HTMLElement?x.parent:e.querySelector(x.parent),s&&(s.appendChild(o),$.parent=x.parent,s===e.body&&(s=n));break;case"themeMode":$.themeMode=x.themeMode,x.themeMode==="auto"&&r.matchMedia&&r.matchMedia("(prefers-color-scheme: dark)").matches&&($.themeMode="dark");case"theme":x.theme&&($.theme=x.theme),o.className=`clr-picker clr-${$.theme} clr-${$.themeMode}`,$.inline&&ye();break;case"rtl":$.rtl=!!x.rtl,Array.from(e.getElementsByClassName("clr-field")).forEach(ce=>ce.classList.toggle("clr-rtl",$.rtl));break;case"margin":x.margin*=1,$.margin=isNaN(x.margin)?$.margin:x.margin;break;case"wrap":x.el&&x.wrap&&Pe(x.el);break;case"formatToggle":$.formatToggle=!!x.formatToggle,Ge("clr-format").style.display=$.formatToggle?"block":"none",$.formatToggle&&($.format="auto");break;case"swatches":if(Array.isArray(x.swatches)){const ce=Ge("clr-swatches"),be=e.createElement("div");ce.textContent="",x.swatches.forEach((Re,Qe)=>{const Ie=e.createElement("button");Ie.setAttribute("type","button"),Ie.setAttribute("id",`clr-swatch-${Qe}`),Ie.setAttribute("aria-labelledby",`clr-swatch-label clr-swatch-${Qe}`),Ie.style.color=Re,Ie.textContent=Re,be.appendChild(Ie)}),x.swatches.length&&ce.appendChild(be),$.swatches=x.swatches.slice()}break;case"swatchesOnly":$.swatchesOnly=!!x.swatchesOnly,o.setAttribute("data-minimal",$.swatchesOnly);break;case"alpha":$.alpha=!!x.alpha,o.setAttribute("data-alpha",$.alpha);break;case"inline":if($.inline=!!x.inline,o.setAttribute("data-inline",$.inline),$.inline){const ce=x.defaultColor||$.defaultColor;k=D(ce),ye(),Se(ce)}break;case"clearButton":typeof x.clearButton=="object"&&(x.clearButton.label&&($.clearLabel=x.clearButton.label,f.innerHTML=$.clearLabel),x.clearButton=x.clearButton.show),$.clearButton=!!x.clearButton,f.style.display=$.clearButton?"block":"none";break;case"clearLabel":$.clearLabel=x.clearLabel,f.innerHTML=$.clearLabel;break;case"closeButton":$.closeButton=!!x.closeButton,$.closeButton?o.insertBefore(h,u):u.appendChild(h);break;case"closeLabel":$.closeLabel=x.closeLabel,h.innerHTML=$.closeLabel;break;case"a11y":const U=x.a11y;let X=!1;if(typeof U=="object")for(const ce in U)U[ce]&&$.a11y[ce]&&($.a11y[ce]=U[ce],X=!0);if(X){const ce=Ge("clr-open-label"),be=Ge("clr-swatch-label");ce.innerHTML=$.a11y.open,be.innerHTML=$.a11y.swatch,h.setAttribute("aria-label",$.a11y.close),f.setAttribute("aria-label",$.a11y.clear),g.setAttribute("aria-label",$.a11y.hueSlider),p.setAttribute("aria-label",$.a11y.alphaSlider),d.setAttribute("aria-label",$.a11y.input),l.setAttribute("aria-label",$.a11y.instruction)}break;default:$[F]=x[F]}}function J(x,F){typeof x=="string"&&typeof F=="object"&&(C[x]=F,O=!0)}function Y(x){delete C[x],Object.keys(C).length===0&&(O=!1,x===q&&Z())}function Q(x){if(O){const F=["el","wrap","rtl","inline","defaultColor","a11y"];for(let U in C){const X=C[U];if(x.matches(U)){q=U,R={},F.forEach(ce=>delete X[ce]);for(let ce in X)R[ce]=Array.isArray($[ce])?$[ce].slice():$[ce];M(X);break}}}}function Z(){Object.keys(R).length>0&&(M(R),q="",R={})}function le(x){x instanceof HTMLElement&&(x=[x]),Array.isArray(x)?x.forEach(F=>{je(F,"click",pe),je(F,"input",he)}):(je(e,"click",x,pe),je(e,"input",x,he))}function pe(x){$.inline||(Q(x.target),E=x.target,S=E.value,k=D(S),o.classList.add("clr-open"),ye(),Se(S),($.focusInput||$.selectInput)&&(d.focus({preventScroll:!0}),d.setSelectionRange(E.selectionStart,E.selectionEnd)),$.selectInput&&d.select(),(y||$.swatchesOnly)&&vi().shift().focus(),E.dispatchEvent(new Event("open",{bubbles:!0})))}function ye(){if(!o||!E&&!$.inline)return;const x=s,F=r.scrollY,U=o.offsetWidth,X=o.offsetHeight,ce={left:!1,top:!1};let be,Re,Qe,Ie={x:0,y:0};if(x&&(be=r.getComputedStyle(x),Re=parseFloat(be.marginTop),Qe=parseFloat(be.borderTopWidth),Ie=x.getBoundingClientRect(),Ie.y+=Qe+F),!$.inline){const Xe=E.getBoundingClientRect();let Ft=Xe.x,Zt=F+Xe.y+Xe.height+$.margin;x?(Ft-=Ie.x,Zt-=Ie.y,Ft+U>x.clientWidth&&(Ft+=Xe.width-U,ce.left=!0),Zt+X>x.clientHeight-Re&&X+$.margin<=Xe.top-(Ie.y-F)&&(Zt-=Xe.height+X+$.margin*2,ce.top=!0),Zt+=x.scrollTop):(Ft+U>e.documentElement.clientWidth&&(Ft+=Xe.width-U,ce.left=!0),Zt+X-F>e.documentElement.clientHeight&&X+$.margin<=Xe.top&&(Zt=F+Xe.y-X-$.margin,ce.top=!0)),o.classList.toggle("clr-left",ce.left),o.classList.toggle("clr-top",ce.top),o.style.left=`${Ft}px`,o.style.top=`${Zt}px`,Ie.x+=o.offsetLeft,Ie.y+=o.offsetTop}T={width:l.offsetWidth,height:l.offsetHeight,x:l.offsetLeft+Ie.x,y:l.offsetTop+Ie.y}}function Pe(x){x instanceof HTMLElement?_e(x):Array.isArray(x)?x.forEach(_e):e.querySelectorAll(x).forEach(_e)}function _e(x){const F=x.parentNode;if(!F.classList.contains("clr-field")){const U=e.createElement("div");let X="clr-field";($.rtl||x.classList.contains("clr-rtl"))&&(X+=" clr-rtl"),U.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',F.insertBefore(U,x),U.className=X,U.style.color=x.value,U.appendChild(x)}}function he(x){const F=x.target.parentNode;F.classList.contains("clr-field")&&(F.style.color=x.target.value)}function Ae(x){if(E&&!$.inline){const F=E;x&&(E=n,S!==F.value&&(F.value=S,F.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(()=>{S!==F.value&&F.dispatchEvent(new Event("change",{bubbles:!0}))}),o.classList.remove("clr-open"),O&&Z(),F.dispatchEvent(new Event("close",{bubbles:!0})),$.focusInput&&F.focus({preventScroll:!0}),E=n}}function Se(x){const F=zo(x),U=Uo(F);L(U.s,U.v),yt(F,U),g.value=U.h,o.style.color=`hsl(${U.h}, 100%, 50%)`,m.style.left=`${U.h/360*100}%`,c.style.left=`${T.width*U.s/100}px`,c.style.top=`${T.height-T.height*U.v/100}px`,p.value=U.a*100,b.style.left=`${U.a*100}%`}function D(x){const F=x.substring(0,3).toLowerCase();return F==="rgb"||F==="hsl"?F:"hex"}function j(x){x=x!==n?x:d.value,E&&(E.value=x,E.dispatchEvent(new Event("input",{bubbles:!0}))),$.onChange&&$.onChange.call(r,x,E),e.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:x,currentEl:E}}))}function B(x,F){const U={h:g.value*1,s:x/T.width*100,v:100-F/T.height*100,a:p.value/100},X=Bo(U);L(U.s,U.v),yt(X,U),j()}function L(x,F){let U=$.a11y.marker;x=x.toFixed(1)*1,F=F.toFixed(1)*1,U=U.replace("{s}",x),U=U.replace("{v}",F),c.setAttribute("aria-label",U)}function re(x){return{pageX:x.changedTouches?x.changedTouches[0].pageX:x.pageX,pageY:x.changedTouches?x.changedTouches[0].pageY:x.pageY}}function ue(x){const F=re(x);let U=F.pageX-T.x,X=F.pageY-T.y;s&&(X+=s.scrollTop),Ye(U,X),x.preventDefault(),x.stopPropagation()}function $e(x,F){let U=c.style.left.replace("px","")*1+x,X=c.style.top.replace("px","")*1+F;Ye(U,X)}function Ye(x,F){x=x<0?0:x>T.width?T.width:x,F=F<0?0:F>T.height?T.height:F,c.style.left=`${x}px`,c.style.top=`${F}px`,B(x,F),c.focus()}function yt(x,F){x===void 0&&(x={}),F===void 0&&(F={});let U=$.format;for(const be in x)i[be]=x[be];for(const be in F)i[be]=F[be];const X=qo(i),ce=X.substring(0,7);switch(c.style.color=ce,b.parentNode.style.color=ce,b.style.color=X,u.style.color=X,l.style.display="none",l.offsetHeight,l.style.display="",b.nextElementSibling.style.display="none",b.nextElementSibling.offsetHeight,b.nextElementSibling.style.display="",U==="mixed"?U=i.a===1?"hex":"rgb":U==="auto"&&(U=k),U){case"hex":d.value=X;break;case"rgb":d.value=Ho(i);break;case"hsl":d.value=Vo(Fo(i));break}e.querySelector(`.clr-format [value="${U}"]`).checked=!0}function Ct(){const x=g.value*1,F=c.style.left.replace("px","")*1,U=c.style.top.replace("px","")*1;o.style.color=`hsl(${x}, 100%, 50%)`,m.style.left=`${x/360*100}%`,B(F,U)}function _r(){const x=p.value/100;b.style.left=`${x*100}%`,yt({a:x}),j()}function Bo(x){const F=x.s/100,U=x.v/100;let X=F*U,ce=x.h/60,be=X*(1-t.abs(ce%2-1)),Re=U-X;X=X+Re,be=be+Re;const Qe=t.floor(ce)%6,Ie=[X,be,Re,Re,be,X][Qe],Xe=[be,X,X,be,Re,Re][Qe],Ft=[Re,Re,be,X,X,be][Qe];return{r:t.round(Ie*255),g:t.round(Xe*255),b:t.round(Ft*255),a:x.a}}function Fo(x){const F=x.v/100,U=F*(1-x.s/100/2);let X;return U>0&&U<1&&(X=t.round((F-U)/t.min(U,1-U)*100)),{h:x.h,s:X||0,l:t.round(U*100),a:x.a}}function Uo(x){const F=x.r/255,U=x.g/255,X=x.b/255,ce=t.max(F,U,X),be=t.min(F,U,X),Re=ce-be,Qe=ce;let Ie=0,Xe=0;return Re&&(ce===F&&(Ie=(U-X)/Re),ce===U&&(Ie=2+(X-F)/Re),ce===X&&(Ie=4+(F-U)/Re),ce&&(Xe=Re/ce)),Ie=t.floor(Ie*60),{h:Ie<0?Ie+360:Ie,s:t.round(Xe*100),v:t.round(Qe*100),a:x.a}}function zo(x){const F=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i;let U,X;return a.fillStyle="#000",a.fillStyle=x,U=F.exec(a.fillStyle),U?X={r:U[3]*1,g:U[4]*1,b:U[5]*1,a:U[6]*1}:(U=a.fillStyle.replace("#","").match(/.{2}/g).map(ce=>parseInt(ce,16)),X={r:U[0],g:U[1],b:U[2],a:1}),X}function qo(x){let F=x.r.toString(16),U=x.g.toString(16),X=x.b.toString(16),ce="";if(x.r<16&&(F="0"+F),x.g<16&&(U="0"+U),x.b<16&&(X="0"+X),$.alpha&&(x.a<1||$.forceAlpha)){const be=x.a*255|0;ce=be.toString(16),be<16&&(ce="0"+ce)}return"#"+F+U+X+ce}function Ho(x){return!$.alpha||x.a===1&&!$.forceAlpha?`rgb(${x.r}, ${x.g}, ${x.b})`:`rgba(${x.r}, ${x.g}, ${x.b}, ${x.a})`}function Vo(x){return!$.alpha||x.a===1&&!$.forceAlpha?`hsl(${x.h}, ${x.s}%, ${x.l}%)`:`hsla(${x.h}, ${x.s}%, ${x.l}%, ${x.a})`}function Go(){e.getElementById("clr-picker")||(s=n,o=e.createElement("div"),o.setAttribute("id","clr-picker"),o.className="clr-picker",o.innerHTML=`<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="${$.a11y.input}"><div id="clr-color-area" class="clr-gradient" role="application" aria-label="${$.a11y.instruction}"><div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue"><input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="${$.a11y.hueSlider}"><div id="clr-hue-marker"></div></div><div class="clr-alpha"><input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="${$.a11y.alphaSlider}"><div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented"><legend>${$.a11y.format}</legend><input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div><button type="button" id="clr-clear" class="clr-clear" aria-label="${$.a11y.clear}">${$.clearLabel}</button><div id="clr-color-preview" class="clr-preview"><button type="button" id="clr-close" class="clr-close" aria-label="${$.a11y.close}">${$.closeLabel}</button></div><span id="clr-open-label" hidden>${$.a11y.open}</span><span id="clr-swatch-label" hidden>${$.a11y.swatch}</span>`,e.body.appendChild(o),l=Ge("clr-color-area"),c=Ge("clr-color-marker"),f=Ge("clr-clear"),h=Ge("clr-close"),u=Ge("clr-color-preview"),d=Ge("clr-color-value"),g=Ge("clr-hue-slider"),m=Ge("clr-hue-marker"),p=Ge("clr-alpha-slider"),b=Ge("clr-alpha-marker"),le($.el),Pe($.el),je(o,"mousedown",x=>{o.classList.remove("clr-keyboard-nav"),x.stopPropagation()}),je(l,"mousedown",x=>{je(e,"mousemove",ue)}),je(l,"contextmenu",x=>{x.preventDefault()}),je(l,"touchstart",x=>{e.addEventListener("touchmove",ue,{passive:!1})}),je(c,"mousedown",x=>{je(e,"mousemove",ue)}),je(c,"touchstart",x=>{e.addEventListener("touchmove",ue,{passive:!1})}),je(d,"change",x=>{const F=d.value;if(E||$.inline){const U=F===""?F:Se(F);j(U)}}),je(f,"click",x=>{j(""),Ae()}),je(h,"click",x=>{j(),Ae()}),je(Ge("clr-format"),"click",".clr-format input",x=>{k=x.target.value,yt(),j()}),je(o,"click",".clr-swatches button",x=>{Se(x.target.textContent),j(),$.swatchesOnly&&Ae()}),je(e,"mouseup",x=>{e.removeEventListener("mousemove",ue)}),je(e,"touchend",x=>{e.removeEventListener("touchmove",ue)}),je(e,"mousedown",x=>{y=!1,o.classList.remove("clr-keyboard-nav"),Ae()}),je(e,"keydown",x=>{const F=x.key,U=x.target,X=x.shiftKey;if(F==="Escape"?Ae(!0):["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(F)&&(y=!0,o.classList.add("clr-keyboard-nav")),F==="Tab"&&U.matches(".clr-picker *")){const be=vi(),Re=be.shift(),Qe=be.pop();X&&U===Re?(Qe.focus(),x.preventDefault()):!X&&U===Qe&&(Re.focus(),x.preventDefault())}}),je(e,"click",".clr-field button",x=>{O&&Z(),x.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),je(c,"keydown",x=>{const F={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(F).includes(x.key)&&($e(...F[x.key]),x.preventDefault())}),je(l,"click",ue),je(g,"input",Ct),je(p,"input",_r))}function vi(){return Array.from(o.querySelectorAll("input, button")).filter(U=>!!U.offsetWidth)}function Ge(x){return e.getElementById(x)}function je(x,F,U,X){const ce=Element.prototype.matches||Element.prototype.msMatchesSelector;typeof U=="string"?x.addEventListener(F,be=>{ce.call(be.target,U)&&X.call(be.target,be)}):(X=U,x.addEventListener(F,X))}function kn(x,F){F=F!==n?F:[],e.readyState!=="loading"?x(...F):e.addEventListener("DOMContentLoaded",()=>{x(...F)})}NodeList!==n&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function Wo(x,F){E=F,S=E.value,Q(F),k=D(x),ye(),Se(x),j(),S!==x&&E.dispatchEvent(new Event("change",{bubbles:!0}))}const ca=(()=>{const x={init:Go,set:M,wrap:Pe,close:Ae,setInstance:J,setColor:Wo,removeInstance:Y,updatePosition:ye,ready:kn};function F(U){kn(()=>{U&&(typeof U=="string"?le(U):M(U))})}for(const U in x)F[U]=function(){for(var X=arguments.length,ce=new Array(X),be=0;be<X;be++)ce[be]=arguments[be];kn(x[U],ce)};return kn(()=>{r.addEventListener("resize",U=>{F.updatePosition()}),r.addEventListener("scroll",U=>{F.updatePosition()})}),F})();return ca.coloris=ca,ca})(window,document,Math)})(),Mh=Xt.coloris,Bh=Xt.init;Xt.set;Xt.wrap;Xt.close;Xt.setInstance;Xt.removeInstance;Xt.updatePosition;const ke=W({show:!1,title:"",message:"",cancelLabel:"Cancel",confirmLabel:"Yes",component:null,props:null,resolve:null});function ar(r,e,t="Cancel",n="Yes",a=null,i=null){return new Promise(s=>{ke.title=r,ke.message=e,ke.cancelLabel=t,ke.confirmLabel=n,ke.show=!0,ke.component=a,ke.props=i,ke.resolve=s})}function Rn(r){ke.resolve&&(ke.resolve(r),ke.resolve=null,ke.component=null),ke.show=!1}const Fh=r=>r;function Ro(r){const e=r-1;return e*e*e+1}function ls(r){const e=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[r,"px"]}function di(r,{delay:e=0,duration:t=400,easing:n=Fh}={}){const a=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*a}`}}function Uh(r,{delay:e=0,duration:t=400,easing:n=Ro,x:a=0,y:i=0,opacity:s=0}={}){const o=getComputedStyle(r),l=+o.opacity,c=o.transform==="none"?"":o.transform,u=l*(1-s),[d,f]=ls(a),[h,g]=ls(i);return{delay:e,duration:t,easing:n,css:(m,p)=>`
			transform: ${c} translate(${(1-m)*d}${f}, ${(1-m)*h}${g});
			opacity: ${l-u*p}`}}function sa(r,{delay:e=0,duration:t=400,easing:n=Ro,start:a=0,opacity:i=0}={}){const s=getComputedStyle(r),o=+s.opacity,l=s.transform==="none"?"":s.transform,c=1-a,u=o*(1-i);return{delay:e,duration:t,easing:n,css:(d,f)=>`
			transform: ${l} scale(${1-c*f});
			opacity: ${o-u*f}
		`}}var zh=A('<h2 class="text-xl font-semibold text-black mb-2"> </h2>'),qh=A('<p class="text-gray-700 mb-4"> </p>'),Hh=A('<div class="fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50" tabindex="0"><div class="bg-white p-6 rounded-lg shadow-lg text-center max-w-sm w-full" role="dialog" aria-modal="true"><!> <!> <!> <div class="mt-4 flex justify-center space-x-4"><button class="px-4 py-2 bg-white text-gray-700 rounded border border-gray-300 hover:bg-gray-100"> </button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"> </button></div></div></div>');function No(r,e){de(e,!1),ht();var t=G(),n=N(t);{var a=i=>{var s=Hh(),o=w(s),l=w(o);{var c=k=>{var S=zh(),y=w(S);K(()=>se(y,ke.title)),_(k,S)};z(l,k=>{ke.title&&k(c)})}var u=P(l,2);{var d=k=>{var S=qh(),y=w(S);K(()=>se(y,ke.message)),_(k,S)};z(u,k=>{ke.message&&k(d)})}var f=P(u,2);{var h=k=>{var S=G(),y=N(S);mr(y,()=>ke.component,(T,$)=>{$(T,{get props(){return ke.props}})}),_(k,S)};z(f,k=>{ke.component&&k(h)})}var g=P(f,2),m=w(g),p=w(m),b=P(m,2),E=w(b);K(()=>{se(p,ke.cancelLabel),se(E,ke.confirmLabel)}),V("click",m,()=>Rn(!1)),V("click",b,()=>Rn((ke==null?void 0:ke.props)??!0)),V("click",o,dr(function(k){ta.call(this,e,k)})),Kt(3,o,()=>sa,()=>({duration:200})),V("click",s,()=>Rn(!1)),Kt(3,s,()=>di),_(i,s)};z(n,i=>{ke.show&&i(a)})}_(r,t),fe()}var Vh=A('<input placeholder="Rename form name" class="border p-2 w-full">');function Gh(r,e){de(e,!0);let t=H(e,"props",15);var n=Vh();qe(n,()=>t().name,a=>t(t().name=a,!0)),_(r,n),fe()}var Wh=A('<div class="fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50" tabindex="0"><div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col items-center gap-4" role="dialog" aria-modal="true"><canvas></canvas> <div class="flex flex-col items-center mt-2"><label class="text-sm mb-2 font-medium text-gray-600">Change QR Color</label> <input type="color" class="w-14 h-14 p-0 border-0 rounded cursor-pointer"></div> <div class="flex gap-3 mt-3"><button class="px-4 py-2 rounded-lg text-white bg-blue-600 hover:bg-blue-700 font-semibold flex items-center gap-2"><!> Download</button></div></div></div>');function Jh(r,e){de(e,!0);let t,n,a="#000000";const i="#ffffff",s=220,o=20;async function l(){var p;if(!t||!n||!((p=ke.props)!=null&&p.text))return;await Ql();const h=t.getContext("2d"),g=document.createElement("canvas");await n.toCanvas(g,ke.props.text,{width:s,margin:0,color:{dark:a,light:i}});const m=g.height;t.width=s,t.height=m+o,h.clearRect(0,0,t.width,t.height),h.drawImage(g,0,0),h.fillStyle="#555",h.font="bold 12px Verdana, Geneva, sans-serif",h.textAlign="center",h.textBaseline="top",h.fillText("Powered by Fabform.io",s/2,m+6)}function c(){if(!t)return;const h=document.createElement("a");h.download="qrcode.png",h.href=t.toDataURL("image/png"),h.click()}Ke(async()=>{var g;n=(await fr(()=>import("./browser-Ogajpj_w.js").then(m=>m.b),[])).default,ke.show&&((g=ke.props)!=null&&g.text)&&l()}),rt(()=>{var h;ke.show&&n&&t&&((h=ke.props)!=null&&h.text)&&l()});var u=G(),d=N(u);{var f=h=>{var g=Wh(),m=w(g),p=w(m);_n(p,T=>t=T,()=>t);var b=P(p,2),E=P(w(b),2),k=P(b,2),S=w(k),y=w(S);Eo(y,{class:"w-5 h-5"}),qe(E,()=>a,T=>a=T),V("input",E,l),V("click",S,c),V("click",m,dr(function(T){ta.call(this,e,T)})),Kt(3,m,()=>sa,()=>({duration:200})),V("click",g,()=>Rn(!1)),Kt(3,g,()=>di),_(h,g)};z(d,h=>{var g;ke.show&&((g=ke.props)!=null&&g.text)&&h(f)})}_(r,u),fe()}var Kh=A('<input placeholder="Enter Friendly URL name" class="border p-2 w-full"> <p class="m-1 text-sm text-blue-600 hover:text-blue-800 hover:underline cursor-pointer"> </p>',1);function Yh(r,e){de(e,!0);let t=H(e,"props",15);var n=Kh(),a=N(n),i=P(a,2),s=w(i);K(()=>se(s,`https://fabform/v/${t().slugName??""}`)),qe(a,()=>t().slugName,o=>t(t().slugName=o,!0)),_(r,n),fe()}const cr="https://fabform.io";var Qh=A('<a><!> <span class="text-xs mt-0.5"> </span></a>'),Xh=A('<div class="w-full fixed top-0 left-0 z-50 bg-white border-b border-gray-200 shadow-sm"><nav class="w-full flex items-center justify-between px-4 py-2"><div class="flex items-center space-x-2"><!> <p class="ml-4 font-semibold "> </p></div> <div class="flex items-center space-x-6"></div> <div class="flex items-center gap-2"><!> <!></div></nav></div>');function Zh(r,e){let t=H(e,"formName",3,""),n=H(e,"activeMenuLabel",3,""),a=H(e,"currentFormId",3,"");H(e,"formId",3,"");const i=[{icon:Ef,label:"Build",url:`/form/build/${a()}`},{icon:Nf,label:"Design",url:`/form/design/${a()}`},{icon:na,label:"Integrate",url:"/integrate"},{icon:Hf,label:"Share",url:`/share/${a()}`},{icon:gf,label:"Responses",url:`/responses/${a()}`}];var s=Xh(),o=w(s),l=w(o),c=w(l);Ah(c,{});var u=P(c,2),d=w(u),f=P(l,2);Be(f,21,()=>i,He,(E,k)=>{let S=()=>v(k).icon,y=()=>v(k).label,T=()=>v(k).url;var $=Qh(),C=w($);mr(C,S,(O,M)=>{M(O,{size:24})});var q=P(C,2),R=w(q);pt($,O=>ot==null?void 0:ot(O)),K(()=>{ve($,"href",T()),Ce($,`flex flex-col items-center transition-all duration-200 cursor-pointer
                  ${y()===n()?"text-blue-600 font-semibold scale-110":"text-gray-600 hover:text-blue-500"}`),se(R,y())}),_(E,$)});var h=P(f,2),g=w(h);const m=Ne(()=>`${cr}/v/${a()}`);xh(g,{get url(){return v(m)}});var p=P(g,2);const b=Ne(()=>`${cr}/v/${a()}`);jo(p,{get link(){return v(b)}}),K(()=>se(d,t())),_(r,s)}function Nt(r,e){const t=n=>{r.contains(n.target)||e==null||e()};return document.addEventListener("mousedown",t,!0),{update(n){e=n},destroy(){document.removeEventListener("mousedown",t,!0)}}}var ev=A('<a href="https://fabform.io/v/fabform-feedback" target="_BLANK" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition"><!> Feedback Form</a> <div class="px-4 py-2 text-sm text-gray-500 border-t border-gray-100"> </div> <button class="flex w-full text-left items-center gap-2 px-4 py-2 text-red-600 hover:bg-gray-100 hover:text-red-700 transition"><!> Logout</button>',1),tv=A('<a href="/login" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition"><!> Login</a> <a href="/signup" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-purple-600 transition"><!> Signup</a>',1),rv=A('<div class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-2 z-50"><!></div>'),nv=A('<nav class="bg-white border-b border-gray-200 shadow-sm px-6 py-4 font-sans"><div class="flex justify-between items-center"><a href="/" class="flex items-center"><img src="/logo.png" alt="FabForm Logo" class="h-8 w-auto hover:opacity-80 transition"></a> <a target="_blank" rel="noopener noreferrer" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-2xl shadow-md flex items-center gap-2 transition duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2"><svg class="w-5 h-5 text-white/80" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Buy Pro</a> <div class="relative"><button class="focus:outline-none"><!></button> <!></div></div></nav>');function av(r,e){de(e,!1);const{state:t,logout:n}=yr;let a=Me(!1);const i=async()=>{I(a,!1),await n(),Dt("/login")},s=()=>I(a,!v(a));ht();var o=nv(),l=w(o),c=w(l);pt(c,p=>ot==null?void 0:ot(p));var u=P(c,2);ve(u,"href",`${cr}/pricing/`);var d=P(u,2),f=w(d),h=w(f);To(h,{class:"w-6 h-6 text-gray-600 hover:text-indigo-600 transition"});var g=P(f,2);{var m=p=>{var b=rv(),E=w(b);{var k=y=>{var T=ev(),$=N(T),C=w($);Cf(C,{class:"w-4 h-4"});var q=P($,2),R=w(q),O=P(q,2),M=w(O);Of(M,{class:"w-4 h-4"}),K(()=>se(R,t.user.email)),V("click",$,()=>I(a,!1)),V("click",O,i),_(y,T)},S=y=>{var T=tv(),$=N(T),C=w($);jf(C,{class:"w-4 h-4"}),pt($,O=>ot==null?void 0:ot(O)),it(()=>V("click",$,()=>I(a,!1)));var q=P($,2),R=w(q);eh(R,{class:"w-4 h-4"}),pt(q,O=>ot==null?void 0:ot(O)),it(()=>V("click",q,()=>I(a,!1))),_(y,T)};z(E,y=>{t.user?y(k):y(S,!1)})}pt(b,(y,T)=>Nt==null?void 0:Nt(y,T),()=>()=>I(a,!1)),_(p,b)};z(g,p=>{v(a)&&p(m)})}V("click",f,s),_(r,o),fe()}function fi(r,e){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>r(...n),e)}}var iv=A('<div class="flex items-center justify-center h-screen"><!></div>'),sv=A('<main class="h-screen flex flex-col"><!> <!></main>');function oa(r,e){de(e,!0);let t=H(e,"form",15),n=H(e,"formId",7),a=ie("loading");const i=fi(u=>{I(a,W(u))},500);Ke(async()=>{const u=await ci(n());u.success||I(a,"notfound"),t(u.data.form),i("ok")});var s=G(),o=N(s);{var l=u=>{var d=iv(),f=w(d);Th(f),_(u,d)},c=u=>{var d=G(),f=N(d);{var h=m=>{Ih(m,{})},g=m=>{var p=sv(),b=w(p);Zh(b,{get activeMenuLabel(){return e.activeMenuLabel},get formName(){return t().name},get currentFormId(){return n()},set currentFormId(k){n(k)}});var E=P(b,2);mc(E,()=>e.children??ir),_(m,p)};z(f,m=>{v(a)==="notfound"?m(h):m(g,!1)},!0)}_(u,d)};z(o,u=>{v(a)==="loading"?u(l):u(c,!1)})}_(r,s),fe()}var ov=A('<p class="text-gray-500 font-semibold mt-2 mb-1">Welcome Screen</p>'),lv=A('<p class="text-gray-500 font-semibold mt-2 mb-1">Thank You Screen</p>'),cv=A('<p class="text-gray-500 font-semibold mt-2 mb-1">Blocks</p>'),uv=A('<!> <div><div class="flex items-center gap-1 flex-1 text-sm text-gray-800"><div class="shrink-0"><!></div> <span class="truncate mx-2 block"> </span></div> <div class="shrink-0 pointer-events-auto relative opacity-0 group-hover:opacity-100 transition-opacity duration-300"><!></div></div>',1),dv=A('<section class="p-2 space-y-1 min-h-[100px] pb-20 overflow-hidden"></section>');function fv(r,e){de(e,!1);let t=H(e,"blocks",24,()=>[]),n=H(e,"blockNo",12,null),a=H(e,"changeBlock",8),i=H(e,"deleteBlock",8),s=H(e,"duplicateBlock",8);function o(u,d){n(d),a()(d)}const l=t().some(u=>u.meta.blockTypeId!==1&&u.meta.blockTypeId!==99);ht();var c=dv();Be(c,7,t,u=>u.id,(u,d,f)=>{var h=uv(),g=N(h);{var m=R=>{var O=ov();_(R,O)},p=R=>{var O=G(),M=N(O);{var J=Q=>{var Z=lv();_(Q,Z)},Y=Q=>{var Z=G(),le=N(Z);{var pe=ye=>{var Pe=cv();_(ye,Pe)};z(le,ye=>{v(f)===0&&l&&ye(pe)},!0)}_(Q,Z)};z(M,Q=>{v(d).meta.blockTypeId===99?Q(J):Q(Y,!1)},!0)}_(R,O)};z(g,R=>{v(d).meta.blockTypeId===1?R(m):R(p,!1)})}var b=P(g,2),E=w(b),k=w(E),S=w(k);{var y=R=>{var O=G(),M=N(O);mr(M,()=>v(d).meta.icon,(J,Y)=>{Y(J,{class:"w-5 h-5 text-blue-600"})}),_(R,O)};z(S,R=>{v(d).meta.icon&&R(y)})}var T=P(k,2),$=w(T),C=P(E,2),q=w(C);Oo(q,{dropdownItems:[{label:"Duplicate",icon:"Duplicate",onClick:()=>s()(v(d).id)},{label:"Delete",icon:"Delete",onClick:()=>i()(v(d).id)}]}),K(()=>{Ce(b,`block-draggable w-full sm:w-72 flex items-center justify-between gap-2 p-2 rounded-md transition-all h-16 group
              ${v(d).meta.bgColor}
              ${n()===v(f)?"border-2 shadow-lg scale-105":"border border-gray-300 shadow-sm my-2"}`),se($,v(d).meta.title||v(d).meta.question)}),V("click",b,()=>o(v(d).id,v(f))),_(u,h)}),_(r,c),fe()}const De=["bg-red-100","bg-orange-100","bg-yellow-100","bg-green-100","bg-blue-100","bg-indigo-100","bg-purple-100","bg-pink-100","bg-fuchsia-100","bg-rose-100","bg-teal-100","bg-emerald-100","bg-cyan-100","bg-lime-100","bg-amber-100","bg-sky-100","bg-violet-100","bg-rose-200","bg-pink-200","bg-fuchsia-200","bg-violet-200","bg-indigo-200","bg-orange-200","bg-yellow-200","bg-green-200"],sn=[{blockTypeId:1,label:"Welcome",title:"Hello There ",description:"Mind giving this form a quick fill?",embed:"",buttonText:"Lets Start",component:"Welcome",textAlign:"center",coverImageProps:{coverImage:"",layout:""},bgColor:De[0],icon:Wf},{blockTypeId:2,label:"Short Text Block",question:"Your question here...",component:"ShortText",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:De[1],icon:Ff},{blockTypeId:3,label:"Long Text Block",question:"Your question here...",component:"LongText",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here...",maxCharacters:"",size:"Medium"},textAlign:"left",coverImageProps:{coverImage:"",layout:""},bgColor:De[2],icon:_f},{blockTypeId:4,label:"Single Select Option",question:"Which do you prefer?",component:"Select",buttonText:"Next",validation:{required:!1},props:{choices:[],multiple:!1},coverImageProps:{coverImage:"",layout:""},bgColor:De[3],icon:pf},{blockTypeId:5,label:"Multi Select Option",question:"Please choose at least one option",component:"Select",buttonText:"Next",validation:{required:!1},props:{choices:[],multiple:!0},coverImageProps:{coverImage:"",layout:""},bgColor:De[4],icon:If},{blockTypeId:6,label:"Dropdown",question:"Please choose",component:"DropdownBlock",buttonText:"Next",validation:{required:!1},props:{choices:["One","Two","Three"]},coverImageProps:{coverImage:"",layout:""},bgColor:De[5],icon:Kf},{blockTypeId:7,label:"StarRating",question:"How would you rate your experience?",component:"StarRating",buttonText:"Next",validation:{required:!1},props:{maxRating:"5"},coverImageProps:{coverImage:"",layout:""},bgColor:De[6],icon:Co},{blockTypeId:8,label:"DatePicker",question:"Please select a date",component:"DatePicker",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[7],icon:vf},{blockTypeId:9,label:"Number",question:"Please enter a number",component:"Number",buttonText:"Next",validation:{required:!1},props:{placeholder:""},coverImageProps:{coverImage:"",layout:""},bgColor:De[8],icon:Tf},{blockTypeId:10,label:"OpinionScale",question:"How likely are you to recommend us?",component:"OpinionScale",buttonText:"Next",validation:{required:!1},props:{start:"1",end:"10",leftLabel:"Good",rightLabel:"Bad"},coverImageProps:{coverImage:"",layout:""},bgColor:De[9],icon:$f},{blockTypeId:11,label:"PhoneNumber",question:"Please enter a phone number",component:"PhoneNumber",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[10],icon:Df},{blockTypeId:12,label:"Statement",title:"This is The Statement Block",description:"This is where you would put your statement text here",component:"Statement",buttonText:"Next",props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[11],icon:qf},{blockTypeId:14,label:"Website URL",question:"Please enter a URL",component:"Website",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[13],icon:na},{blockTypeId:15,label:"Scheduler URL",component:"Scheduler",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[14],icon:Qf},{blockTypeId:16,label:"FileUploader",component:"FileUploader",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[15],icon:Zf},{blockTypeId:17,label:"Email",question:"Your email address?",component:"Email",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:De[16],icon:Lf},{blockTypeId:18,label:"Checkbox",question:"Please check if....",component:"CheckboxBlock",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:De[17],icon:Jf},{blockTypeId:19,label:"MoodMeter",question:"How did we make you feel?",component:"MoodMeter",buttonText:"Next",validation:{required:!1},coverImageProps:{coverImage:"",layout:""},bgColor:De[18],icon:Gf},{blockTypeId:20,label:"Timeslot Picker",title:"Timeslot Picker",description:"",embed:"",component:"TimeSlotPicker",textAlign:"center",coverImageProps:{coverImage:"",layout:""},bgColor:De[20],icon:$o},{blockTypeId:98,label:"Signature",title:"Signature",component:"Signature",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[12],icon:Vf},{blockTypeId:99,label:"ThankYou",title:"Thanks ",description:"Thanks",embed:"",component:"ThankYou",buttonText:"Submit",textAlign:"center",coverImageProps:{coverImage:"",layout:""},bgColor:De[20],icon:Rf}],la=r=>({success:!0,data:r}),hr=r=>({success:!1,error:(r==null?void 0:r.message)||"Unknown error"});async function za(r,e){const t={...e},{data:n,error:a}=await xe.from("blocks").select("position").eq("form_id",r).order("position",{ascending:!1}).limit(1).single();if(a&&a.code!=="PGRST116")return hr(a);const i=n?n.position+1:0,{data:s,error:o}=await xe.from("blocks").insert({form_id:r,position:i,meta:t}).select().single();return o?hr(o):la({blockId:s.id})}async function Do(r){const{data:e,error:t}=await xe.from("blocks").select("*").eq("form_id",r).order("position",{ascending:!0});return t?hr(t):la({blocks:e})}async function cs(r){const{id:e,meta:t,position:n}=r;if(!e)return hr("Missing block ID");const a={};t!==void 0&&(a.meta=t),n!==void 0&&(a.position=n);const{data:i,error:s}=await xe.from("blocks").update(a).eq("id",e).select().single();return s?hr(s):la({block:i})}async function hv(r){const{data:e,error:t}=await xe.from("blocks").delete().eq("id",r).select();return t?hr(t):e!=null&&e.length?la({id:e[0].id}):hr("Block not found")}const us=r=>{r=1831565813+(r|=0)|0;let e=Math.imul(r^r>>>15,1|r);return e=e+Math.imul(e^e>>>7,61|e)^e,((e^e>>>14)>>>0)/4294967296};class vv{constructor(e){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:t,separator:n,dictionaries:a,style:i,seed:s}=e;this.dictionaries=a,this.separator=n,this.length=t,this.style=i,this.seed=s}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let e=this.seed;return this.dictionaries.slice(0,this.length).reduce((t,n)=>{let a;e?(a=(s=>{if(typeof s=="string"){const o=s.split("").map(c=>c.charCodeAt(0)).reduce((c,u)=>c+u,1),l=Math.floor(Number(o));return us(l)}return us(s)})(e),e=4294967296*a):a=Math.random();let i=n[Math.floor(a*n.length)]||"";if(this.style==="lowerCase")i=i.toLowerCase();else if(this.style==="capital"){const[s,...o]=i.split("");i=s.toUpperCase()+o.join("")}else this.style==="upperCase"&&(i=i.toUpperCase());return t?`${t}${this.separator}${i}`:`${i}`},"")}}const ds={separator:"_",dictionaries:[]},gv=r=>{const e=[...r&&r.dictionaries||ds.dictionaries],t={...ds,...r,length:r&&r.length||e.length,dictionaries:e};if(!r||!r.dictionaries||!r.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new vv(t).generate()};var pv=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blind","blonde","bloody","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","capitalist","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","crazy","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deaf","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","filthy","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","gay","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handicapped","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homeless","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","imperial","implicit","important","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","male","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","naked","narrow","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","olympic","only","open","operational","opposite","optimistic","oral","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","political","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","socialist","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","soviet","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","stupid","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","tory","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xenophobic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],mv=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"],bv=A('<div class="flex flex-col items-center justify-center py-20 bg-gray-100 rounded-lg text-center space-y-4"><!> <h2 class="text-xl font-semibold text-gray-700">No forms created yet</h2> <p class="text-gray-500">Start by creating a new form to get started.</p> <button class="bg-black text-white px-6 py-2 rounded-xl hover:bg-neutral-800 transition">Create New Form</button></div>'),yv=A('<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6"></div>'),_v=A('<div class="fixed bottom-6 right-6 bg-gradient-to-r from-pink-600 to-red-500 text-white px-6 py-4 rounded-xl shadow-lg cursor-pointer animate-bounce z-50 max-w-xs hover:scale-105 transition-transform duration-300"><div class="font-bold text-lg"></div> <div class="text-sm mt-1"></div> <div class="mt-2 text-xs uppercase tracking-wide bg-white/20 px-2 py-1 rounded font-semibold"> </div> <div class="mt-2 text-sm font-semibold">Dont miss your chance to lock in lifetime access before it goes back to $30/month!</div></div>'),wv=A('<!> <div class="p-6 bg-gray-50 text-black min-h-screen"><!> <div class="flex justify-between items-center mb-6"><h1 class="text-2xl font-bold">My Forms</h1> <button class="bg-gradient-to-r from-pink-600 to-red-500 text-white px-6 py-3 rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 font-semibold flex items-center justify-center gap-2"><span>Get Lifetime Access  Only $59!</span> <span class="text-xs bg-white/20 px-2 py-1 rounded uppercase font-bold">Limited Time</span> <span class="ml-2 text-xs font-semibold"> </span></button> <button class="flex items-center gap-2 px-4 py-2 bg-black text-white rounded-xl hover:bg-neutral-800 transition"><!> <span>New Form</span></button></div> <!></div> <!>',1);function xv(r,e){de(e,!1);const{state:t}=yr;function n(){return gv({dictionaries:[pv,mv],separator:"-",length:2,style:"lowerCase"})}let a=Me([]),i=Me({}),s=Me({});const o={backgroundImage:"",backgroundColor:"#f9fafb",questionColor:"#1f2937",answerColor:"#374151",buttonColor:"#2563eb",buttonTextColor:"#ffffff",starRatingColor:"#facc15",font:"Inter",logo:null,roundedCorner:!0,fontSize:"Medium"},l=t.user.id;Ke(c);async function c(){if(!l)return;const L=await Xd(l);I(a,L.success?L.data.forms:[]);for(let re of v(a))await u(re.id),await d(re.id)}async function u(L){const{success:re,data:ue}=await ah(L);I(i,{...v(i),[L]:re?ue.count:0})}async function d(L){const{success:re,data:ue}=await sf(L);I(s,{...v(s),[L]:re?ue.views:0})}async function f(L){const re=await ar("Rename Form Link","","Cancel","Rename",Yh,{slugName:n()}),ue=re==null?void 0:re.slugName;if(!ue)return;(await nf(L,ue)).success&&c()}async function h(L){var ue;const re=await ar("Rename form","","Cancel","Rename",Gh,{name:"Untitled"});(ue=re==null?void 0:re.name)!=null&&ue.trim()&&(await ef({id:L,name:re.name})).success&&c()}async function g(L){await ar("Delete Confirmation","Are you sure you want to delete this form?","No, keep it","Yes, delete it")&&(await tf(L)).success&&await c()}async function m(){if(!l)return console.error("User ID missing");const L={name:"Untitled Form",user_id:l,meta:{...o}},re=await Zd(L);if(re.success){await c();const ue=re.data.id;await za(ue,sn[0]),await za(ue,sn[sn.length-1])}}function p(L){navigator.clipboard.writeText(cr+`/v/${L}`)}function b(L){window.location.href=cr+`/v/${L}`}async function E(L){const{success:re,data:ue}=await rf(L);re?(await ar("Form Duplicated","Your form was successfully duplicated.","Close",null),c()):await ar("Duplicate Failed","Failed to duplicate form: "+((ue==null?void 0:ue.error)||"Unknown error"),"Close",null)}let k=Me(!0),y="Lifetime Access  Only $59!",T="Grab this limited-time deal before its gone!",$=Me("");const C=new Date,q=new Date(C.getFullYear(),C.getMonth(),C.getDate(),23,59,59).getTime();function R(){window.open("https://fabform.io/pricing","_blank")}function O(){const L=new Date().getTime(),re=q-L;if(re<=0){I($,"Offer expired"),I(k,!1);return}const ue=Math.floor(re%(1e3*60*60*24)/(1e3*60*60)),$e=Math.floor(re%(1e3*60*60)/(1e3*60)),Ye=Math.floor(re%(1e3*60)/1e3);I($,`${ue}h ${$e}m ${Ye}s`)}let M;Ke(()=>(O(),M=setInterval(O,1e3),()=>clearInterval(M))),ht();var J=wv(),Y=N(J);av(Y,{});var Q=P(Y,2),Z=w(Q);No(Z,{});var le=P(Z,2),pe=P(w(le),2),ye=P(w(pe),4),Pe=w(ye),_e=P(pe,2),he=w(_e);Mf(he,{class:"w-5 h-5"});var Ae=P(le,2);{var Se=L=>{var re=bv(),ue=w(re);Ao(ue,{class:"w-16 h-16 text-gray-400"});var $e=P(ue,6);V("click",$e,m),_(L,re)},D=L=>{var re=yv();Be(re,5,()=>v(a),He,(ue,$e)=>{_h(ue,{get form(){return v($e)},get responseCount(){return v(i)[v($e).id]},get formViewCount(){return v(s)[v($e).id]},onOpen:()=>b(v($e).id),onCopy:()=>p(v($e).id),onRenameForm:()=>h(v($e).id),onRenameFormSlug:()=>f(v($e).id),onDuplicate:()=>E(v($e).id),onDelete:()=>g(v($e).id),onQRCode:()=>ar("QR Code","","Close",null,Jh,{text:cr+`/v/${v($e).slug||v($e).id}`})})}),_(L,re)};z(Ae,L=>{v(a).length===0?L(Se):L(D,!1)})}var j=P(Q,2);{var B=L=>{var re=_v(),ue=w(re);ue.textContent=y;var $e=P(ue,2);$e.textContent=T;var Ye=P($e,2),yt=w(Ye);K(()=>se(yt,`Limited Offer  Ends Today in ${v($)??""}`)),V("click",re,R),_(L,re)};z(j,L=>{v(k)&&L(B)})}K(()=>se(Pe,v($))),V("click",pe,R),V("click",_e,m),_(r,J),fe()}var kv=A('<button><!> <span class="text-center font-semibold svelte-1r71yjz"> </span></button>'),$v=A(`<div class="fixed inset-0 flex items-center justify-center z-50 bg-black/30 svelte-1r71yjz" tabindex="0" role="dialog" aria-modal="true"><div class="bg-white rounded-2xl w-[92vw] max-w-5xl p-6 shadow-2xl
             flex flex-col gap-6 items-center animate-fade-scale-in
             max-h-[90vh] overflow-hidden svelte-1r71yjz"><div class="w-full flex justify-between items-center shrink-0 svelte-1r71yjz"><h2 class="text-2xl font-semibold tracking-tight text-gray-900 select-none svelte-1r71yjz">Choose your block</h2> <button aria-label="Close" class="p-2 hover:bg-gray-200 rounded-md transition-colors duration-200 svelte-1r71yjz"><!></button></div> <div class="w-full grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-5
               overflow-y-auto pr-1 svelte-1r71yjz" style="max-height: calc(90vh - 80px);"></div></div></div>`);function Sv(r,e){de(e,!0);const t=Tl("blockPickerClick")??(()=>{});function n(l){t(l),e.close()}function a(l){l.key==="Escape"&&e.close()}var i=G(),s=N(i);{var o=l=>{var c=$v(),u=w(c),d=w(u),f=P(w(d),2),h=w(f);th(h,{class:"w-6 h-6 text-gray-700 hover:text-gray-900"});var g=P(d,2);Be(g,21,()=>sn,He,(m,p)=>{var b=kv(),E=w(b);{var k=T=>{var $=G(),C=N($);mr(C,()=>v(p).icon,(q,R)=>{R(q,{class:"mb-2 w-7 h-7 text-blue-600"})}),_(T,$)};z(E,T=>{v(p).icon&&T(k)})}var S=P(E,2),y=w(S);K(()=>{Ce(b,`${`relative flex flex-col items-center justify-center
                    p-5 rounded-xl cursor-pointer select-none border-2
                    min-h-[115px] min-w-[115px] text-gray-900 text-sm
                    transition-all duration-300 ease-in-out
                    ${v(p).bgColor}
                    border-gray-300 hover:shadow-[0_4px_15px_rgba(0,0,0,0.1)]
                    hover:scale-105 hover:border-indigo-400`??""} svelte-1r71yjz`),se(y,v(p).label)}),V("click",b,()=>n(v(p))),_(m,b)}),V("click",f,function(...m){var p;(p=e.close)==null||p.apply(this,m)}),V("click",u,dr(function(m){ta.call(this,e,m)})),V("click",c,()=>e.close()),V("keydown",c,a),_(l,c)};z(s,l=>{e.show&&l(o)})}_(r,i),fe()}var Ev=A("<div><!></div>"),Tv=A('<div class="w-full h-48 md:h-64 bg-cover bg-center"></div>'),Pv=A('<div class="flex flex-col items-center w-full min-h-screen"><!> <div class="flex flex-col justify-center items-center w-full p-4"><!></div></div>'),Av=A('<div class="w-full md:w-1/2 h-48 md:h-auto bg-cover bg-center"></div>'),Cv=A('<div class="flex flex-col md:flex-row w-full min-h-screen"><!> <div class="w-full md:w-1/2 flex flex-col justify-center items-center p-4"><!></div></div>'),Iv=A('<div class="w-full md:w-1/2 h-48 md:h-auto bg-cover bg-center"></div>'),jv=A('<div class="flex flex-col md:flex-row w-full min-h-screen"><div class="w-full md:w-1/2 flex flex-col justify-center items-center p-4"><!></div> <!></div>'),Ov=A('<div class="flex items-center justify-center min-h-screen w-full"><!></div>');function Mo(r,e){var f,h,g,m,p,b,E,k,S,y;de(e,!0);let t=H(e,"block",7,null),n=H(e,"canAnswer",3,!1),a=H(e,"uiMeta",19,()=>({})),i=H(e,"nextBlock",3,()=>{}),s=H(e,"errorMessage",3,"");const o=((g=(h=(f=t())==null?void 0:f.meta)==null?void 0:h.coverImageProps)==null?void 0:g.coverImage)||"",l=((b=(p=(m=t())==null?void 0:m.meta)==null?void 0:p.coverImageProps)==null?void 0:b.layout)||"",c=(k=(E=a())==null?void 0:E.backgroundImage)!=null&&k.startsWith("http")?`background-image: url(${a().backgroundImage}); background-size: cover; background-repeat: no-repeat; background-position: center;`:`background-color: ${((S=a())==null?void 0:S.backgroundColor)||"transparent"}`,d=`${`color: ${((y=a())==null?void 0:y.questionColor)||"inherit"}`}; ${c}`;Dh(r,{fontName:"Special Elite",fontScale:"large",children:(T,$)=>{var C=G(),q=N(C);{var R=M=>{var J=Ev();Ce(J,`flex flex-col items-center justify-center w-full h-full ${o?"bg-cover bg-center":""}`),ve(J,"style",o?`background-image: url('${o}')`:"");var Y=w(J);{var Q=Z=>{Qr(Z,{get uiMeta(){return a()},get canAnswer(){return n()},get clickHandler(){return i()},get errorMessage(){return s()},get block(){return t()},set block(le){t(le)}})};z(Y,Z=>{t()&&Z(Q)})}_(M,J)},O=M=>{var J=G(),Y=N(J);{var Q=le=>{var pe=Pv();ve(pe,"style",c);var ye=w(pe);{var Pe=Se=>{var D=Tv();ve(D,"style",`background-image: url('${o}')`),_(Se,D)};z(ye,Se=>{o&&Se(Pe)})}var _e=P(ye,2),he=w(_e);{var Ae=Se=>{Qr(Se,{get uiMeta(){return a()},get canAnswer(){return n()},get clickHandler(){return i()},get errorMessage(){return s()},get block(){return t()},set block(D){t(D)}})};z(he,Se=>{t()&&Se(Ae)})}_(le,pe)},Z=le=>{var pe=G(),ye=N(pe);{var Pe=he=>{var Ae=Cv(),Se=w(Ae);{var D=re=>{var ue=Av();ve(ue,"style",`background-image: url('${o}')`),_(re,ue)};z(Se,re=>{o&&re(D)})}var j=P(Se,2),B=w(j);{var L=re=>{Qr(re,{get uiMeta(){return a()},get canAnswer(){return n()},get clickHandler(){return i()},get errorMessage(){return s()},get block(){return t()},set block(ue){t(ue)}})};z(B,re=>{t()&&re(L)})}_(he,Ae)},_e=he=>{var Ae=G(),Se=N(Ae);{var D=B=>{var L=jv(),re=w(L),ue=w(re);{var $e=Ct=>{Qr(Ct,{get uiMeta(){return a()},get canAnswer(){return n()},get clickHandler(){return i()},get errorMessage(){return s()},get block(){return t()},set block(_r){t(_r)}})};z(ue,Ct=>{t()&&Ct($e)})}var Ye=P(re,2);{var yt=Ct=>{var _r=Iv();ve(_r,"style",`background-image: url('${o}')`),_(Ct,_r)};z(Ye,Ct=>{o&&Ct(yt)})}_(B,L)},j=B=>{var L=Ov();ve(L,"style",d);var re=w(L);{var ue=$e=>{Qr($e,{get uiMeta(){return a()},get canAnswer(){return n()},get clickHandler(){return i()},get errorMessage(){return s()},get block(){return t()},set block(Ye){t(Ye)}})};z(re,$e=>{t()&&$e(ue)})}_(B,L)};z(Se,B=>{l==="Split-right"?B(D):B(j,!1)},!0)}_(he,Ae)};z(ye,he=>{l==="Split-left"?he(Pe):he(_e,!1)},!0)}_(le,pe)};z(Y,le=>{l==="Stack"?le(Q):le(Z,!1)},!0)}_(M,J)};z(q,M=>{l==="Wallpaper"?M(R):M(O,!1)})}_(T,C)},$$slots:{default:!0}}),fe()}function Lv(r){}var Rv=A('<span class="absolute bottom-0 left-0 h-0.5 w-0 bg-indigo-500 transition-all duration-300 peer-focus:w-full"></span>'),Nv=A('<div class="relative w-full m-0 p-0"><input type="text"> <!></div>');function Dv(r,e){de(e,!0);let t=H(e,"value",15),n=H(e,"canAnswer",3,!1),a=ie(W(t()??""));rt(()=>{t(v(a))});var i=Nv(),s=w(i),o=P(s,2);{var l=c=>{var u=Rv();_(c,u)};z(o,c=>{n()&&c(l)})}K(()=>{ve(s,"placeholder",e.props.placeholder),s.readOnly=!n(),Ce(s,`block w-full bg-transparent border-0 border-b-2 text-xl py-2 px-0 outline-none transition-all duration-300
      ${n()?"text-gray-900 border-gray-400 focus:border-indigo-500 cursor-text":"text-gray-400 border-gray-200 cursor-not-allowed"}
    `)}),qe(s,()=>v(a),c=>I(a,c)),_(r,i),fe()}var Mv=A('<p class="text-sm text-gray-600 mt-2 ml-1 italic"></p>'),Bv=A('<div class="w-full px-4 py-2"><textarea></textarea> <!></div>');function Fv(r,e){de(e,!0);let t=H(e,"value",15),n=H(e,"canAnswer",3,!1),{message:a=""}=e.props??{},i=ie(W(t()??"")),s=Ne(()=>{var h;return((h=e.props)==null?void 0:h.size)??"Medium"});const o={Small:"w-80 h-32",Medium:"w-96 h-40",Large:"w-[32rem] h-48","Extra Large":"w-[32rem] h-64"};function l(h){n()&&(I(i,W(h.target.value)),t(h.target.value))}var c=Bv(),u=w(c),d=P(u,2);{var f=h=>{var g=Mv();g.textContent=a,_(h,g)};z(d,h=>{a&&h(f)})}K(()=>{ve(u,"placeholder",e.props.placeholder),Ce(u,`border rounded-xl p-4 resize-none text-base shadow-sm focus:outline-none
      ${o[v(s)]}
      ${n()?"text-gray-900 border-gray-400 focus:border-indigo-500":"text-gray-400 border-gray-200 cursor-not-allowed"}
    `)}),qe(u,()=>v(i),h=>I(i,h)),V("input",u,l),_(r,c),fe()}var Uv=A('<div class="flex items-center border border-gray-300 rounded-lg px-3 py-2 bg-white shadow-sm"><input type="date" class="appearance-none text-gray-700 text-lg outline-none bg-transparent flex-grow svelte-tkp40j"> <button type="button" class="ml-2 p-1 rounded-md hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500" aria-label="Open calendar"><!></button></div>');function zv(r,e){let t=H(e,"value",15),n=H(e,"canAnswer",3,!1),a=H(e,"props",19,()=>({})),{label:i="Pick a date"}=a(),s=ie(W(t()||"")),o;function l(g){I(s,W(g.target.value)),t(v(s))}function c(){n()&&(o!=null&&o.showPicker?o.showPicker():o==null||o.focus())}var u=Uv(),d=w(u);_n(d,g=>o=g,()=>o);var f=P(d,2),h=w(f);So(h,{class:"w-5 h-5 text-indigo-600"}),K(()=>{rr(u,"cursor-not-allowed",!n()),Qs(d,v(s)),d.readOnly=!n(),ve(d,"tabindex",n()?0:-1),f.disabled=!n()}),V("input",d,l),V("click",d,dr(()=>n()&&c())),V("click",f,c),_(r,u)}var qv=A('<span class="text-gray-700"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg></span>'),Hv=A('<li role="option" tabindex="0"><span> </span> <!></li>'),Vv=A('<div class="absolute right-0 mt-2 w-full rounded-lg bg-white border border-gray-300 shadow-lg z-50" role="listbox" tabindex="-1"><div class="relative max-h-60 overflow-y-auto rounded-lg pr-2"><div class="absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-white to-transparent pointer-events-none z-10"></div> <div class="absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-white to-transparent pointer-events-none z-10"></div> <ul class="p-2 space-y-1 relative z-20"></ul></div></div>'),Gv=A('<div class="relative inline-block w-64 font-sans"><button class="w-full flex justify-between items-center px-5 py-3 rounded-lg bg-white border border-gray-300 shadow-sm text-gray-700 font-medium hover:shadow-md focus:outline-none focus:ring-2 focus:ring-gray-400 transition-all duration-200" aria-haspopup="listbox"><span class="truncate flex-grow text-left"> </span> <!></button> <!></div>');function Wv(r,e){de(e,!0);let t=H(e,"value",15),{choices:n=[],label:a=""}=e.props,i=ie(!1),s=ie(W(t()||null)),o=ie(null);const l=fi(()=>{I(i,!1),I(o,null)},300);function c(){e.canAnswer&&I(i,!v(i))}function u(k,S){e.canAnswer&&(I(s,W(k)),t(k),I(o,W(S)),l())}var d=Gv(),f=w(d),h=w(f),g=w(h),m=P(h,2);const p=Ne(()=>`w-5 h-5 ml-2 transition-transform duration-300 text-gray-500 ${v(i)?"rotate-180":""}`);mf(m,{get class(){return v(p)}});var b=P(f,2);{var E=k=>{var S=Vv(),y=w(S),T=P(w(y),4);Be(T,21,()=>n,He,($,C,q)=>{var R=Hv(),O=w(R),M=w(O),J=P(O,2);{var Y=Q=>{var Z=qv();Kt(3,Z,()=>sa,()=>({duration:200})),_(Q,Z)};z(J,Q=>{v(s)===v(C)&&Q(Y)})}K(()=>{Ce(R,`${`flex justify-between items-center px-4 py-2 rounded-md cursor-pointer select-none transition-colors duration-200
                ${v(o)===q?"bg-gray-100 animate-pulse":v(s)===v(C)?"bg-gray-200 font-semibold text-gray-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`??""} svelte-3az2sw`),ve(R,"aria-selected",v(s)===v(C)),se(M,v(C))}),V("click",R,()=>u(v(C),q)),_($,R)}),_(k,S)};z(b,k=>{v(i)&&e.canAnswer&&k(E)})}pt(d,(k,S)=>Nt==null?void 0:Nt(k,S),()=>()=>{e.canAnswer&&I(i,!1)}),K(()=>{ve(f,"style",e.canAnswer?"":"pointer-events: none;"),ve(f,"aria-expanded",v(i)),se(g,v(s)||a)}),V("click",f,c),_(r,d),fe()}function Jv(r,e,t){const n=r.target.value.replace(/\D/g,"");I(e,W(n)),t(n)}function Kv(r,e){if(!e()){r.preventDefault();return}r.data&&/\D/.test(r.data)&&r.preventDefault()}var Yv=A('<div><label class="text-gray-700 text-base font-medium"> </label> <input type="text" inputmode="numeric" pattern="\\d*"></div>');function Qv(r,e){de(e,!0);let t=H(e,"value",15),n=H(e,"canAnswer",3,!1),a=ie(W(t()??""));var i=Yv(),s=w(i),o=w(s),l=P(s,2);l.__input=[Jv,a,t],l.__beforeinput=[Kv,n],K(()=>{var c;Ce(i,`${`flex flex-col space-y-2 w-full max-w-xs wrapper ${n()?"":"disabled-cursor"}`??""} svelte-1eb19ou`),se(o,((c=e.props)==null?void 0:c.label)??""),ve(l,"placeholder",e.props.placeholder),ve(l,"tabindex",n()?0:-1),l.readOnly=!n(),Ce(l,`${`w-full bg-transparent text-lg text-center border-b-2 focus:outline-none
      ${n()?"text-gray-800 border-gray-300 focus:border-indigo-500 cursor-text":"text-gray-400 border-gray-200 disabled"}
    `??""} svelte-1eb19ou`)}),qe(l,()=>v(a),c=>I(a,c)),_(r,i),fe()}Wr(["input","beforeinput"]);var Xv=(r,e,t)=>e(v(t)),Zv=A("<button> </button>"),eg=A('<div class="w-full max-w-3xl mx-auto space-y-6 svelte-16qk2zm"><div class="flex justify-center gap-3 px-2  svelte-16qk2zm"></div> <div class="flex justify-between text-sm text-gray-500 font-medium px-2 svelte-16qk2zm"><span class="svelte-16qk2zm"> </span> <span class="svelte-16qk2zm"> </span></div></div>');function tg(r,e){de(e,!0);let t=H(e,"canAnswer",3,!1),n=H(e,"value",15),a=Ne(()=>Number(e.props.start??0)),i=Ne(()=>Number(e.props.end??10)),s=ie(W(n())),o=ie(!1);function l(p){t()&&(I(s,W(p)),n(p),I(o,!1),requestAnimationFrame(()=>I(o,!0)))}rt(()=>{n()!==v(s)&&I(s,W(n()))});var c=eg(),u=w(c);Be(u,21,()=>Array(v(i)-v(a)+1).entries(),He,(p,b)=>{let E=()=>v(b)[0];var k=Zv();const S=Ne(()=>v(a)+E());k.__click=[Xv,l,S];var y=w(k);K(()=>{Ce(k,`${`w-10 h-10 sm:w-12 sm:h-12 rounded font-semibold text-sm transition duration-300 transform
          flex items-center justify-center
          ${t()?"cursor-pointer":"pointer-events-none"}
          ${v(s)===v(S)?`bg-indigo-600 text-white shadow-lg ${v(o)?"pop":""}`:"bg-white text-gray-800 border border-gray-300 hover:bg-indigo-100 hover:text-indigo-700"}
        `??""} svelte-16qk2zm`),se(y,v(S))}),_(p,k)});var d=P(u,2),f=w(d),h=w(f),g=P(f,2),m=w(g);K(()=>{se(h,e.props.leftLabel),se(m,e.props.rightLabel)}),_(r,c),fe()}Wr(["click"]);const fs=[{name:"Afghanistan",code:"+93",flag:""},{name:"Albania",code:"+355",flag:""},{name:"Algeria",code:"+213",flag:""},{name:"Andorra",code:"+376",flag:""},{name:"Angola",code:"+244",flag:""},{name:"Antigua and Barbuda",code:"+1-268",flag:""},{name:"Argentina",code:"+54",flag:""},{name:"Armenia",code:"+374",flag:""},{name:"Australia",code:"+61",flag:""},{name:"Austria",code:"+43",flag:""},{name:"Azerbaijan",code:"+994",flag:""},{name:"Bahamas",code:"+1-242",flag:""},{name:"Bahrain",code:"+973",flag:""},{name:"Bangladesh",code:"+880",flag:""},{name:"Barbados",code:"+1-246",flag:""},{name:"Belarus",code:"+375",flag:""},{name:"Belgium",code:"+32",flag:""},{name:"Belize",code:"+501",flag:""},{name:"Benin",code:"+229",flag:""},{name:"Bhutan",code:"+975",flag:""},{name:"Bolivia",code:"+591",flag:""},{name:"Bosnia and Herzegovina",code:"+387",flag:""},{name:"Botswana",code:"+267",flag:""},{name:"Brazil",code:"+55",flag:""},{name:"Brunei",code:"+673",flag:""},{name:"Bulgaria",code:"+359",flag:""},{name:"Burkina Faso",code:"+226",flag:""},{name:"Burundi",code:"+257",flag:""},{name:"Cabo Verde",code:"+238",flag:""},{name:"Cambodia",code:"+855",flag:""},{name:"Cameroon",code:"+237",flag:""},{name:"Canada",code:"+1",flag:""},{name:"Central African Republic",code:"+236",flag:""},{name:"Chad",code:"+235",flag:""},{name:"Chile",code:"+56",flag:""},{name:"China",code:"+86",flag:""},{name:"Colombia",code:"+57",flag:""},{name:"Comoros",code:"+269",flag:""},{name:"Congo (Congo-Brazzaville)",code:"+242",flag:""},{name:"Costa Rica",code:"+506",flag:""},{name:"Croatia",code:"+385",flag:""},{name:"Cuba",code:"+53",flag:""},{name:"Cyprus",code:"+357",flag:""},{name:"Czechia (Czech Republic)",code:"+420",flag:""},{name:"Democratic Republic of the Congo",code:"+243",flag:""},{name:"Denmark",code:"+45",flag:""},{name:"Djibouti",code:"+253",flag:""},{name:"Dominica",code:"+1-767",flag:""},{name:"Dominican Republic",code:"+1-809",flag:""},{name:"Ecuador",code:"+593",flag:""},{name:"Egypt",code:"+20",flag:""},{name:"El Salvador",code:"+503",flag:""},{name:"Equatorial Guinea",code:"+240",flag:""},{name:"Eritrea",code:"+291",flag:""},{name:"Estonia",code:"+372",flag:""},{name:"Eswatini (fmr. 'Swaziland')",code:"+268",flag:""},{name:"Ethiopia",code:"+251",flag:""},{name:"Fiji",code:"+679",flag:""},{name:"Finland",code:"+358",flag:""},{name:"France",code:"+33",flag:""},{name:"Gabon",code:"+241",flag:""},{name:"Gambia",code:"+220",flag:""},{name:"Georgia",code:"+995",flag:""},{name:"Germany",code:"+49",flag:""},{name:"Ghana",code:"+233",flag:""},{name:"Greece",code:"+30",flag:""},{name:"Grenada",code:"+1-473",flag:""},{name:"Guatemala",code:"+502",flag:""},{name:"Guinea",code:"+224",flag:""},{name:"Guinea-Bissau",code:"+245",flag:""},{name:"Guyana",code:"+592",flag:""},{name:"Haiti",code:"+509",flag:""},{name:"Holy See",code:"+379",flag:""},{name:"Honduras",code:"+504",flag:""},{name:"Hungary",code:"+36",flag:""},{name:"Iceland",code:"+354",flag:""},{name:"India",code:"+91",flag:""},{name:"Indonesia",code:"+62",flag:""},{name:"Iran",code:"+98",flag:""},{name:"Iraq",code:"+964",flag:""},{name:"Ireland",code:"+353",flag:""},{name:"Israel",code:"+972",flag:""},{name:"Italy",code:"+39",flag:""},{name:"Jamaica",code:"+1-876",flag:""},{name:"Japan",code:"+81",flag:""},{name:"Jordan",code:"+962",flag:""},{name:"Kazakhstan",code:"+7",flag:""},{name:"Kenya",code:"+254",flag:""},{name:"Kiribati",code:"+686",flag:""},{name:"Kuwait",code:"+965",flag:""},{name:"Kyrgyzstan",code:"+996",flag:""},{name:"Laos",code:"+856",flag:""},{name:"Latvia",code:"+371",flag:""},{name:"Lebanon",code:"+961",flag:""},{name:"Lesotho",code:"+266",flag:""},{name:"Liberia",code:"+231",flag:""},{name:"Libya",code:"+218",flag:""},{name:"Liechtenstein",code:"+423",flag:""},{name:"Lithuania",code:"+370",flag:""},{name:"Luxembourg",code:"+352",flag:""},{name:"Madagascar",code:"+261",flag:""},{name:"Malawi",code:"+265",flag:""},{name:"Malaysia",code:"+60",flag:""},{name:"Maldives",code:"+960",flag:""},{name:"Mali",code:"+223",flag:""},{name:"Malta",code:"+356",flag:""},{name:"Marshall Islands",code:"+692",flag:""},{name:"Mauritania",code:"+222",flag:""},{name:"Mauritius",code:"+230",flag:""},{name:"Mexico",code:"+52",flag:""},{name:"Micronesia",code:"+691",flag:""},{name:"Moldova",code:"+373",flag:""},{name:"Monaco",code:"+377",flag:""},{name:"Mongolia",code:"+976",flag:""},{name:"Montenegro",code:"+382",flag:""},{name:"Morocco",code:"+212",flag:""},{name:"Mozambique",code:"+258",flag:""},{name:"Myanmar (Burma)",code:"+95",flag:""},{name:"Namibia",code:"+264",flag:""},{name:"Nauru",code:"+674",flag:""},{name:"Nepal",code:"+977",flag:""},{name:"Netherlands",code:"+31",flag:""},{name:"New Zealand",code:"+64",flag:""},{name:"Nicaragua",code:"+505",flag:""},{name:"Niger",code:"+227",flag:""},{name:"Nigeria",code:"+234",flag:""},{name:"North Korea",code:"+850",flag:""},{name:"North Macedonia",code:"+389",flag:""},{name:"Norway",code:"+47",flag:""},{name:"Oman",code:"+968",flag:""},{name:"Pakistan",code:"+92",flag:""},{name:"Palau",code:"+680",flag:""},{name:"Palestine State",code:"+970",flag:""},{name:"Panama",code:"+507",flag:""},{name:"Papua New Guinea",code:"+675",flag:""},{name:"Paraguay",code:"+595",flag:""},{name:"Peru",code:"+51",flag:""},{name:"Philippines",code:"+63",flag:""},{name:"Poland",code:"+48",flag:""},{name:"Portugal",code:"+351",flag:""},{name:"Qatar",code:"+974",flag:""},{name:"Romania",code:"+40",flag:""},{name:"Russia",code:"+7",flag:""},{name:"Rwanda",code:"+250",flag:""},{name:"Saint Kitts and Nevis",code:"+1-869",flag:""},{name:"Saint Lucia",code:"+1-758",flag:""},{name:"Saint Vincent and the Grenadines",code:"+1-784",flag:""},{name:"Samoa",code:"+685",flag:""},{name:"San Marino",code:"+378",flag:""},{name:"Sao Tome and Principe",code:"+239",flag:""},{name:"Saudi Arabia",code:"+966",flag:""},{name:"Senegal",code:"+221",flag:""},{name:"Serbia",code:"+381",flag:""},{name:"Seychelles",code:"+248",flag:""},{name:"Sierra Leone",code:"+232",flag:""},{name:"Singapore",code:"+65",flag:""},{name:"Slovakia",code:"+421",flag:""},{name:"Slovenia",code:"+386",flag:""},{name:"Solomon Islands",code:"+677",flag:""},{name:"Somalia",code:"+252",flag:""},{name:"South Africa",code:"+27",flag:""},{name:"South Korea",code:"+82",flag:""},{name:"South Sudan",code:"+211",flag:""},{name:"Spain",code:"+34",flag:""},{name:"Sri Lanka",code:"+94",flag:""},{name:"Sudan",code:"+249",flag:""},{name:"Suriname",code:"+597",flag:""},{name:"Sweden",code:"+46",flag:""},{name:"Switzerland",code:"+41",flag:""},{name:"Syria",code:"+963",flag:""},{name:"Tajikistan",code:"+992",flag:""},{name:"Tanzania",code:"+255",flag:""},{name:"Thailand",code:"+66",flag:""},{name:"Timor-Leste",code:"+670",flag:""},{name:"Togo",code:"+228",flag:""},{name:"Tonga",code:"+676",flag:""},{name:"Trinidad and Tobago",code:"+1-868",flag:""},{name:"Tunisia",code:"+216",flag:""},{name:"Turkey",code:"+90",flag:""},{name:"Turkmenistan",code:"+993",flag:""},{name:"Tuvalu",code:"+688",flag:""},{name:"Uganda",code:"+256",flag:""},{name:"Ukraine",code:"+380",flag:""},{name:"United Arab Emirates",code:"+971",flag:""},{name:"United Kingdom",code:"+44",flag:""},{name:"United States of America",code:"+1",flag:""},{name:"Uruguay",code:"+598",flag:""},{name:"Uzbekistan",code:"+998",flag:""},{name:"Vanuatu",code:"+678",flag:""},{name:"Venezuela",code:"+58",flag:""},{name:"Vietnam",code:"+84",flag:""},{name:"Yemen",code:"+967",flag:""},{name:"Zambia",code:"+260",flag:""},{name:"Zimbabwe",code:"+263",flag:""}];var rg=A('<li class="px-4 py-3 hover:bg-indigo-50 cursor-pointer flex items-center justify-between transition-all duration-150"><span class="flex items-center space-x-2"><span> </span> <span> </span></span> <span class="text-gray-500"> </span></li>'),ng=A('<ul class="absolute top-full left-0 mt-2 w-[360px] bg-white/90 backdrop-blur-sm border border-gray-300 rounded-lg shadow-xl z-50 max-h-[calc(100vh-6rem)] overflow-auto text-sm transition-all duration-200"><li class="px-4 py-2 font-semibold text-gray-600 sticky top-0 bg-white/90 backdrop-blur-sm border-b">Select a country</li> <!></ul>'),ag=A('<div><label class="text-gray-700 text-base font-medium"></label> <div class="relative flex items-center space-x-2 w-full"><button type="button"><span> </span> <span> </span> <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <input type="text" inputmode="numeric" pattern="\\d*" placeholder="123456789"> <!></div></div>');function ig(r,e){de(e,!0);let t=H(e,"value",15),n=H(e,"canAnswer",3,!1),a=ie(W(fs[0])),i=ie(""),s=ie(!1);rt(()=>{t(v(i)?`${v(a).code}${v(i)}`:"")});function o(S){if(!n()){S.preventDefault();return}I(i,W(S.target.value.replace(/\D/g,"")))}function l(){n()&&I(s,!v(s))}function c(S){n()&&(I(a,W(S)),I(s,!1))}var u=ag(),d=P(w(u),2),f=w(d),h=w(f),g=w(h),m=P(h,2),p=w(m),b=P(f,2),E=P(b,2);{var k=S=>{var y=ng(),T=P(w(y),2);Be(T,17,()=>fs,He,($,C)=>{var q=rg(),R=w(q),O=w(R),M=w(O),J=P(O,2),Y=w(J),Q=P(R,2),Z=w(Q);K(()=>{se(M,v(C).flag),se(Y,v(C).name),se(Z,v(C).code)}),V("click",q,()=>c(v(C))),_($,q)}),pt(y,($,C)=>Nt==null?void 0:Nt($,C),()=>()=>I(s,!1)),_(S,y)};z(E,S=>{v(s)&&S(k)})}K(()=>{Ce(u,`${`flex flex-col space-y-2 w-full max-w-xs ${n()?"":"disabled-cursor"}`??""} svelte-16jj6s3`),Ce(f,`${`flex items-center space-x-2 min-w-[100px] bg-transparent text-base
        border-b-2 border-gray-300
        ${n()?"focus:border-indigo-500 focus:outline-none":"opacity-50 cursor-not-allowed"}`??""} svelte-16jj6s3`),ve(f,"tabindex",n()?0:-1),ve(f,"aria-disabled",!n()),se(g,v(a).flag),se(p,v(a).code),Ce(b,`${`flex-1 bg-transparent text-lg
        border-b-2 border-gray-300
        focus:border-indigo-500 focus:outline-none
        ${n()?"text-gray-800 cursor-text":"text-gray-400 cursor-not-allowed"}
      `??""} svelte-16jj6s3`),ve(b,"tabindex",n()?0:-1),b.readOnly=!n(),ve(b,"aria-readonly",!n())}),V("click",f,l),qe(b,()=>v(i),S=>I(i,S)),V("input",b,o),_(r,u),fe()}var sg=A(`<button class="cursor-pointer m-2 px-6 py-4 text-lg rounded-xl transition-all duration-300 ease-in-out shadow-md transform
             bg-white text-gray-800 hover:bg-blue-100 hover:text-blue-600 hover:scale-105
             disabled:opacity-60 disabled:cursor-not-allowed"> </button>`),og=A('<div class="flex flex-col"></div>');function lg(r,e){de(e,!0);let t=H(e,"value",15),n=H(e,"props",19,()=>({})),a=H(e,"canAnswer",3,!1),i=ie(W(n().choices??[])),s=ie(W(n().multiple??!1));rt(()=>{I(i,W(n().choices??[])),I(s,W(n().multiple??!1))});function o(u){var d;a()&&(v(s)?t((d=t())!=null&&d.includes(u)?t().filter(f=>f!==u):[...t()||[],u]):t()!==u&&t(u))}function l(u){var d;return v(s)?(d=t())==null?void 0:d.includes(u):t()===u}var c=og();Be(c,21,()=>v(i),He,(u,d)=>{var f=sg(),h=w(f);K(g=>{f.disabled=!a(),ve(f,"aria-pressed",g),rr(f,"bg-blue-600",g),rr(f,"text-white",g),rr(f,"scale-105",g),rr(f,"ring-2",g),rr(f,"ring-blue-300",g),rr(f,"animate-[pulse_0.6s_ease-in-out]",g),se(h,v(d))},[()=>l(v(d))]),V("click",f,()=>o(v(d))),_(u,f)}),_(r,c),fe()}var cg=A('<span class="cursor-pointer transform transition-transform duration-200"><!></span>'),ug=A('<div class="inline-block space-y-2"><p class="text-gray-700 font-semibold"></p> <div class="flex items-center space-x-2"></div></div>');function dg(r,e){de(e,!0);let t=H(e,"value",15),n=ie(W(t()||0)),a=ie(0);function i(u){e.canAnswer&&(I(n,W(u)),t(u))}function s(u){e.canAnswer&&I(a,W(u))}function o(){e.canAnswer&&I(a,0)}var l=ug(),c=P(w(l),2);Be(c,21,()=>Array(Number(e.props.maxRating)),He,(u,d,f)=>{var h=cg(),g=w(h);const m=Ne(()=>`w-8 h-8 ${(v(a)||v(n))>f?"text-yellow-400 fill-yellow-300":"text-gray-300"}`),p=Ne(()=>(v(a)||v(n))>f?"currentColor":"none");Co(g,{get class(){return v(m)},get fill(){return v(p)}}),V("mouseenter",h,()=>s(f+1)),V("click",h,()=>i(f+1)),Kt(3,h,()=>sa,()=>({duration:150})),_(u,h)}),K(()=>ve(c,"style",e.canAnswer?"":"pointer-events: none;")),V("mouseleave",c,o),_(r,l),fe()}var fg=A('<p class="text-xs text-gray-500 mt-1 text-left"></p>'),hg=A('<div><div class="px-0 py-2 text-base text-gray-800 whitespace-pre-wrap text-center"> </div> <!></div>');function vg(r,e){H(e,"canAnswer",3,!1);let{message:t=""}=e.props??{};var n=hg(),a=w(n),i=w(a),s=P(a,2);{var o=l=>{var c=fg();c.textContent=t,_(l,c)};z(s,l=>{t&&l(o)})}K(()=>se(i,e.value||"")),_(r,n)}var gg=A('<a target="_blank" class="text-sm px-6 py-3 rounded-md bg-black text-white hover:bg-gray-800">Create your own FabForm</a>');function pg(r,e){let t=H(e,"canAnswer",8);var n=gg();K(()=>ve(n,"href",t()?"https://fabform.io":"#")),_(r,n)}var mg=A('<span class="absolute inset-y-0 left-3 flex items-center text-gray-400 pointer-events-none"><!></span>'),bg=A('<p class="text-xs text-gray-500 mt-1"></p>'),yg=A('<p class="text-xs text-red-500 mt-1">Please enter a valid email address.</p>'),_g=A('<div class="relative group"><!> <input type="email"></div> <!> <!>',1);function wg(r,e){de(e,!0);let t=H(e,"value",15),n=H(e,"canAnswer",3,!1),{placeholder:a="Enter your email...",icon:i=null,message:s=""}=e.props??{},o=ie(W(t()??""));rt(()=>{t(v(o))});let l=Ne(()=>v(o)===""||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v(o)));var c=_g(),u=N(c),d=w(u);{var f=E=>{var k=mg(),S=w(k);ri(S,()=>i,!1,!1),_(E,k)};z(d,E=>{i&&E(f)})}var h=P(d,2);ve(h,"placeholder",a);var g=P(u,2);{var m=E=>{var k=bg();k.textContent=s,_(E,k)};z(g,E=>{s&&E(m)})}var p=P(g,2);{var b=E=>{var k=yg();_(E,k)};z(p,E=>{!v(l)&&v(o)&&E(b)})}K(()=>{ve(h,"tabindex",n()?0:-1),h.disabled=!n(),ve(h,"aria-invalid",!v(l)),Ce(h,`w-full transition-all duration-300 ease-in-out rounded-xl text-base px-4 py-2 font-medium shadow-sm outline-none
      ${i?"pl-10":""}
      ${n()?`${v(l)?"bg-white text-gray-900 border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300":"bg-white text-gray-900 border border-red-500 focus:border-red-500 focus:ring-2 focus:ring-red-300"}`:"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"}
    `)}),qe(h,()=>v(o),E=>I(o,E)),_(r,c),fe()}var xg=A('<span class="absolute inset-y-0 left-3 flex items-center text-gray-400 pointer-events-none"><!></span>'),kg=A('<p class="text-xs text-gray-500 mt-1"></p>'),$g=A('<div class="relative group"><!> <input type="url"></div> <!>',1);function Sg(r,e){let t=H(e,"value",15),n=H(e,"canAnswer",3,!1),{placeholder:a="Enter website URL...",icon:i=null,message:s=""}=e.props??{},o=ie(W(t()??""));function l(p){I(o,W(p.target.value)),t(p.target.value)}var c=$g(),u=N(c),d=w(u);{var f=p=>{var b=xg(),E=w(b);ri(E,()=>i,!1,!1),_(p,b)};z(d,p=>{i&&p(f)})}var h=P(d,2);ve(h,"placeholder",a);var g=P(u,2);{var m=p=>{var b=kg();b.textContent=s,_(p,b)};z(g,p=>{s&&p(m)})}K(()=>{ve(h,"tabindex",n()?0:-1),h.disabled=!n(),Ce(h,`w-full transition-all duration-300 ease-in-out rounded-xl text-base px-4 py-2 font-medium shadow-sm outline-none
      ${i?"pl-10":""}
      ${n()?"bg-white text-gray-900 border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"}
    `)}),qe(h,()=>v(o),p=>I(o,p)),V("input",h,l),_(r,c)}var Eg=A('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black bg-opacity-50"></div> <div class="absolute inset-0"><button class="absolute top-4 right-4 z-10 bg-white text-black text-xl px-3 py-1 rounded shadow hover:bg-gray-100" aria-label="Close"></button> <iframe src="https://calendly.com/irishgeoffrey" class="w-full h-full border-none" frameborder="0"></iframe></div></div>'),Tg=A('<button class="flex items-center gap-2 px-4 py-2 bg-white text-black border border-gray-300 rounded hover:bg-gray-100 shadow-sm"><!> </button> <!>',1);function Pg(r,e){de(e,!0);let t=ie(!1);function n(){I(t,!0)}function a(){I(t,!1)}const i=e.label??"Choose a slot";var s=Tg(),o=N(s),l=w(o);So(l,{class:"w-5 h-5"});var c=P(l);c.nodeValue=` ${i??""}`;var u=P(o,2);{var d=f=>{var h=Eg(),g=w(h),m=P(g,2),p=w(m);V("click",g,a),V("click",p,a),_(f,h)};z(u,f=>{v(t)&&f(d)})}V("click",o,n),_(r,s),fe()}var Ag=A('<button class="mt-3 text-blue-600 hover:text-blue-800 font-medium"><!> Upload File</button>'),Cg=A('<div class="w-full bg-gray-200 rounded-full h-3 mt-4 overflow-hidden"><div class="bg-blue-500 h-3 rounded-full transition-all duration-300 ease-in-out"></div></div> <p class="text-blue-600 mt-1 font-semibold"> </p>',1),Ig=A('<img alt="preview" class="w-24 h-24 rounded-xl object-cover shadow-sm mb-2">'),jg=A('<div class="w-24 h-24 flex items-center justify-center bg-gray-100 rounded-xl shadow-inner mb-2"><!></div>'),Og=A('<div class="flex flex-col items-center w-32 p-3 rounded-2xl bg-white shadow-sm hover:shadow-md border border-gray-300 relative"><!> <span class="text-sm text-gray-900 font-medium truncate w-full text-center"> </span> <span class="text-xs text-gray-500"> </span> <button class="absolute top-2 right-2 text-red-600 hover:text-red-800 p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-red-400" title="Delete file"><!></button></div>'),Lg=A('<div class="flex-grow overflow-auto max-w-6xl mx-auto mt-12 px-4 py-3"><div class="flex flex-wrap gap-4 justify-center"></div></div>'),Rg=A('<div class="w-full flex justify-center mt-10"><div class="relative border-4 border-dashed border-gray-300 rounded-2xl p-8 flex flex-col items-center justify-center transition-all text-center bg-white shadow-xl max-w-md w-full hover:shadow-2xl"><!> <p class="text-gray-500"> </p> <!> <input type="file" class="hidden"> <!></div></div> <!>',1);function Ng(r,e){de(e,!0);let t=H(e,"canAnswer",3,!1),n,a=[],i="",s=0,o=!1;yr.getUser().then(async R=>{R&&(i=R.id,await l())});async function l(){if(!i)return;const{data:R,error:O}=await xe.storage.from("user-files").list(`users/${i}/`,{limit:100});O?alert("Could not list files: "+O.message):a=await Promise.all(R.map(async M=>{var Y;const{data:J}=xe.storage.from("user-files").getPublicUrl(`users/${i}/${M.name}`);return{...M,publicUrl:J.publicUrl,sizeKB:(Y=M.metadata)!=null&&Y.size?(M.metadata.size/1024).toFixed(1):"0.0"}}))}function c(){t()&&n.click()}async function u(R){const O=R.target.files[0];O&&await d(O)}async function d(R){if(!t()||!i)return;s=0,o=!0;const M=2+1e6/R.size,Y=setInterval(()=>{s<90&&(s=Math.min(s+M,90))},100),Q=`users/${i}/${R.name}`,{error:Z}=await xe.storage.from("user-files").upload(Q,R,{upsert:!0});if(clearInterval(Y),Z){o=!1,s=0,alert(`Upload failed: ${Z.message}`);return}s=100,await l(),setTimeout(()=>{o=!1,s=0},700)}async function f(R){const O=`users/${i}/${R}`,{error:M}=await xe.storage.from("user-files").remove([O]);M?alert(`Delete failed: ${M.message}`):await l()}var h=Rg(),g=N(h),m=w(g),p=w(m);as(p,{class:"w-16 h-16 text-blue-500 mb-4"});var b=P(p,2),E=w(b),k=P(b,2);{var S=R=>{var O=Ag(),M=w(O);as(M,{class:"inline w-5 h-5 mr-1"}),V("click",O,c),_(R,O)};z(k,R=>{t()&&R(S)})}var y=P(k,2);_n(y,R=>n=R,()=>n);var T=P(y,2);{var $=R=>{var O=Cg(),M=N(O),J=w(M);ve(J,"style",`width: ${s??""}%;`);var Y=P(M,2),Q=w(Y);K(Z=>se(Q,`${Z??""}%`),[()=>Math.floor(s)]),_(R,O)};z(T,R=>{o&&R($)})}var C=P(g,2);{var q=R=>{var O=Lg(),M=w(O);Be(M,21,()=>a,He,(J,Y)=>{var Q=Og(),Z=w(Q);{var le=D=>{var j=Ig();K(()=>ve(j,"src",v(Y).publicUrl)),_(D,j)},pe=D=>{var j=jg(),B=w(j);Ao(B,{class:"w-10 h-10 text-gray-400"}),_(D,j)};z(Z,D=>{v(Y).name.match(/\.(jpg|jpeg|png|gif)$/i)?D(le):D(pe,!1)})}var ye=P(Z,2),Pe=w(ye),_e=P(ye,2),he=w(_e),Ae=P(_e,2),Se=w(Ae);ui(Se,{class:"w-4 h-4"}),K(()=>{ve(Q,"title",v(Y).name),se(Pe,v(Y).name),se(he,`${v(Y).sizeKB??""} KB`),ve(Ae,"aria-label",`Delete file ${v(Y).name}`)}),V("click",Ae,()=>f(v(Y).name)),_(J,Q)}),_(R,O)};z(C,R=>{t()&&R(q)})}K(()=>{se(E,t()?"Click or drag and drop to upload a file":""),y.disabled=!t()}),V("change",y,u),V("drop",m,Lr(R=>d(R.dataTransfer.files[0]))),V("dragover",m,Lr(function(R){ta.call(this,e,R)})),_(r,h),fe()}var Dg=A('<div class="relative"><canvas class="w-full h-64  rounded-md border-2 border-dotted border-gray-400 touch-none"></canvas> <button type="button" aria-label="Clear signature" class="absolute -bottom-10 left-0 flex items-center gap-1 text-sm px-2 py-1 text-indigo-600 hover:text-indigo-800 transition-colors focus:outline-none"><!> <span class="text-xs">Clear</span></button></div>');function Mg(r,e){de(e,!0);let t=H(e,"value",15),n=H(e,"formMode",3,!0),a,i,s=[],o=[],l=!1,c=1,u=1;function d(){const C=a.getBoundingClientRect();a.width=C.width,a.height=C.height,c=a.width/C.width,u=a.height/C.height,i=a.getContext("2d"),i.scale(c,u)}function f(C){const q=a.getBoundingClientRect(),R=C.touches?C.touches[0].clientX:C.clientX,O=C.touches?C.touches[0].clientY:C.clientY;return{x:R-q.left,y:O-q.top}}function h(C){n()&&(l=!0,o=[],s.push(o),o.push(f(C)))}function g(C){!n()||!l||(o.push(f(C)),b())}function m(){!n()||!l||(l=!1,k())}function p(C,q,R,O){const J=q.x+(R.x-C.x)*.2,Y=q.y+(R.y-C.y)*.2,Q=R.x-(O.x-q.x)*.2,Z=R.y-(O.y-q.y)*.2;return[{x:J,y:Y},{x:Q,y:Z}]}function b(){i.clearRect(0,0,a.width,a.height),i.lineJoin="round",i.lineCap="round",i.lineWidth=2.5,i.strokeStyle="#4f46e5";for(const C of s)if(!(C.length<2)){i.beginPath();for(let q=0;q<C.length-1;q++){const R=C[q-1]||C[q],O=C[q],M=C[q+1],J=C[q+2]||M;q===0&&i.moveTo(O.x,O.y);const[Y,Q]=p(R,O,M,J);i.bezierCurveTo(Y.x,Y.y,Q.x,Q.y,M.x,M.y)}i.stroke()}}function E(){s=[],o=[],i.clearRect(0,0,a.width,a.height),t("")}function k(){t(a.toDataURL("image/png"))}Ke(()=>{d(),window.addEventListener("resize",d)});var S=Dg(),y=w(S);_n(y,C=>a=C,()=>a);var T=P(y,2),$=w(T);Uf($,{class:"w-4 h-4"}),V("mousedown",y,h),V("mousemove",y,g),V("mouseup",y,m),V("mouseleave",y,m),V("touchstart",y,Lr(h)),V("touchmove",y,Lr(g)),V("touchend",y,Lr(m)),V("click",T,E),_(r,S),fe()}var Bg=A('<div class="flex space-x-6"><button>Yes</button> <button>No</button></div>');function Fg(r,e){let t=H(e,"value",15),n=H(e,"canAnswer",3,!1);function a(c){n()&&t(c)}function i(c){return t()===c}var s=Bg(),o=w(s),l=P(o,2);K((c,u,d,f)=>{Ce(o,Un(c)),o.disabled=!n(),ve(o,"aria-pressed",u),Ce(l,Un(d)),l.disabled=!n(),ve(l,"aria-pressed",f)},[()=>["px-8 py-3 rounded-lg text-lg font-semibold transition shadow-md focus:outline-none focus:ring-2",i(!0)?"bg-blue-600 text-white scale-105 shadow-xl ring-2 ring-blue-300 animate-[pulse_0.6s_ease-in-out]":"bg-white text-gray-700 hover:bg-blue-100 hover:text-blue-600",!n()&&"opacity-50 cursor-not-allowed"],()=>i(!0),()=>["px-8 py-3 rounded-lg text-lg font-semibold transition shadow-md focus:outline-none focus:ring-2",i(!1)?"bg-red-600 text-white scale-105 shadow-xl ring-2 ring-red-300 animate-[pulse_0.6s_ease-in-out]":"bg-white text-gray-700 hover:bg-red-100 hover:text-red-600",!n()&&"opacity-50 cursor-not-allowed"],()=>i(!1)]),V("click",o,()=>a(!0)),V("click",l,()=>a(!1)),_(r,s)}var Ug=A('<div class="w-2.5 h-2.5 bg-white rounded-sm"></div>'),zg=A('<label class="inline-flex items-center space-x-3 cursor-pointer select-none"><div><!></div> <span class="text-base text-gray-800">Check me</span></label>');function qg(r,e){let t=H(e,"value",15),n=H(e,"canAnswer",3,!1);function a(){n()&&t(!t())}var i=zg(),s=w(i),o=w(s);{var l=c=>{var u=Ug();_(c,u)};z(o,c=>{t()&&c(l)})}K(()=>Ce(s,Un(["w-5 h-5 rounded border-2 flex items-center justify-center transition",t()?"bg-blue-600 border-blue-600":"bg-white border-gray-400",!n()&&"opacity-50 cursor-not-allowed"]))),V("click",s,a),_(r,i)}var Hg=A('<button><svg width="64" height="64" viewBox="0 0 80 80" aria-hidden="true" focusable="false" class="svelte-10bhyiw"><!></svg> <span class="mt-1 text-sm text-gray-700 svelte-10bhyiw"> </span></button>'),Vg=A('<div class="w-full max-w-3xl mx-auto space-y-6 svelte-10bhyiw"><div class="flex justify-between gap-3 px-2 svelte-10bhyiw"></div></div>');function Gg(r,e){de(e,!0);let t=H(e,"canAnswer",3,!1),n=H(e,"value",15),a=ie(W(n())),i=ie(!1);function s(d){t()&&(I(a,W(d)),n(d),I(i,!1),requestAnimationFrame(()=>I(i,!0)))}rt(()=>{n()!==v(a)&&I(a,W(n()))});const o=[{id:1,label:"Very Sad",color:"#ef4444"},{id:2,label:"Sad",color:"#f97316"},{id:3,label:"Neutral",color:"#9ca3af"},{id:4,label:"Happy",color:"#22c55e"}];function l(d){switch(d){case 1:return`
          <circle cx="40" cy="40" r="28" fill="#ef4444" stroke="#b91c1c" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <path d="M28 50 Q40 38 52 50" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" /> 
          <circle cx="25" cy="48" r="3" fill="#3b82f6" />
        `;case 2:return`
          <circle cx="40" cy="40" r="28" fill="#f97316" stroke="#c2410c" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <path d="M28 48 Q40 40 52 48" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" />
        `;case 3:return`
          <circle cx="40" cy="40" r="28" fill="#9ca3af" stroke="#6b7280" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <line x1="28" y1="48" x2="52" y2="48" stroke="#000" stroke-width="3" stroke-linecap="round" />
        `;case 4:return`
          <circle cx="40" cy="40" r="28" fill="#22c55e" stroke="#15803d" stroke-width="2" />
          <circle cx="25" cy="30" r="5" fill="#000" />
          <circle cx="55" cy="30" r="5" fill="#000" />
          <path d="M24 38 Q40 56 56 38" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" />
        `}}var c=Vg(),u=w(c);Be(u,21,()=>o,He,(d,f)=>{let h=()=>v(f).id,g=()=>v(f).label;var m=Hg(),p=w(m),b=w(p);ri(b,()=>l(h()),!0,!1);var E=P(p,2),k=w(E);K(()=>{Ce(m,`${`flex-grow rounded transition duration-300 transform flex flex-col items-center justify-center p-1
          ${t()?"cursor-pointer":"pointer-events-none"}
          ${v(a)===h()?`${v(i)?"pop":""}`:"opacity-70 hover:opacity-100"}
        `??""} svelte-10bhyiw`),ve(m,"aria-label",`Mood rating: ${g()}`),se(k,g())}),V("click",m,()=>s(h())),_(d,m)}),_(r,c),fe()}var Wg=(r,e,t)=>e(v(t)),Jg=A("<button> </button>"),Kg=(r,e,t)=>e(v(t)),Yg=A("<button> </button>"),Qg=A('<div class="grid grid-cols-2 sm:grid-cols-3 gap-3 px-2 svelte-14jne4s"></div>'),Xg=A('<p class="text-center text-gray-500 text-sm px-2 svelte-14jne4s">No available slots for this date.</p>'),Zg=A('<p class="mt-2 text-center text-gray-700 font-medium svelte-14jne4s"> </p>'),ep=A("<!> <!>",1),tp=A('<p class="text-center text-gray-500 text-sm svelte-14jne4s">Pick a date to see available times</p>'),rp=A('<div class="w-full max-w-3xl mx-auto space-y-4 p-4 border rounded-lg shadow-sm bg-white svelte-14jne4s"><div class="flex items-center gap-2 mb-2 svelte-14jne4s"><!> <span class="font-semibold text-gray-700 svelte-14jne4s">Pick a Time Slot</span></div> <div class="flex gap-2 overflow-x-auto pb-2 scrollbar-hide svelte-14jne4s"></div> <!></div>');function np(r,e){de(e,!0);let t=H(e,"canAnswer",3,!0),n=H(e,"value",15);const a=new Date;let i=W([{start:new Date(a.getFullYear(),a.getMonth(),a.getDate(),9,0).toISOString(),end:new Date(a.getFullYear(),a.getMonth(),a.getDate(),9,30).toISOString()},{start:new Date(a.getFullYear(),a.getMonth(),a.getDate(),10,0).toISOString(),end:new Date(a.getFullYear(),a.getMonth(),a.getDate(),10,30).toISOString()},{start:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,11,0).toISOString(),end:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,11,30).toISOString()},{start:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,14,0).toISOString(),end:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,14,30).toISOString()},{start:new Date(a.getFullYear(),a.getMonth(),a.getDate()+2,13,0).toISOString(),end:new Date(a.getFullYear(),a.getMonth(),a.getDate()+2,13,30).toISOString()}]),s=ie(null),o=ie(W(n())),l=ie(!1),c=Ne(()=>Array.from(new Set(i.map(S=>new Date(S.start).toDateString())))),u=Ne(()=>v(s)?i.filter(S=>new Date(S.start).toDateString()===new Date(v(s)).toDateString()):[]);Ke(()=>{v(c).length>0&&I(s,W(new Date(v(c)[0])))});function d(S){I(s,W(new Date(S))),I(o,null)}function f(S){t()&&(I(o,W(S)),n(S),I(l,!1),requestAnimationFrame(()=>I(l,!0)))}var h=rp(),g=w(h),m=w(g);$o(m,{class:"w-5 h-5 text-indigo-600"});var p=P(g,2);Be(p,21,()=>v(c),He,(S,y)=>{var T=Jg();T.__click=[Wg,d,y];var $=w(T);K((C,q)=>{Ce(T,`${C??""} svelte-14jne4s`),se($,q)},[()=>{var C;return`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition
          ${((C=v(s))==null?void 0:C.toDateString())===new Date(v(y)).toDateString()?`bg-indigo-600 text-white shadow-md ${v(l)?"pop":""}`:"bg-white text-gray-800 border border-gray-300 hover:bg-indigo-100 hover:text-indigo-700"}
        `},()=>new Date(v(y)).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"})]),_(S,T)});var b=P(p,2);{var E=S=>{var y=ep(),T=N(y);{var $=O=>{var M=Qg();Be(M,21,()=>v(u),He,(J,Y)=>{var Q=Yg();Q.__click=[Kg,f,Y];var Z=w(Q);K(le=>{var pe;Ce(Q,`${`p-3 rounded-lg font-medium text-sm transition duration-300 transform
              flex items-center justify-center
              ${((pe=v(o))==null?void 0:pe.start)===v(Y).start?`bg-indigo-600 text-white shadow-lg ${v(l)?"pop":""}`:"bg-white text-gray-800 border border-gray-300 hover:bg-indigo-100 hover:text-indigo-700"}
            `??""} svelte-14jne4s`),se(Z,le)},[()=>new Date(v(Y).start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]),_(J,Q)}),_(O,M)},C=O=>{var M=Xg();_(O,M)};z(T,O=>{v(u).length>0?O($):O(C,!1)})}var q=P(T,2);{var R=O=>{var M=Zg(),J=w(M);K((Y,Q)=>se(J,` You selected: ${Y??""} at ${Q??""}`),[()=>new Date(v(o).start).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}),()=>new Date(v(o).start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]),_(O,M)};z(q,O=>{v(o)&&O(R)})}_(S,y)},k=S=>{var y=tp();_(S,y)};z(b,S=>{v(s)?S(E):S(k,!1)})}_(r,h),fe()}Wr(["click"]);function ap(r){return{Button:Fa,Input:wt,TextArea:Ba,Checkbox:Ua,Dropdown:Wt,Welcome:Lv,ShortText:Dv,LongText:Fv,DatePicker:zv,TextArea:Ba,Button:Fa,Checkbox:Ua,Dropdown:Wt,Select:lg,DropdownBlock:Wv,StarRating:dg,OpinionScale:tg,Statement:vg,Number:Qv,PhoneNumber:ig,ThankYou:pg,Website:Sg,Scheduler:Pg,FileUploader:Ng,Email:wg,YesNo:Fg,CheckboxBlock:qg,Signature:Mg,MoodMeter:Gg,TimeSlotPicker:np}[r]||null}var ip=A('<div><label for="title"> </label></div>'),sp=A('<div><label for="question"> </label></div>'),op=A('<div><label for="description"> </label></div>'),lp=A('<div class="mt-4 flex"><!></div>'),cp=A('<div class="mt-4 flex items-center gap-2 bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded"><!> <p class="text-sm"> </p></div>'),up=A('<div><div class="w-full max-w-md"><!> <!> <!> <!> <!> <!></div></div>');function Qr(r,e){de(e,!0);let t=H(e,"block",31,()=>W({})),n=H(e,"uiMeta",27,()=>W({})),a=Ne(()=>{var k,S;return ap((S=(k=t())==null?void 0:k.meta)==null?void 0:S.component)});var i=up(),s=w(i),o=w(s);{var l=k=>{var S=ip(),y=w(S),T=w(y);K(()=>{var $;Ce(y,`block text-${n().fontSize} font-medium`),ve(y,"style",`color: ${n().questionColor};`),se(T,($=t().meta)==null?void 0:$.title)}),_(k,S)};z(o,k=>{var S;(S=t().meta)!=null&&S.title&&k(l)})}var c=P(o,2);{var u=k=>{var S=sp(),y=w(S),T=w(y);K(()=>{var $;Ce(y,`block text-${n().fontSize} font-medium`),ve(y,"style",`color: ${n().questionColor};`),se(T,($=t().meta)==null?void 0:$.question)}),_(k,S)};z(c,k=>{var S;(S=t().meta)!=null&&S.question&&k(u)})}var d=P(c,2);{var f=k=>{var S=op(),y=w(S),T=w(y);K(()=>{var $;Ce(y,`block text-${n().fontSize} font-normal`),ve(y,"style",`color: ${n().questionColor};`),se(T,($=t().meta)==null?void 0:$.description)}),_(k,S)};z(d,k=>{var S,y;(y=(S=t())==null?void 0:S.meta)!=null&&y.description&&k(f)})}var h=P(d,2);{var g=k=>{var S=G(),y=N(S);const T=Ne(()=>{var $;return($=t().meta)==null?void 0:$.props});mr(y,()=>v(a),($,C)=>{C($,{get canAnswer(){return e.canAnswer},get props(){return v(T)},get value(){return t().value},set value(q){t(t().value=q,!0)}})}),_(k,S)};z(h,k=>{t()&&v(a)&&k(g)})}var m=P(h,2);{var p=k=>{var S=lp(),y=w(S);const T=Ne(()=>`background-color: ${n().buttonColor}; color: ${n().buttonTextColor};`),$=Ne(()=>{var C,q;return(q=(C=t())==null?void 0:C.meta)==null?void 0:q.buttonText});Fa(y,{get style(){return v(T)},get text(){return v($)},get onclick(){return e.clickHandler}}),_(k,S)};z(m,k=>{var S,y;((y=(S=t())==null?void 0:S.meta)==null?void 0:y.blockTypeId)!==99&&k(p)})}var b=P(m,2);{var E=k=>{var S=cp(),y=w(S);Xf(y,{size:20,class:"text-red-600 flex-shrink-0"});var T=P(y,2),$=w(T);K(()=>se($,e.errorMessage)),_(k,S)};z(b,k=>{e.errorMessage&&k(E)})}K(()=>Ce(i,`relative ${e.canAnswer?"flex items-center justify-center w-screen h-screen px-6":"max-w-lg px-4 pt-8 mx-auto mt-5"}`)),_(r,i),fe()}var dp=A('<div class="flex flex-col gap-2 w-fit"><label class="text-sm font-medium text-gray-700 dark:text-gray-300">Pick a color</label> <input type="text" class="border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none w-40 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"> <div class="text-sm mt-1"> </div></div>');function fp(r,e){de(e,!0);let t=H(e,"color",15),n=H(e,"colorChanged",3,()=>{}),a=`coloris-${Math.random().toString(36).substring(2,9)}`;Ke(()=>{Bh(),Mh({el:`#${a}`,theme:"default",alpha:!1})});function i(d){t(d.target.value),n()()}var s=dp(),o=w(s);ve(o,"for",a);var l=P(o,2);ve(l,"id",a);var c=P(l,2),u=w(c);K(()=>se(u,t())),qe(l,t),V("input",l,i),_(r,s),fe()}var hp=(r,e)=>e("left"),vp=(r,e)=>e("center"),gp=A('<div class="flex space-x-3 mt-3 z-0"><button class="p-2 border rounded-lg hover:bg-gray-200 relative group"><!> <span class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-xs bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10">Left</span></button> <button class="p-2 border rounded-lg hover:bg-gray-200 relative group"><!> <span class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-xs bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10">Center</span></button></div>');function pp(r,e){let t=H(e,"textAlign",15);var n=gp(),a=w(n);a.__click=[hp,t];var i=w(a);uf(i,{class:"w-3 h-3 m-1"});var s=P(a,2);s.__click=[vp,t];var o=w(s);cf(o,{class:"w-3 h-3 m-1"}),_(r,n)}Wr(["click"]);var mp=A('<li class="flex items-center space-x-2"><input> <button class="text-red-500 hover:text-red-700"><!></button></li>'),bp=A('<div class="container mx-auto p-4 relative"><div class="absolute top-4 right-4"><button class="w-8 h-8 rounded-full bg-blue-500 text-white shadow-md hover:bg-blue-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v14m7-7H5"></path></svg></button></div> <div class="mt-12"><ul class="space-y-2"></ul></div></div>');function yp(r,e){de(e,!0);let t=H(e,"choices",15);H(e,"selected",19,()=>[]),H(e,"multiple",3,0);let n=wn(e,["$$slots","$$events","$$legacy","choices","selected","multiple"]);function a(){t([...t(),`New Choice ${t().length}`])}function i(f){t(t().filter((h,g)=>g!==f))}function s(f){f.key==="Enter"&&(f.preventDefault(),a())}var o=bp(),l=w(o),c=w(l);c.__click=a;var u=P(l,2),d=w(u);Be(d,21,t,He,(f,h,g)=>{var m=mp(),p=w(m);let b;var E=P(p,2);E.__click=()=>i(g);var k=w(E);ui(k,{class:"w-4 h-4"}),K(()=>b=Mr(p,b,{onkeydown:s,class:"border px-2 py-1 rounded w-full",placeholder:"Enter your choice",...n})),qe(p,()=>t()[g],S=>t(t()[g]=S,!0)),_(f,m)}),_(r,o),fe()}Wr(["click"]);var _p=A('<div class="absolute inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center"><p class="text-white text-xl">Uploading...</p></div>'),wp=A('<div class="w-full h-full flex justify-center items-center relative"><img alt="Uploaded image" class="w-full h-full object-cover rounded-lg"> <button class="absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full" aria-label="Delete image"><!></button></div>'),xp=A('<span class="text-gray-500">Drag & Drop an image here or click to select</span>'),kp=A('<p class="text-red-500 mt-2"> </p>'),$p=A('<div class="relative w-full h-64 border-4 border-dashed border-gray-300 rounded-lg flex justify-center items-center cursor-pointer"><!> <input id="fileInput" type="file" accept=".jpg,.jpeg,.png,.gif" class="hidden"></div> <!>',1);function Sp(r,e){de(e,!1);let t=H(e,"blockId",8),n=H(e,"coverImage",12,""),a=Me(!1),i=Me("");const s=["image/jpeg","image/jpg","image/png","image/gif"];function o(y){y.preventDefault(),y.currentTarget.classList.add("border-blue-500","border-4")}function l(y){y.preventDefault(),y.currentTarget.classList.remove("border-blue-500","border-4")}async function c(y){var $;y.preventDefault(),y.currentTarget.classList.remove("border-blue-500","border-4");const T=($=y.dataTransfer.files)==null?void 0:$[0];T&&await d(T)}async function u(y){var $;const T=($=y.target.files)==null?void 0:$[0];T&&await d(T)}async function d(y){var R;if(I(i,""),!s.includes(y.type)){I(i,"Only JPG, PNG, and GIF files are allowed.");return}if(!t()){I(i,"Missing block ID.");return}if(I(a,!0),n())try{const O=(R=n().split("/block-images/")[1])==null?void 0:R.split("?")[0];console.log("Trying to delete (upload step):",O),await xe.storage.from("block-images").remove([O])}catch(O){console.warn("Failed to delete previous image:",O)}const T=y.name.split(".").pop(),$=`coverImages/${t()}.${T}`,{error:C}=await xe.storage.from("block-images").upload($,y,{cacheControl:"3600",upsert:!0});if(C){I(i,"Upload failed: "+C.message),I(a,!1);return}const{data:q}=xe.storage.from("block-images").getPublicUrl($);n(`${q.publicUrl}?t=${Date.now()}`),I(a,!1)}async function f(){var $;if(!n())return;const y=($=n().split("/block-images/")[1])==null?void 0:$.split("?")[0];console.log("Trying to delete (manual):",y);const{error:T}=await xe.storage.from("block-images").remove([y]);if(T){I(i,"Failed to delete image: "+T.message);return}n("")}ht();var h=$p(),g=N(h),m=w(g);{var p=y=>{var T=_p();_(y,T)},b=y=>{var T=G(),$=N(T);{var C=R=>{var O=wp(),M=w(O),J=P(M,2),Y=w(J);ui(Y,{class:"w-5 h-5"}),K(()=>ve(M,"src",n())),V("click",J,dr(f)),_(R,O)},q=R=>{var O=xp();_(R,O)};z($,R=>{n()?R(C):R(q,!1)},!0)}_(y,T)};z(m,y=>{v(a)?y(p):y(b,!1)})}var E=P(m,2),k=P(g,2);{var S=y=>{var T=kp(),$=w(T);K(()=>se($,v(i))),_(y,T)};z(k,y=>{v(i)&&y(S)})}V("change",E,u),V("dragover",g,o),V("dragleave",g,l),V("drop",g,c),V("click",g,()=>{var y;return(y=document.getElementById("fileInput"))==null?void 0:y.click()}),_(r,h),fe()}var Ep=A('<label class="block text-gray-700 font-medium">Title</label> <!>',1),Tp=A('<label class="block text-gray-700 font-medium">Question</label> <!>',1),Pp=A('<label class="block text-gray-700 font-medium">Description</label> <!>',1),Ap=A('<label class="block text-gray-700 font-medium">Embed</label> <!>',1),Cp=A('<label class="block text-gray-700 font-medium">Options</label> <!>',1),Ip=A('<label class="block text-gray-700 font-medium">Text Align</label> <!>',1),jp=A('<label class="block text-gray-700 font-medium">Button Text</label> <!>',1),Op=A('<label class="block text-gray-700 font-medium">Placeholder</label> <!>',1),Lp=A('<label class="block text-gray-700 font-medium">Textbox Size</label> <!>',1),Rp=A('<label class="block text-gray-700 font-medium">Start</label> <!>',1),Np=A('<label class="block text-gray-700 font-medium">End</label> <!>',1),Dp=A('<label class="block text-gray-700 font-medium">Max Rating</label> <!>',1),Mp=A('<label class="block text-gray-700 font-medium">Max Characters</label> <!>',1),Bp=A('<label class="block text-gray-700 font-medium">Left Label</label> <!>',1),Fp=A('<label class="block text-gray-700 font-medium">Right Label</label> <!>',1),Up=A('<label class="block text-gray-700 font-medium">Required field</label> <!> <label class="block text-gray-500 text-sm mt-1">If checked, users will be required to complete this field.</label>',1),zp=A('<label class="block text-gray-700 font-medium">Max Characters</label> <!>',1),qp=A('<label class="block text-gray-700 font-medium">Layout</label> <!>',1),Hp=A('<label class="block text-gray-700 font-medium">Cover Image URL</label> <!> <!>',1),Vp=A('<div class="overflow-y-auto max-h-[calc(100vh-100px)] pr-2 space-y-4"><!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="flex gap-2"><!> <!></div> <!> <!> <!> <!> <!> <!> <!></div>');function Gp(r,e){de(e,!0);let t=H(e,"block",15);var n=Vp(),a=w(n);{var i=D=>{var j=Ep(),B=P(N(j),2);wt(B,{get value(){return t().meta.title},set value(L){t(t().meta.title=L,!0)}}),_(D,j)};z(a,D=>{var j,B;((B=(j=t())==null?void 0:j.meta)==null?void 0:B.title)!==void 0&&D(i)})}var s=P(a,2);{var o=D=>{var j=Tp(),B=P(N(j),2);wt(B,{get value(){return t().meta.question},set value(L){t(t().meta.question=L,!0)}}),_(D,j)};z(s,D=>{var j,B;((B=(j=t())==null?void 0:j.meta)==null?void 0:B.question)!==void 0&&D(o)})}var l=P(s,2);{var c=D=>{var j=Pp(),B=P(N(j),2);Ba(B,{get value(){return t().meta.description},set value(L){t(t().meta.description=L,!0)}}),_(D,j)};z(l,D=>{var j,B;((B=(j=t())==null?void 0:j.meta)==null?void 0:B.description)!==void 0&&D(c)})}var u=P(l,2);{var d=D=>{var j=Ap(),B=P(N(j),2);wt(B,{get value(){return t().meta.embed},set value(L){t(t().meta.embed=L,!0)}}),_(D,j)};z(u,D=>{var j,B;((B=(j=t())==null?void 0:j.meta)==null?void 0:B.embed)!==void 0&&D(d)})}var f=P(u,2);{var h=D=>{var j=Cp(),B=P(N(j),2);yp(B,{get choices(){return t().meta.props.choices},set choices(L){t(t().meta.props.choices=L,!0)}}),_(D,j)};z(f,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.props)==null?void 0:L.choices)!==void 0&&D(h)})}var g=P(f,2);{var m=D=>{var j=Ip(),B=P(N(j),2);pp(B,{get textAlign(){return t().meta.textAlign},set textAlign(L){t(t().meta.textAlign=L,!0)}}),_(D,j)};z(g,D=>{var j,B;((B=(j=t())==null?void 0:j.meta)==null?void 0:B.textAlign)!==void 0&&D(m)})}var p=P(g,2);{var b=D=>{var j=jp(),B=P(N(j),2);wt(B,{get value(){return t().meta.buttonText},set value(L){t(t().meta.buttonText=L,!0)}}),_(D,j)};z(p,D=>{var j,B;((B=(j=t())==null?void 0:j.meta)==null?void 0:B.buttonText)!==void 0&&D(b)})}var E=P(p,2);{var k=D=>{var j=Op(),B=P(N(j),2);wt(B,{get value(){return t().meta.props.placeholder},set value(L){t(t().meta.props.placeholder=L,!0)}}),_(D,j)};z(E,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.props)==null?void 0:L.placeholder)!==void 0&&D(k)})}var S=P(E,2);{var y=D=>{var j=Lp(),B=P(N(j),2);Wt(B,{choices:["Small","Medium","Large","Extra Large"],get value(){return t().meta.props.size},set value(L){t(t().meta.props.size=L,!0)}}),_(D,j)};z(S,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.props)==null?void 0:L.size)!==void 0&&D(y)})}var T=P(S,2),$=w(T);{var C=D=>{var j=Rp(),B=P(N(j),2);Wt(B,{choices:["0","1"],get value(){return t().meta.props.start},set value(L){t(t().meta.props.start=L,!0)}}),_(D,j)};z($,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.props)==null?void 0:L.start)!==void 0&&D(C)})}var q=P($,2);{var R=D=>{var j=Np(),B=P(N(j),2);Wt(B,{choices:["3","4","5","6","7","8","9","10"],get value(){return t().meta.props.end},set value(L){t(t().meta.props.end=L,!0)}}),_(D,j)};z(q,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.props)==null?void 0:L.end)!==void 0&&D(R)})}var O=P(T,2);{var M=D=>{var j=Dp(),B=P(N(j),2);Wt(B,{choices:["3","4","5","6","7","8","9","10"],get value(){return t().meta.props.maxRating},set value(L){t(t().meta.props.maxRating=L,!0)}}),_(D,j)};z(O,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.props)==null?void 0:L.maxRating)!==void 0&&D(M)})}var J=P(O,2);{var Y=D=>{var j=Mp(),B=P(N(j),2);wt(B,{get value(){return t().meta.props.maxCharacters},set value(L){t(t().meta.props.maxCharacters=L,!0)}}),_(D,j)};z(J,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.props)==null?void 0:L.maxCharacters)!==void 0&&D(Y)})}var Q=P(J,2);{var Z=D=>{var j=Bp(),B=P(N(j),2);wt(B,{get value(){return t().meta.props.leftLabel},set value(L){t(t().meta.props.leftLabel=L,!0)}}),_(D,j)};z(Q,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.props)==null?void 0:L.leftLabel)!==void 0&&D(Z)})}var le=P(Q,2);{var pe=D=>{var j=Fp(),B=P(N(j),2);wt(B,{get value(){return t().meta.props.rightLabel},set value(L){t(t().meta.props.rightLabel=L,!0)}}),_(D,j)};z(le,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.props)==null?void 0:L.rightLabel)!==void 0&&D(pe)})}var ye=P(le,2);{var Pe=D=>{var j=Up(),B=P(N(j),2);Ua(B,{get checked(){return t().meta.validation.required},set checked(L){t(t().meta.validation.required=L,!0)}}),_(D,j)};z(ye,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.validation)==null?void 0:L.required)!=null&&D(Pe)})}var _e=P(ye,2);{var he=D=>{var j=zp(),B=P(N(j),2);wt(B,{get value(){return t().meta.validation.maxLength},set value(L){t(t().meta.validation.maxLength=L,!0)}}),_(D,j)};z(_e,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.validation)==null?void 0:L.maxLength)!=null&&D(he)})}var Ae=P(_e,2);{var Se=D=>{var j=Hp(),B=P(N(j),2);Sp(B,{get blockId(){return t().id},get coverImage(){return t().meta.coverImageProps.coverImage},set coverImage(ue){t(t().meta.coverImageProps.coverImage=ue,!0)}});var L=P(B,2);{var re=ue=>{var $e=qp(),Ye=P(N($e),2);Wt(Ye,{choices:["Wallpaper","Stack","Split-left","Split-right"],get value(){return t().meta.coverImageProps.layout},set value(yt){t(t().meta.coverImageProps.layout=yt,!0)}}),_(ue,$e)};z(L,ue=>{t().meta.coverImageProps.coverImage!=null&&t().meta.coverImageProps.coverImage!==""&&ue(re)})}_(D,j)};z(Ae,D=>{var j,B,L;((L=(B=(j=t())==null?void 0:j.meta)==null?void 0:B.coverImageProps)==null?void 0:L.coverImage)!==void 0&&D(Se)})}_(r,n),fe()}var Wp=A('<p class="text-gray-400">No blocks to display</p>'),Jp=A('<main class="flex flex-col h-full mt-17"><!> <!> <div class="flex justify-center"><!></div> <div class="flex flex-1 overflow-hidden mt-2 min-h-[400px]"><div class="w-1/4 p-2 overflow-auto min-h-0"><div class="flex justify-end mb-2"><!></div> <!></div> <div class="w-1/2 h-[400px] overflow-auto bg-white m-1 border border-dotted border-gray-400 rounded-xl shadow-sm flex items-center justify-center"><!></div> <div class="w-1/4 p-2 overflow-auto h-[400px] border-l border-gray-200"><!></div></div></main>');function Kp(r,e){de(e,!0),Pl("blockPickerClick",p);let t=ie(!1),n=ie(!0),a=ie(W([]));W([]);let i=ie(0),s=ie(W({})),o=ie(W(e.route.result.path.params.id)),l=ie("Build"),c="",u=ie(!1),d;async function f(){try{d=(await ci(v(o))).data.form,I(s,W(d.meta));const T=await Do(v(o));I(a,W(T.data.blocks.slice().sort(($,C)=>$.meta.blockTypeId-C.meta.blockTypeId))),I(u,!0)}catch(y){console.error("Error fetching form or blocks:",y)}}Ke(f);function h(y){I(s,W(y.meta))}async function g(y){try{await cs(y)}catch(T){console.error("Failed to save block:",T)}}const m=fi(g,2e3);rt(()=>{const y=v(a)[v(i)];if(!v(u)||!y)return;const T=JSON.stringify(y);T!==c&&(c=T,m(y))}),rt(()=>{const T=e.route.result.path.original.split("/").filter(Boolean);I(n,T[T.length-2]==="design"),I(l,W(v(n)?"Design":"Build"))});async function p(y){await za(v(o),y),await f(),I(i,W(v(a).findIndex((T,$)=>T==null&&$<v(a).length-1))),v(i)===-1&&I(i,W(Math.max(0,v(a).length-2)))}async function b(){try{await Promise.all(v(a).map(y=>cs(y)))}catch(y){console.error("Failed to update block positions:",y)}}async function E(y){if(await ar("Delete Confirmation","Are you sure you want to delete this block?","Cancel","Yes! Delete it")){const{error:$}=await hv(y);$?console.error("Failed to delete block:",$.message):(await f(),I(i,W(Math.min(v(i),Math.max(0,v(a).length-1)))))}}const k=y=>{I(i,W(y))},S=y=>{v(a)[v(i)]=y.detail};oa(r,{get activeMenuLabel(){return v(l)},get formId(){return v(o)},set formId(y){I(o,W(y))},children:(y,T)=>{var $=Jp(),C=w($);Sv(C,{get show(){return v(t)},close:()=>I(t,!1)});var q=P(C,2);No(q,{});var R=P(q,2),O=w(R);ss(O,{largeIcon:!0,clickHandler:()=>I(t,!0)});var M=P(R,2),J=w(M),Y=w(J),Q=w(Y);ss(Q,{clickHandler:()=>I(t,!0)});var Z=P(Y,2);fv(Z,{changeBlock:k,deleteBlock:E,updateBlockPositions:b,get blockNo(){return v(i)},set blockNo(D){I(i,W(D))},get blocks(){return v(a)},set blocks(D){I(a,W(D))}});var le=P(J,2),pe=w(le);{var ye=D=>{Mo(D,{canAnswer:!1,get block(){return v(a)[v(i)]},set block(j){v(a)[v(i)]=j},$$events:{updateBlock:S}})},Pe=D=>{var j=Wp();_(D,j)};z(pe,D=>{v(a)[v(i)]?D(ye):D(Pe,!1)})}var _e=P(le,2),he=w(_e);{var Ae=D=>{fp(D,{formProp:d,changeColorOnForm:h})},Se=D=>{var j=G(),B=N(j);{var L=re=>{Gp(re,{get block(){return v(a)[v(i)]},set block(ue){v(a)[v(i)]=ue}})};z(B,re=>{v(a)[v(i)]&&re(L)},!0)}_(D,j)};z(he,D=>{v(n)?D(Ae):D(Se,!1)})}_(y,$)},$$slots:{default:!0}}),fe()}var Yp=A('<button class="flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg shadow-md"><!> <span>Download CSV</span></button>'),Qp=A('<button class="px-6 py-3 bg-red-600 text-white rounded-lg shadow-md flex items-center gap-2"><!> <span> </span></button>'),Xp=A('<div class="flex flex-col items-center text-center text-gray-500 py-24"><!> <h2 class="text-xl font-semibold">No responses yet</h2> <p class="text-gray-400 mt-2">Once someone submits the form, their answers will appear here.</p></div>'),Zp=A('<!> <div><div class="text-gray-800 break-words"> </div></div>',1),em=A('<div class="text-gray-400 italic">No answers</div>'),tm=A('<div class="bg-white shadow-xl rounded-lg w-full p-4 border border-gray-200 space-y-2 relative flex items-start"><input type="checkbox" class="w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"> <div class="pl-12 w-full"><!> <div class="text-sm text-gray-500 pt-3 border-t mt-2"> </div></div></div>'),rm=A('<div class="space-y-6 overflow-y-auto max-h-[80vh] pb-4"></div>'),nm=A('<div class="max-w-full mx-auto mt-8 px-6"><div class="flex justify-end space-x-4 mb-6"><!> <!></div> <!></div>');function am(r,e){de(e,!0);let t=ie(W(e.route.result.path.params.id)),n=[],a=new Set;const i=u=>new Date(u).toLocaleString(void 0,{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),s=u=>{const d=new Set(a);d.has(u)?d.delete(u):d.add(u),a=d},o=async()=>{const u=[...a];for(const d of u)await ih(d);n=n.filter(d=>!a.has(d.id)),a=new Set};Ke(async()=>{const u=await nh(v(t));u.success?n=u.data.responses:u.error});function l(){if(n.length===0)return;const u=Array.from(new Set(n.flatMap(b=>{var E;return((E=b.meta)==null?void 0:E.map(k=>k.blockTypeId))||[]}))),d=["ID","Timestamp",...u.map(b=>`Answer-${b}`)],f=n.map(b=>{var k;const E=new Map((k=b.meta)==null?void 0:k.map(S=>[S.blockTypeId,S.answer||""]));return[b.id,i(b.created_at),...u.map(S=>E.get(S)||"")]}),h=[d.join(","),...f.map(b=>b.join(","))].join(`
`),g=new Blob([h],{type:"text/csv"}),m=URL.createObjectURL(g),p=document.createElement("a");p.href=m,p.download=`responses-${v(t)}.csv`,document.body.appendChild(p),p.click(),document.body.removeChild(p)}const c=u=>{const d=sn.find(f=>f.blockTypeId===u);return d?d.icon:null};oa(r,{activeMenuLabel:"Responses",get formId(){return v(t)},set formId(u){I(t,W(u))},children:(u,d)=>{var f=nm(),h=w(f),g=w(h);{var m=y=>{var T=Yp(),$=w(T);Eo($,{class:"w-5 h-5"}),V("click",T,l),_(y,T)};z(g,y=>{n.length>0&&y(m)})}var p=P(g,2);{var b=y=>{var T=Qp(),$=w(T);Io($,{class:"w-5 h-5"});var C=P($,2),q=w(C);K(()=>se(q,`${a.size??""} selected - Delete`)),V("click",T,o),_(y,T)};z(p,y=>{a.size>0&&y(b)})}var E=P(h,2);{var k=y=>{var T=Xp(),$=w(T);Pf($,{class:"w-16 h-16 mb-4 opacity-30"}),_(y,T)},S=y=>{var T=rm();Be(T,21,()=>n,He,($,C)=>{var q=tm(),R=w(q),O=P(R,2),M=w(O);{var J=le=>{var pe=G(),ye=N(pe);Be(ye,17,()=>v(C).meta,He,(Pe,_e)=>{var he=Zp(),Ae=N(he);{var Se=L=>{var re=G(),ue=N(re);mr(ue,()=>c(v(_e).blockTypeId),($e,Ye)=>{Ye($e,{class:"w-6 h-6 text-gray-700 mr-2"})}),_(L,re)};z(Ae,L=>{c(v(_e).blockTypeId)!==null&&L(Se)})}var D=P(Ae,2),j=w(D),B=w(j);K(()=>{Ce(D,`p-3 ${De[v(_e).blockTypeId]||"bg-gray-100"} rounded-lg flex items-center space-x-3`),se(B,v(_e).answer||"---")}),_(Pe,he)}),_(le,pe)},Y=le=>{var pe=em();_(le,pe)};z(M,le=>{v(C).meta&&v(C).meta.length>0?le(J):le(Y,!1)})}var Q=P(M,2),Z=w(Q);K((le,pe)=>{_c(R,le),se(Z,pe)},[()=>a.has(v(C).id),()=>i(v(C).created_at)]),V("change",R,()=>s(v(C).id)),_($,q)}),_(y,T)};z(E,y=>{n.length===0?y(k):y(S,!1)})}_(u,f)},$$slots:{default:!0}}),fe()}class im{constructor(e){this.value=e,this.error=null}required(e="This field is required."){return!this.error&&(this.value===""||this.value==null)&&(this.error=e),this}email(e="Invalid email format."){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!this.error&&this.value&&!t.test(this.value)&&(this.error=e),this}url(e="Invalid URL."){const t=/^(https?:\/\/)([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(\/[^\s]*)?$/;return!this.error&&this.value&&!t.test(this.value)&&(this.error=e),this}min(e,t){var n;return!this.error&&((n=this.value)==null?void 0:n.length)<e&&(this.error=t||`Minimum ${e} characters required.`),this}max(e,t){var n;return!this.error&&((n=this.value)==null?void 0:n.length)>e&&(this.error=t||`Maximum ${e} characters allowed.`),this}minSelection(e="Please select at least one option."){return!this.error&&(!this.value||this.value.length===0)&&(this.error=e),this}result(){return this.error}}function sm({meta:r,value:e}){var l;if(!(r!=null&&r.component))return null;const{required:t}=r.validation||{},{minCharacters:n,maxCharacters:a}=r.props||{},i=new im(e),s=()=>t?i.required():i,o={ShortText:()=>s(),DropdownBlock:()=>s(),StarRatings:()=>s(),DatePicker:()=>s(),Number:()=>s(),PhoneNumber:()=>s(),OpinionScale:()=>s(),Signature:()=>s(),Website:()=>s().url(),Scheduler:()=>s(),Email:()=>s().email(),LongText:()=>s().min(n),Select:()=>s().minSelection(),YesNo:()=>s(),CheckboxBlock:()=>s(),Website:()=>s().url()};return((l=o[r.component])==null?void 0:l.call(o).result())||null}var om=A("<div><!></div>"),lm=A('<div class="text-center mt-20 text-red-600 text-lg px-4"><p> </p> <p class="text-sm text-gray-500 mt-2">Please check the link or try again later.</p></div>'),cm=A("<div><!></div>"),um=A('<button class="w-8 h-8 bg-gray-800 text-white rounded-md hover:bg-gray-700 flex items-center justify-center" title="Previous"><!></button>'),dm=A('<button class="w-8 h-8 bg-gray-800 text-white rounded-md hover:bg-gray-700 flex items-center justify-center" title="Next"><!></button>'),fm=A('<main class="relative w-full h-full"><!> <div class="absolute bottom-10 right-10 z-10 flex gap-4 items-center"><div class="flex gap-2 items-center"><!> <!> <a href="https://fabform.io" target="_blank" class="bg-black text-white text-sm flex items-center gap-2 py-1 px-4 rounded-md hover:bg-gray-800"><span class="text-gray-300">Powered by</span> <span class="text-white">FabForm</span></a></div></div></main>');function hm(r,e){de(e,!0);let t=ie(!0),n=ie(""),a=ie(W([])),i=ie(0),s=ie(!1),o,l,c=ie("bottom"),u=ie(W({y:0,duration:1e3,opacity:.7})),d=ie(!1);function f(){const O=window.innerHeight,M=1.5;I(u,W({y:v(c)==="top"?-O*M:O*M,duration:1e3,opacity:.7,easing:J=>1-Math.pow(1-J,3)}))}Ke(()=>(setTimeout(()=>I(t,!1),4e3),h(),window.addEventListener("resize",f),window.addEventListener("orientationchange",f),()=>{window.removeEventListener("resize",f),window.removeEventListener("orientationchange",f)}));async function h(){const O=e.route.result.path.params.id,M=await ci(O);if(!M.success){I(n,W(M.error));return}const J=M.data.form;o=J.id,l=J.meta,af(o);const Y=await Do(o);if(!Y.success){I(n,W(Y.error));return}I(a,W(Y.data.blocks.slice().sort((Q,Z)=>Q.meta.blockTypeId-Z.meta.blockTypeId))),I(i,0),I(c,"bottom"),f(),I(d,!0)}async function g(){const O=v(a).filter(M=>M.value!=null).map(M=>({blockId:M.id,blockTypeId:M.meta.blockTypeId,answer:M.value}));await rh(o,O),I(s,!0)}async function m(){I(n,"");const O=v(a)[v(i)];if(O.type!=="thankyou"){const M=sm(O);if(M){I(n,W(M));return}}v(i)===v(a).length-2&&await g(),v(i)<v(a).length-1&&(I(c,"bottom"),f(),I(i,v(i)+1))}function p(){v(i)>0&&(I(c,"top"),f(),I(i,v(i)-1))}var b=fm(),E=w(b);{var k=O=>{var M=om(),J=w(M);Sh(J,{}),Kt(3,M,()=>di,()=>({duration:600})),_(O,M)},S=O=>{var M=G(),J=N(M);{var Y=Z=>{var le=lm(),pe=w(le),ye=w(pe);K(()=>se(ye,v(n))),_(Z,le)},Q=Z=>{var le=G(),pe=N(le);{var ye=Pe=>{var _e=G(),he=N(_e);fc(he,()=>v(i),Ae=>{var Se=cm(),D=w(Se);Mo(D,{uiMeta:l,canAnswer:!0,get errorMessage(){return v(n)},nextBlock:m,get block(){return v(a)[v(i)]},set block(j){v(a)[v(i)]=j}}),Kt(1,Se,()=>Uh,()=>v(u)),_(Ae,Se)}),_(Pe,_e)};z(pe,Pe=>{v(d)&&Pe(ye)},!0)}_(Z,le)};z(J,Z=>{v(n)&&v(a).length===0?Z(Y):Z(Q,!1)},!0)}_(O,M)};z(E,O=>{v(t)?O(k):O(S,!1)})}var y=P(E,2),T=w(y),$=w(T);{var C=O=>{var M=um(),J=w(M);hf(J,{size:16}),V("click",M,p),_(O,M)};z($,O=>{v(i)>0&&O(C)})}var q=P($,2);{var R=O=>{var M=dm(),J=w(M);df(J,{size:16}),V("click",M,m),_(O,M)};z(q,O=>{v(i)<v(a).length-2&&O(R)})}_(r,b),fe()}var vm=A('<p class="text-sm text-red-500 text-center"> </p>'),gm=A(`<div class="min-h-screen flex justify-center items-center bg-gray-100"><div class="w-full max-w-sm bg-white p-8 space-y-6 rounded-xl shadow-lg"><h2 class="text-3xl font-bold text-center text-gray-900">Sign into my account</h2> <p class="text-sm text-center text-gray-500">Please sign in to your FabForm account</p> <div class="space-y-5"><input type="email" placeholder="Email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <input type="password" placeholder="Password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <button class="w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"> </button></div> <div class="text-center mt-4"><p class="text-sm text-gray-500">Don't have an account? <a href="/signup" class="text-blue-600 hover:text-blue-700">Sign up</a></p></div> <!></div></div>`);function pm(r,e){de(e,!1);const{state:t,loginWithEmail:n}=yr;let a=Me(""),i=Me("");const s=async()=>{await n(v(a),v(i))&&Dt("/dashboard")};ht();var o=gm(),l=w(o),c=P(w(l),4),u=w(c),d=P(u,2),f=P(d,2),h=w(f),g=P(c,4);{var m=p=>{var b=vm(),E=w(b);K(()=>se(E,t.error)),_(p,b)};z(g,p=>{t.error&&p(m)})}K(()=>{f.disabled=t.loading,se(h,t.loading?"Logging in":"Login with Email")}),qe(u,()=>v(a),p=>I(a,p)),qe(d,()=>v(i),p=>I(i,p)),V("click",f,s),_(r,o),fe()}var mm=A("<p> </p>"),bm=A('<p class="text-sm text-red-500 text-center"> </p>'),ym=A('<div class="min-h-screen flex justify-center items-center bg-gray-100"><div class="w-full max-w-sm bg-white p-8 space-y-6 rounded-xl shadow-lg"><h2 class="text-3xl font-bold text-center text-gray-900">Create an Account</h2> <p class="text-sm text-center text-gray-500">Sign up to start your journey</p> <form class="space-y-5"><input type="email" placeholder="Email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900" required> <input type="password" placeholder="Password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900" required> <input type="password" placeholder="Confirm Password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900" required> <!> <button type="submit" class="w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"> </button></form> <!></div></div>');function _m(r,e){de(e,!1);const t=Me(),n=yr,a=Me(n.state),i=n.createUser;let s=Me(""),o=Me(""),l=Me("");const c=async()=>{if(st(a,v(a).error=""),!v(s)||!v(o)||!v(l)){st(a,v(a).error="All fields are required!");return}if(!v(t)){st(a,v(a).error="Passwords do not match!");return}st(a,v(a).loading=!0);try{const T=await i(v(s),v(o));if(!T)throw new Error("Signup failed");st(a,v(a).user=T),Dt("/dashboard")}catch(T){st(a,v(a).error=(T==null?void 0:T.message)||"Signup failed")}finally{st(a,v(a).loading=!1)}};Bl(()=>(v(o),v(l)),()=>{I(t,v(o)&&v(l)&&v(o)===v(l))}),Fl(),ht();var u=ym(),d=w(u),f=P(w(d),4),h=w(f),g=P(h,2),m=P(g,2),p=P(m,2);{var b=T=>{var $=mm(),C=w($);K(()=>{Ce($,`text-sm text-right ${(v(t)?"text-green-500":"text-red-500")??""}`),se(C,v(t)?"Passwords match":"Passwords do not match")}),_(T,$)};z(p,T=>{v(l)&&T(b)})}var E=P(p,2),k=w(E),S=P(f,2);{var y=T=>{var $=bm(),C=w($);K(()=>se(C,v(a).error)),_(T,$)};z(S,T=>{v(a).error&&T(y)})}K(()=>{E.disabled=v(a).loading,se(k,v(a).loading?"Creating account":"Sign Up")}),qe(h,()=>v(s),T=>I(s,T)),V("input",h,()=>st(a,v(a).error="")),qe(g,()=>v(o),T=>I(o,T)),V("input",g,()=>st(a,v(a).error="")),qe(m,()=>v(l),T=>I(l,T)),V("input",m,()=>st(a,v(a).error="")),V("submit",f,Lr(c)),_(r,u),fe()}function wm(r){}var xm=A('<div class="min-h-screen bg-gray-50 flex flex-col items-center justify-center px-6 py-12"><div class="w-full max-w-4xl space-y-6 bg-white p-8 rounded-2xl shadow-xl border border-gray-200"><div class="flex flex-col space-y-4 items-center md:items-start"><div class="w-full flex flex-col md:flex-row md:items-center md:space-x-2 space-y-2 md:space-y-0"><input class="w-full md:w-80 px-3 py-2 rounded-md border border-gray-300 text-gray-800 text-sm" type="text" readonly=""> <!></div> <!></div> <div class="relative bg-gray-900 rounded-lg p-4 text-sm font-mono text-white overflow-auto max-h-[300px]"><pre class="whitespace-pre-wrap break-all"> </pre> <button class="absolute bottom-2 right-2 p-1 rounded hover:bg-gray-700 transition" aria-label="Copy code"><!></button></div></div> <!></div>');function km(r,e){de(e,!0);let t=ie(W(e.route.result.path.params.id)),n=cr+`/v/${v(t)}`,a=ie("Inline Embed"),i=ie("");rt(()=>{switch(v(a)){case"Inline Embed":I(i,`<iframe src="${n}" style="width:100%; height:300px;" frameborder="0"></iframe>`);break;case"Popup":I(i,`<button onclick="window.open('${n}', '_blank', 'width=600,height=400')">Open Form</button>`);break;case"Fullpage":I(i,`<a href="${n}" target="_blank">Go to Fullpage Form</a>`);break;default:I(i,"")}});let s=ie(!1);async function o(){try{await navigator.clipboard.writeText(v(i)),I(s,!0),setTimeout(()=>I(s,!1),3e3)}catch{}}oa(r,{activeMenuLabel:"Share",get formId(){return v(t)},set formId(l){I(t,W(l))},children:(l,c)=>{var u=xm(),d=w(u),f=w(d),h=w(f),g=w(h);Qs(g,n);var m=P(g,2);jo(m,{link:n});var p=P(h,2);Wt(p,{choices:["Inline Embed","Popup","Fullpage"],get value(){return v(a)},set value(C){I(a,W(C))}});var b=P(f,2),E=w(b),k=w(E),S=P(E,2),y=w(S);wf(y,{class:"w-5 h-5 text-white"}),pt(S,(C,q)=>ct==null?void 0:ct(C,q),()=>({text:"Copy code",position:"bottom"})),it(()=>V("click",S,o));var T=P(d,2);{var $=C=>{Lo(C,{message:"Code Copied!",type:"success"})};z(T,C=>{v(s)&&C($)})}K(()=>se(k,v(i))),_(l,u)},$$slots:{default:!0}}),fe()}var $m=A('<div class="min-h-screen bg-gray-50 flex flex-col items-center justify-center px-6 py-12"><h2>Settings for My Form</h2> <p1>coming soon</p1></div>');function Sm(r,e){de(e,!0);let t=ie(W(e.route.result.path.params.id));oa(r,{activeMenuLabel:"Settings",get formId(){return v(t)},set formId(n){I(t,W(n))},children:(n,a)=>{var i=$m();_(n,i)},$$slots:{default:!0}}),fe()}const Xr=()=>yr.state.user?!0:(Dt("/login"),!1),Em=[{path:"",hooks:{pre:()=>Dt("/dashboard")}},{path:"login",component:pm},{path:"signup",component:_m},{path:"dashboard",component:xv,hooks:{pre:Xr}},{path:"share/(?<id>.*)",component:km,hooks:{pre:Xr}},{path:"settings/(?<id>.*)",component:Sm,hooks:{pre:Xr}},{path:"responses/(?<id>.*)",component:am,hooks:{pre:Xr}},{path:"form/(?<mode>[^/]+)/(?<id>[^/]+)",component:Kp,hooks:{pre:Xr}},{path:"v/(?<id>.*)",component:hm},{path:"test",component:wm}];var Tm=A('<div class="flex items-center justify-center h-full text-gray-600">Loading...</div>'),Pm=A('<main class="w-screen h-screen"><!></main>');function Am(r,e){de(e,!1);const{getUser:t}=yr;let n=Me(!0);Ke(async()=>{try{await t()}catch{console.log("No active session")}finally{I(n,!1)}}),ht();var a=Pm(),i=w(a);{var s=l=>{var c=Tm();_(l,c)},o=l=>{Vc(l,{routes:Em})};z(i,l=>{v(n)?l(s):l(o,!1)})}_(r,a),fe()}cc(Am,{target:document.getElementById("app")});export{no as g};
