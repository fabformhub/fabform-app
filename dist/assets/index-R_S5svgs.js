var Ho=Object.defineProperty;var vs=r=>{throw TypeError(r)};var Vo=(r,e,t)=>e in r?Ho(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var oe=(r,e,t)=>Vo(r,typeof e!="symbol"?e+"":e,t),gs=(r,e,t)=>e.has(r)||vs("Cannot "+t);var Ne=(r,e,t)=>(gs(r,e,"read from private field"),t?t.call(r):e.get(r)),Yt=(r,e,t)=>e.has(r)?vs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t);var mn=(r,e,t)=>(gs(r,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();const ps=!1;var Bn=Array.isArray,Wo=Array.prototype.indexOf,Fa=Array.from,Go=Object.defineProperty,Ht=Object.getOwnPropertyDescriptor,hi=Object.getOwnPropertyDescriptors,Jo=Object.prototype,Ko=Array.prototype,za=Object.getPrototypeOf;function br(r){return typeof r=="function"}const zt=()=>{};function Yo(r){return r()}function ba(r){for(var e=0;e<r.length;e++)r[e]()}const ct=2,vi=4,on=8,Un=16,$t=32,Ir=64,Pn=128,wt=256,Cn=512,Ve=1024,Rt=2048,Or=4096,bt=8192,jr=16384,gi=32768,sr=65536,Qo=1<<17,Xo=1<<19,pi=1<<20,yt=Symbol("$state"),mi=Symbol("legacy props"),Zo=Symbol("");function bi(r){return r===this.v}function yi(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function qa(r){return!yi(r,this.v)}function el(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function tl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function rl(r){throw new Error("https://svelte.dev/e/effect_orphan")}function nl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function al(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function sl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function il(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ol(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function ll(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Lr=!1,cl=!1;function ul(){Lr=!0}const Ha=1,Va=2,_i=4,dl=8,fl=16,hl=1,vl=2,wi=4,gl=8,pl=16,ml=1,bl=2,yl=4,_l=1,wl=2,Ke=Symbol(),xi="http://www.w3.org/2000/svg";function Wa(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let we=null;function ms(r){we=r}function xl(r){return ki().get(r)}function kl(r,e){return ki().set(r,e),e}function fe(r,e=!1,t){we={p:we,c:null,e:null,m:!1,s:r,x:null,l:null},Lr&&!e&&(we.l={s:null,u:null,r1:[],r2:Ye(!1)})}function he(r){const e=we;if(e!==null){const i=e.e;if(i!==null){var t=be,n=Pe;e.e=null;try{for(var a=0;a<i.length;a++){var s=i[a];it(s.effect),xt(s.reaction),Xe(s.fn)}}finally{it(t),xt(n)}}we=e.p,e.m=!0}return{}}function ki(r){return we===null&&Wa(),we.c??(we.c=new Map($l(we)||void 0))}function $l(r){let e=r.p;for(;e!==null;){const t=e.c;if(t!==null)return t;e=e.p}return null}function Ye(r,e){var t={f:0,v:r,reactions:null,equals:bi,rv:0,wv:0};return t}function le(r){return $i(Ye(r))}function Ga(r,e=!1){var n;const t=Ye(r);return e||(t.equals=qa),Lr&&we!==null&&we.l!==null&&((n=we.l).s??(n.s=[])).push(t),t}function Be(r,e=!1){return $i(Ga(r,e))}function $i(r){return Pe!==null&&!At&&(Pe.f&ct)!==0&&(_t===null?Nl([r]):_t.push(r)),r}function kr(r,e){return j(r,ft(()=>v(r))),e}function j(r,e){return Pe!==null&&!At&&dn()&&(Pe.f&(ct|Un))!==0&&(_t===null||!_t.includes(r))&&ll(),ya(r,e)}function ya(r,e){return r.equals(e)||(r.v,r.v=e,r.wv=Di(),Si(r,Rt),dn()&&be!==null&&(be.f&Ve)!==0&&(be.f&($t|Ir))===0&&(Tt===null?Ml([r]):Tt.push(r))),e}function Si(r,e){var t=r.reactions;if(t!==null)for(var n=dn(),a=t.length,s=0;s<a;s++){var i=t[s],o=i.f;(o&Rt)===0&&(!n&&i===be||(ht(i,e),(o&(Ve|wt))!==0&&((o&ct)!==0?Si(i,Or):Hn(i))))}}let Ei=!1;function J(r,e=null,t){if(typeof r!="object"||r===null||yt in r)return r;const n=za(r);if(n!==Jo&&n!==Ko)return r;var a=new Map,s=Bn(r),i=Ye(0);s&&a.set("length",Ye(r.length));var o;return new Proxy(r,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&sl();var d=a.get(c);return d===void 0?(d=Ye(u.value),a.set(c,d)):j(d,J(u.value,o)),!0},deleteProperty(l,c){var u=a.get(c);if(u===void 0)c in l&&a.set(c,Ye(Ke));else{if(s&&typeof c=="string"){var d=a.get("length"),f=Number(c);Number.isInteger(f)&&f<d.v&&j(d,f)}j(u,Ke),bs(i)}return!0},get(l,c,u){var b;if(c===yt)return r;var d=a.get(c),f=c in l;if(d===void 0&&(!f||(b=Ht(l,c))!=null&&b.writable)&&(d=Ye(J(f?l[c]:Ke,o)),a.set(c,d)),d!==void 0){var h=v(d);return h===Ke?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=a.get(c);d&&(u.value=v(d))}else if(u===void 0){var f=a.get(c),h=f==null?void 0:f.v;if(f!==void 0&&h!==Ke)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){var h;if(c===yt)return!0;var u=a.get(c),d=u!==void 0&&u.v!==Ke||Reflect.has(l,c);if(u!==void 0||be!==null&&(!d||(h=Ht(l,c))!=null&&h.writable)){u===void 0&&(u=Ye(d?J(l[c],o):Ke),a.set(c,u));var f=v(u);if(f===Ke)return!1}return d},set(l,c,u,d){var S;var f=a.get(c),h=c in l;if(s&&c==="length")for(var b=u;b<f.v;b+=1){var g=a.get(b+"");g!==void 0?j(g,Ke):b in l&&(g=Ye(Ke),a.set(b+"",g))}f===void 0?(!h||(S=Ht(l,c))!=null&&S.writable)&&(f=Ye(void 0),j(f,J(u,o)),a.set(c,f)):(h=f.v!==Ke,j(f,J(u,o)));var p=Reflect.getOwnPropertyDescriptor(l,c);if(p!=null&&p.set&&p.set.call(d,u),!h){if(s&&typeof c=="string"){var y=a.get("length"),$=Number(c);Number.isInteger($)&&$>=y.v&&j(y,$+1)}bs(i)}return!0},ownKeys(l){v(i);var c=Reflect.ownKeys(l).filter(f=>{var h=a.get(f);return h===void 0||h.v!==Ke});for(var[u,d]of a)d.v!==Ke&&!(u in l)&&c.push(u);return c},setPrototypeOf(){il()}})}function bs(r,e=1){j(r,r.v+e)}function ys(r){return r!==null&&typeof r=="object"&&yt in r?r[yt]:r}function Sl(r,e){return Object.is(ys(r),ys(e))}var _s,Ti,Pi;function El(){if(_s===void 0){_s=window;var r=Element.prototype,e=Node.prototype;Ti=Ht(e,"firstChild").get,Pi=Ht(e,"nextSibling").get,r.__click=void 0,r.__className="",r.__attributes=null,r.__styles=null,r.__e=void 0,Text.prototype.__t=void 0}}function ln(r=""){return document.createTextNode(r)}function mt(r){return Ti.call(r)}function Fn(r){return Pi.call(r)}function x(r,e){return mt(r)}function D(r,e){{var t=mt(r);return t instanceof Comment&&t.data===""?Fn(t):t}}function P(r,e=1,t=!1){let n=r;for(;e--;)n=Fn(n);return n}function Tl(r){r.textContent=""}function $e(r){var e=ct|Rt,t=Pe!==null&&(Pe.f&ct)!==0?Pe:null;return be===null||t!==null&&(t.f&wt)!==0?e|=wt:be.f|=pi,{ctx:we,deps:null,effects:null,equals:bi,f:e,fn:r,reactions:null,rv:0,v:null,wv:0,parent:t??be}}function zn(r){const e=$e(r);return e.equals=qa,e}function Ja(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)dt(e[t])}}function Pl(r){for(var e=r.parent;e!==null;){if((e.f&ct)===0)return e;e=e.parent}return null}function Ci(r){var e,t=be;it(Pl(r));try{Ja(r),e=Ui(r)}finally{it(t)}return e}function Ai(r){var e=Ci(r),t=(er||(r.f&wt)!==0)&&r.deps!==null?Or:Ve;ht(r,t),r.equals(e)||(r.v=e,r.wv=Di())}function Cl(r){Ja(r),Xr(r,0),ht(r,jr),r.v=r.deps=r.ctx=r.reactions=null}function Ii(r){be===null&&Pe===null&&rl(),Pe!==null&&(Pe.f&wt)!==0&&be===null&&tl(),Ya&&el()}function Al(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function Rr(r,e,t,n=!0){var a=(r&Ir)!==0,s=be,i={ctx:we,deps:null,nodes_start:null,nodes_end:null,f:r|Rt,first:null,fn:e,last:null,next:null,parent:a?null:s,prev:null,teardown:null,transitions:null,wv:0};if(t){var o=_r;try{ws(!0),Qa(i),i.f|=gi}catch(u){throw dt(i),u}finally{ws(o)}}else e!==null&&Hn(i);var l=t&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(pi|Pn))===0;if(!l&&!a&&n&&(s!==null&&Al(i,s),Pe!==null&&(Pe.f&ct)!==0)){var c=Pe;(c.effects??(c.effects=[])).push(i)}return i}function Il(r){const e=Rr(on,null,!1);return ht(e,Ve),e.teardown=r,e}function ut(r){Ii();var e=be!==null&&(be.f&$t)!==0&&we!==null&&!we.m;if(e){var t=we;(t.e??(t.e=[])).push({fn:r,effect:be,reaction:Pe})}else{var n=Xe(r);return n}}function Ol(r){return Ii(),cn(r)}function jl(r){const e=Rr(Ir,r,!0);return(t={})=>new Promise(n=>{t.outro?$r(e,()=>{dt(e),n(void 0)}):(dt(e),n(void 0))})}function Xe(r){return Rr(vi,r,!1)}function cn(r){return Rr(on,r,!0)}function G(r,e=[],t=$e){const n=e.map(t);return ir(()=>r(...n.map(v)))}function ir(r,e=0){return Rr(on|Un|e,r,!0)}function jt(r,e=!0){return Rr(on|$t,r,!0,e)}function Oi(r){var e=r.teardown;if(e!==null){const t=Ya,n=Pe;xs(!0),xt(null);try{e.call(null)}finally{xs(t),xt(n)}}}function ji(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){var n=t.next;dt(t,e),t=n}}function Ll(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&$t)===0&&dt(e),e=t}}function dt(r,e=!0){var t=!1;if((e||(r.f&Xo)!==0)&&r.nodes_start!==null){for(var n=r.nodes_start,a=r.nodes_end;n!==null;){var s=n===a?null:Fn(n);n.remove(),n=s}t=!0}ji(r,e&&!t),Xr(r,0),ht(r,jr);var i=r.transitions;if(i!==null)for(const l of i)l.stop();Oi(r);var o=r.parent;o!==null&&o.first!==null&&Li(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function Li(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function $r(r,e){var t=[];Ka(r,t,!0),Ri(t,()=>{dt(r),e&&e()})}function Ri(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var a of r)a.out(n)}else e()}function Ka(r,e,t){if((r.f&bt)===0){if(r.f^=bt,r.transitions!==null)for(const i of r.transitions)(i.is_global||t)&&e.push(i);for(var n=r.first;n!==null;){var a=n.next,s=(n.f&sr)!==0||(n.f&$t)!==0;Ka(n,e,s?t:!1),n=a}}}function Qr(r){Ni(r,!0)}function Ni(r,e){if((r.f&bt)!==0){r.f^=bt,(r.f&Ve)===0&&(r.f^=Ve),fn(r)&&(ht(r,Rt),Hn(r));for(var t=r.first;t!==null;){var n=t.next,a=(t.f&sr)!==0||(t.f&$t)!==0;Ni(t,a?e:!1),t=n}if(r.transitions!==null)for(const s of r.transitions)(s.is_global||e)&&s.in()}}let _a=!1,wa=[];function Rl(){_a=!1;const r=wa.slice();wa=[],ba(r)}function un(r){_a||(_a=!0,queueMicrotask(Rl)),wa.push(r)}let En=!1,An=!1,In=null,_r=!1,Ya=!1;function ws(r){_r=r}function xs(r){Ya=r}let xa=[],Vr=0;let Pe=null,At=!1;function xt(r){Pe=r}let be=null;function it(r){be=r}let _t=null;function Nl(r){_t=r}let Qe=null,tt=0,Tt=null;function Ml(r){Tt=r}let Mi=1,On=0,er=!1;function Di(){return++Mi}function dn(){return!Lr||we!==null&&we.l===null}function fn(r){var c;var e=r.f;if((e&Rt)!==0)return!0;if((e&Or)!==0){var t=r.deps,n=(e&wt)!==0;if(t!==null){var a,s,i=(e&Cn)!==0,o=n&&be!==null&&!er,l=t.length;if(i||o){for(a=0;a<l;a++)s=t[a],(i||!((c=s==null?void 0:s.reactions)!=null&&c.includes(r)))&&(s.reactions??(s.reactions=[])).push(r);i&&(r.f^=Cn)}for(a=0;a<l;a++)if(s=t[a],fn(s)&&Ai(s),s.wv>r.wv)return!0}(!n||be!==null&&!er)&&ht(r,Ve)}return!1}function Dl(r,e){for(var t=e;t!==null;){if((t.f&Pn)!==0)try{t.fn(r);return}catch{t.f^=Pn}t=t.parent}throw En=!1,r}function Bl(r){return(r.f&jr)===0&&(r.parent===null||(r.parent.f&Pn)===0)}function qn(r,e,t,n){if(En){if(t===null&&(En=!1),Bl(e))throw r;return}t!==null&&(En=!0);{Dl(r,e);return}}function Bi(r,e,t=0){var n=r.reactions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];(s.f&ct)!==0?Bi(s,e,t+1):e===s&&(t===0?ht(s,Rt):(s.f&Ve)!==0&&ht(s,Or),Hn(s))}}function Ui(r){var h;var e=Qe,t=tt,n=Tt,a=Pe,s=er,i=_t,o=we,l=At,c=r.f;Qe=null,tt=0,Tt=null,Pe=(c&($t|Ir))===0?r:null,er=(c&wt)!==0&&(!_r||(a===null||l)&&r.parent!==null),_t=null,ms(r.ctx),At=!1,On++;try{var u=(0,r.fn)(),d=r.deps;if(Qe!==null){var f;if(Xr(r,tt),d!==null&&tt>0)for(d.length=tt+Qe.length,f=0;f<Qe.length;f++)d[tt+f]=Qe[f];else r.deps=d=Qe;if(!er)for(f=tt;f<d.length;f++)((h=d[f]).reactions??(h.reactions=[])).push(r)}else d!==null&&tt<d.length&&(Xr(r,tt),d.length=tt);if(dn()&&Tt!==null&&(r.f&(ct|Or|Rt))===0)for(f=0;f<Tt.length;f++)Bi(Tt[f],r);return a!==null&&On++,u}finally{Qe=e,tt=t,Tt=n,Pe=a,er=s,_t=i,ms(o),At=l}}function Ul(r,e){let t=e.reactions;if(t!==null){var n=Wo.call(t,r);if(n!==-1){var a=t.length-1;a===0?t=e.reactions=null:(t[n]=t[a],t.pop())}}t===null&&(e.f&ct)!==0&&(Qe===null||!Qe.includes(e))&&(ht(e,Or),(e.f&(wt|Cn))===0&&(e.f^=Cn),Ja(e),Xr(e,0))}function Xr(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)Ul(r,t[n])}function Qa(r){var e=r.f;if((e&jr)===0){ht(r,Ve);var t=be,n=we;be=r;try{(e&Un)!==0?Ll(r):ji(r),Oi(r);var a=Ui(r);r.teardown=typeof a=="function"?a:null,r.wv=Mi;var s=r.deps,i;ps&&cl&&r.f&Rt}catch(o){qn(o,r,t,n||r.ctx)}finally{be=t}}}function Fl(){if(Vr>1e3){Vr=0;try{nl()}catch(r){if(In!==null)qn(r,In,null);else throw r}}Vr++}function zl(r){var e=r.length;if(e!==0){Fl();var t=_r;_r=!0;try{for(var n=0;n<e;n++){var a=r[n];(a.f&Ve)===0&&(a.f^=Ve);var s=[];Fi(a,s),ql(s)}}finally{_r=t}}}function ql(r){var e=r.length;if(e!==0)for(var t=0;t<e;t++){var n=r[t];if((n.f&(jr|bt))===0)try{fn(n)&&(Qa(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Li(n):n.fn=null))}catch(a){qn(a,n,null,n.ctx)}}}function Hl(){if(An=!1,Vr>1001)return;const r=xa;xa=[],zl(r),An||(Vr=0,In=null)}function Hn(r){An||(An=!0,queueMicrotask(Hl)),In=r;for(var e=r;e.parent!==null;){e=e.parent;var t=e.f;if((t&(Ir|$t))!==0){if((t&Ve)===0)return;e.f^=Ve}}xa.push(e)}function Fi(r,e){var t=r.first,n=[];e:for(;t!==null;){var a=t.f,s=(a&$t)!==0,i=s&&(a&Ve)!==0,o=t.next;if(!i&&(a&bt)===0)if((a&on)!==0){if(s)t.f^=Ve;else try{fn(t)&&Qa(t)}catch(d){qn(d,t,null,t.ctx)}var l=t.first;if(l!==null){t=l;continue}}else(a&vi)!==0&&n.push(t);if(o===null){let d=t.parent;for(;d!==null;){if(r===d)break e;var c=d.next;if(c!==null){t=c;continue e}d=d.parent}}t=o}for(var u=0;u<n.length;u++)l=n[u],e.push(l),Fi(l,e)}function v(r){var e=r.f,t=(e&ct)!==0;if(t&&(e&jr)!==0){var n=Ci(r);return Cl(r),n}if(Pe!==null&&!At){_t!==null&&_t.includes(r)&&ol();var a=Pe.deps;r.rv<On&&(r.rv=On,Qe===null&&a!==null&&a[tt]===r?tt++:Qe===null?Qe=[r]:Qe.push(r))}else if(t&&r.deps===null&&r.effects===null){var s=r,i=s.parent;i!==null&&(i.f&wt)===0&&(s.f^=wt)}return t&&(s=r,fn(s)&&Ai(s)),r.v}function ft(r){var e=At;try{return At=!0,r()}finally{At=e}}const Vl=-7169;function ht(r,e){r.f=r.f&Vl|e}function ks(r,e=1){var t=v(r),n=e===1?t++:t--;return j(r,t),n}function zi(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(yt in r)ka(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&yt in t&&ka(t)}}}function ka(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let n in r)try{ka(r[n],e)}catch{}const t=za(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const n=hi(t);for(let a in n){const s=n[a].get;if(s)try{s.call(r)}catch{}}}}}function Wl(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const Gl=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Jl(r){return Gl.includes(r)}const Kl={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Yl(r){return r=r.toLowerCase(),Kl[r]??r}const Ql=["touchstart","touchmove"];function Xl(r){return Ql.includes(r)}function Zl(r,e){if(e){const t=document.body;r.autofocus=!0,un(()=>{document.activeElement===t&&r.focus()})}}let $s=!1;function ec(){$s||($s=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var e;if(!r.defaultPrevented)for(const t of r.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function qi(r){var e=Pe,t=be;xt(null),it(null);try{return r()}finally{xt(e),it(t)}}function Xa(r,e,t,n=t){r.addEventListener(e,()=>qi(t));const a=r.__on_r;a?r.__on_r=()=>{a(),n(!0)}:r.__on_r=()=>n(!0),ec()}const Hi=new Set,$a=new Set;function Vi(r,e,t,n={}){function a(s){if(n.capture||qr.call(e,s),!s.cancelBubble)return qi(()=>t==null?void 0:t.call(this,s))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?un(()=>{e.addEventListener(r,a,n)}):e.addEventListener(r,a,n),a}function W(r,e,t,n,a){var s={capture:n,passive:a},i=Vi(r,e,t,s);(e===document.body||e===window||e===document)&&Il(()=>{e.removeEventListener(r,i,s)})}function hn(r){for(var e=0;e<r.length;e++)Hi.add(r[e]);for(var t of $a)t(r)}function qr(r){var $;var e=this,t=e.ownerDocument,n=r.type,a=(($=r.composedPath)==null?void 0:$.call(r))||[],s=a[0]||r.target,i=0,o=r.__root;if(o){var l=a.indexOf(o);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var c=a.indexOf(e);if(c===-1)return;l<=c&&(i=l)}if(s=a[i]||r.target,s!==e){Go(r,"currentTarget",{configurable:!0,get(){return s||t}});var u=Pe,d=be;xt(null),it(null);try{for(var f,h=[];s!==null;){var b=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+n];if(g!==void 0&&!s.disabled)if(Bn(g)){var[p,...y]=g;p.apply(s,[r,...y])}else g.call(s,r)}catch(S){f?h.push(S):f=S}if(r.cancelBubble||b===e||b===null)break;s=b}if(f){for(let S of h)queueMicrotask(()=>{throw S});throw f}}finally{r.__root=e,delete r.currentTarget,xt(u),it(d)}}}function Za(r){var e=document.createElement("template");return e.innerHTML=r,e.content}function rr(r,e){var t=be;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function C(r,e){var t=(e&_l)!==0,n=(e&wl)!==0,a,s=!r.startsWith("<!>");return()=>{a===void 0&&(a=Za(s?r:"<!>"+r),t||(a=mt(a)));var i=n?document.importNode(a,!0):a.cloneNode(!0);if(t){var o=mt(i),l=i.lastChild;rr(o,l)}else rr(i,i);return i}}function tc(r,e,t="svg"){var n=!r.startsWith("<!>"),a=`<${t}>${n?r:"<!>"+r}</${t}>`,s;return()=>{if(!s){var i=Za(a),o=mt(i);s=mt(o)}var l=s.cloneNode(!0);return rr(l,l),l}}function aa(r=""){{var e=ln(r+"");return rr(e,e),e}}function V(){var r=document.createDocumentFragment(),e=document.createComment(""),t=ln();return r.append(e,t),rr(e,t),r}function _(r,e){r!==null&&r.before(e)}let jn=!0;function Ss(r){jn=r}function ae(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t==null?"":t+"")}function rc(r,e){return nc(r,e)}const cr=new Map;function nc(r,{target:e,anchor:t,props:n={},events:a,context:s,intro:i=!0}){El();var o=new Set,l=d=>{for(var f=0;f<d.length;f++){var h=d[f];if(!o.has(h)){o.add(h);var b=Xl(h);e.addEventListener(h,qr,{passive:b});var g=cr.get(h);g===void 0?(document.addEventListener(h,qr,{passive:b}),cr.set(h,1)):cr.set(h,g+1)}}};l(Fa(Hi)),$a.add(l);var c=void 0,u=jl(()=>{var d=t??e.appendChild(ln());return jt(()=>{if(s){fe({});var f=we;f.c=s}a&&(n.$$events=a),jn=i,c=r(d,n)||{},jn=!0,s&&he()}),()=>{var b;for(var f of o){e.removeEventListener(f,qr);var h=cr.get(f);--h===0?(document.removeEventListener(f,qr),cr.delete(f)):cr.set(f,h)}$a.delete(l),d!==t&&((b=d.parentNode)==null||b.removeChild(d))}});return ac.set(c,u),c}let ac=new WeakMap;function F(r,e,t=!1){var n=r,a=null,s=null,i=Ke,o=t?sr:0,l=!1;const c=(d,f=!0)=>{l=!0,u(f,d)},u=(d,f)=>{i!==(i=d)&&(i?(a?Qr(a):f&&(a=jt(()=>f(n))),s&&$r(s,()=>{s=null})):(s?Qr(s):f&&(s=jt(()=>f(n))),a&&$r(a,()=>{a=null})))};ir(()=>{l=!1,e(c),l||u(null,null)},o)}function Fe(r,e){return e}function sc(r,e,t,n){for(var a=[],s=e.length,i=0;i<s;i++)Ka(e[i].e,a,!0);var o=s>0&&a.length===0&&t!==null;if(o){var l=t.parentNode;Tl(l),l.append(t),n.clear(),Bt(r,e[0].prev,e[s-1].next)}Ri(a,()=>{for(var c=0;c<s;c++){var u=e[c];o||(n.delete(u.k),Bt(r,u.prev,u.next)),dt(u.e,!o)}})}function Ue(r,e,t,n,a,s=null){var i=r,o={flags:e,items:new Map,first:null},l=(e&_i)!==0;if(l){var c=r;i=c.appendChild(ln())}var u=null,d=!1,f=zn(()=>{var h=t();return Bn(h)?h:h==null?[]:Fa(h)});ir(()=>{var h=v(f),b=h.length;if(!(d&&b===0)){d=b===0;{var g=Pe;ic(h,o,i,a,e,(g.f&bt)!==0,n,t)}s!==null&&(b===0?u?Qr(u):u=jt(()=>s(i)):u!==null&&$r(u,()=>{u=null})),v(f)}})}function ic(r,e,t,n,a,s,i,o){var se,Y,ce,je;var l=(a&dl)!==0,c=(a&(Ha|Va))!==0,u=r.length,d=e.items,f=e.first,h=f,b,g=null,p,y=[],$=[],S,E,m,T;if(l)for(T=0;T<u;T+=1)S=r[T],E=i(S,T),m=d.get(E),m!==void 0&&((se=m.a)==null||se.measure(),(p??(p=new Set)).add(m));for(T=0;T<u;T+=1){if(S=r[T],E=i(S,T),m=d.get(E),m===void 0){var k=h?h.e.nodes_start:t;g=lc(k,e,g,g===null?e.first:g.next,S,E,T,n,a,o),d.set(E,g),y=[],$=[],h=g.next;continue}if(c&&oc(m,S,T,a),(m.e.f&bt)!==0&&(Qr(m.e),l&&((Y=m.a)==null||Y.unfix(),(p??(p=new Set)).delete(m))),m!==h){if(b!==void 0&&b.has(m)){if(y.length<$.length){var R=$[0],U;g=R.prev;var A=y[0],O=y[y.length-1];for(U=0;U<y.length;U+=1)Es(y[U],R,t);for(U=0;U<$.length;U+=1)b.delete($[U]);Bt(e,A.prev,O.next),Bt(e,g,A),Bt(e,O,R),h=R,g=O,T-=1,y=[],$=[]}else b.delete(m),Es(m,h,t),Bt(e,m.prev,m.next),Bt(e,m,g===null?e.first:g.next),Bt(e,g,m),g=m;continue}for(y=[],$=[];h!==null&&h.k!==E;)(s||(h.e.f&bt)===0)&&(b??(b=new Set)).add(h),$.push(h),h=h.next;if(h===null)continue;m=h}y.push(m),g=m,h=m.next}if(h!==null||b!==void 0){for(var H=b===void 0?[]:Fa(b);h!==null;)(s||(h.e.f&bt)===0)&&H.push(h),h=h.next;var Z=H.length;if(Z>0){var ie=(a&_i)!==0&&u===0?t:null;if(l){for(T=0;T<Z;T+=1)(ce=H[T].a)==null||ce.measure();for(T=0;T<Z;T+=1)(je=H[T].a)==null||je.fix()}sc(e,H,ie,d)}}l&&un(()=>{var _e;if(p!==void 0)for(m of p)(_e=m.a)==null||_e.apply()}),be.first=e.first&&e.first.e,be.last=g&&g.e}function oc(r,e,t,n){(n&Ha)!==0&&ya(r.v,e),(n&Va)!==0?ya(r.i,t):r.i=t}function lc(r,e,t,n,a,s,i,o,l,c){var u=(l&Ha)!==0,d=(l&fl)===0,f=u?d?Ga(a):Ye(a):a,h=(l&Va)===0?i:Ye(i),b={i:h,v:f,k:s,a:null,e:null,prev:t,next:n};try{return b.e=jt(()=>o(r,f,h,c),Ei),b.e.prev=t&&t.e,b.e.next=n&&n.e,t===null?e.first=b:(t.next=b,t.e.next=b.e),n!==null&&(n.prev=b,n.e.prev=b.e),b}finally{}}function Es(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,a=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==n;){var i=Fn(s);a.before(s),s=i}}function Bt(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Vn(r,e,t,n,a){var s=r,i="",o;ir(()=>{i!==(i=e()??"")&&(o!==void 0&&(dt(o),o=void 0),i!==""&&(o=jt(()=>{var l=i+"";t&&(l=`<svg>${l}</svg>`);var c=Za(l);if((t||n)&&(c=mt(c)),rr(mt(c),c.lastChild),t||n)for(;mt(c);)s.before(mt(c));else s.before(c)})))})}function X(r,e,t,n,a){var o;var s=(o=e.$$slots)==null?void 0:o[t],i=!1;s===!0&&(s=e.children,i=!0),s===void 0||s(r,i?()=>n:n)}function Wi(r,e,...t){var n=r,a=zt,s;ir(()=>{a!==(a=e())&&(s&&(dt(s),s=null),s=jt(()=>a(n,...t)))},sr)}function Wn(r,e,t){var n=r,a,s;ir(()=>{a!==(a=e())&&(s&&($r(s),s=null),a&&(s=jt(()=>t(n,a))))},sr)}function cc(r,e,t,n,a,s){var i,o,l=null,c=r,u;ir(()=>{const d=e()||null;var f=xi;d!==i&&(u&&(d===null?$r(u,()=>{u=null,o=null}):d===o?Qr(u):(dt(u),Ss(!1))),d&&d!==o&&(u=jt(()=>{if(l=document.createElementNS(f,d),rr(l,l),n){var h=l.appendChild(ln());n(l,h)}be.nodes_end=l,c.before(l)})),i=d,i&&(o=i),Ss(!0))},sr)}function at(r,e,t){Xe(()=>{var n=ft(()=>e(r,t==null?void 0:t())||{});if(t&&(n!=null&&n.update)){var a=!1,s={};cn(()=>{var i=t();zi(i),a&&yi(s,i)&&(s=i,n.update(i))}),a=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Gi(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=Gi(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function uc(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=Gi(r))&&(n&&(n+=" "),n+=e);return n}function Sr(r){return typeof r=="object"?uc(r):r??""}function Ji(r,e){var t=r.__attributes??(r.__attributes={});t.value===(t.value=e??void 0)||r.value===e&&(e!==0||r.nodeName!=="PROGRESS")||(r.value=e??"")}function dc(r,e){var t=r.__attributes??(r.__attributes={});t.checked!==(t.checked=e??void 0)&&(r.checked=e)}function fc(r,e){e?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function ge(r,e,t,n){var a=r.__attributes??(r.__attributes={});a[e]!==(a[e]=t)&&(e==="style"&&"__styles"in r&&(r.__styles={}),e==="loading"&&(r[Zo]=t),t==null?r.removeAttribute(e):typeof t!="string"&&Ki(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function Er(r,e,t,n,a=!1,s=!1,i=!1){var o=e||{},l=r.tagName==="OPTION";for(var c in e)c in t||(t[c]=null);t.class&&(t.class=Sr(t.class));var u=Ki(r),d=r.__attributes??(r.__attributes={});for(const y in t){let $=t[y];if(l&&y==="value"&&$==null){r.value=r.__value="",o[y]=$;continue}var f=o[y];if($!==f){o[y]=$;var h=y[0]+y[1];if(h!=="$$"){if(h==="on"){const S={},E="$$"+y;let m=y.slice(2);var b=Jl(m);if(Wl(m)&&(m=m.slice(0,-7),S.capture=!0),!b&&f){if($!=null)continue;r.removeEventListener(m,o[E],S),o[E]=null}if($!=null)if(b)r[`__${m}`]=$,hn([m]);else{let T=function(k){o[y].call(this,k)};o[E]=Vi(m,r,T,S)}else b&&(r[`__${m}`]=void 0)}else if(y==="style"&&$!=null)r.style.cssText=$+"";else if(y==="autofocus")Zl(r,!!$);else if(y==="__value"||y==="value"&&$!=null)r.value=r[y]=r.__value=$;else if(y==="selected"&&l)fc(r,$);else{var g=y;a||(g=Yl(g));var p=g==="defaultValue"||g==="defaultChecked";if($==null&&!s&&!p)if(d[y]=null,g==="value"||g==="checked"){let S=r;if(g==="value"){let E=S.defaultValue;S.removeAttribute(g),S.defaultValue=E}else{let E=S.defaultChecked;S.removeAttribute(g),S.defaultChecked=E}}else r.removeAttribute(y);else p||u.includes(g)&&(s||typeof $!="string")?r[g]=$:typeof $!="function"&&ge(r,g,$)}y==="style"&&"__styles"in r&&(r.__styles={})}}}return o}var Ts=new Map;function Ki(r){var e=Ts.get(r.nodeName);if(e)return e;Ts.set(r.nodeName,e=[]);for(var t,n=r,a=Element.prototype;a!==n;){t=hi(n);for(var s in t)t[s].set&&e.push(s);n=za(n)}return e}function Ie(r,e,t){var n=r.__className,a=hc(e);(n!==a||Ei)&&(e==null?r.removeAttribute("class"):r.className=a,r.__className=a)}function hc(r,e){return(r??"")+""}function vc(r,e,t){if(t){if(r.classList.contains(e))return;r.classList.add(e)}else{if(!r.classList.contains(e))return;r.classList.remove(e)}}const gc=()=>performance.now(),Pt={tick:r=>requestAnimationFrame(r),now:()=>gc(),tasks:new Set};function Yi(){const r=Pt.now();Pt.tasks.forEach(e=>{e.c(r)||(Pt.tasks.delete(e),e.f())}),Pt.tasks.size!==0&&Pt.tick(Yi)}function pc(r){let e;return Pt.tasks.size===0&&Pt.tick(Yi),{promise:new Promise(t=>{Pt.tasks.add(e={c:r,f:t})}),abort(){Pt.tasks.delete(e)}}}function bn(r,e){r.dispatchEvent(new CustomEvent(e))}function mc(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Ps(r){const e={},t=r.split(";");for(const n of t){const[a,s]=n.split(":");if(!a||s===void 0)break;const i=mc(a.trim());e[i]=s.trim()}return e}const bc=r=>r;function Tr(r,e,t,n){var a=(r&ml)!==0,s=(r&bl)!==0,i=a&&s,o=(r&yl)!==0,l=i?"both":a?"in":"out",c,u=e.inert,d=e.style.overflow,f,h;function b(){var S=Pe,E=be;xt(null),it(null);try{return c??(c=t()(e,(n==null?void 0:n())??{},{direction:l}))}finally{xt(S),it(E)}}var g={is_global:o,in(){var S;if(e.inert=u,!a){h==null||h.abort(),(S=h==null?void 0:h.reset)==null||S.call(h);return}s||f==null||f.abort(),bn(e,"introstart"),f=Sa(e,b(),h,1,()=>{bn(e,"introend"),f==null||f.abort(),f=c=void 0,e.style.overflow=d})},out(S){if(!s){S==null||S(),c=void 0;return}e.inert=!0,bn(e,"outrostart"),h=Sa(e,b(),f,0,()=>{bn(e,"outroend"),S==null||S()})},stop:()=>{f==null||f.abort(),h==null||h.abort()}},p=be;if((p.transitions??(p.transitions=[])).push(g),a&&jn){var y=o;if(!y){for(var $=p.parent;$&&($.f&sr)!==0;)for(;($=$.parent)&&($.f&Un)===0;);y=!$||($.f&gi)!==0}y&&Xe(()=>{ft(()=>g.in())})}}function Sa(r,e,t,n,a){var s=n===1;if(br(e)){var i,o=!1;return un(()=>{if(!o){var p=e({direction:s?"in":"out"});i=Sa(r,p,t,n,a)}}),{abort:()=>{o=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return a(),{abort:zt,deactivate:zt,reset:zt,t:()=>n};const{delay:l=0,css:c,tick:u,easing:d=bc}=e;var f=[];if(s&&t===void 0&&(u&&u(0,1),c)){var h=Ps(c(0,1));f.push(h,h)}var b=()=>1-n,g=r.animate(f,{duration:l});return g.onfinish=()=>{var p=(t==null?void 0:t.t())??1-n;t==null||t.abort();var y=n-p,$=e.duration*Math.abs(y),S=[];if($>0){var E=!1;if(c)for(var m=Math.ceil($/16.666666666666668),T=0;T<=m;T+=1){var k=p+y*d(T/m),R=Ps(c(k,1-k));S.push(R),E||(E=R.overflow==="hidden")}E&&(r.style.overflow="hidden"),b=()=>{var U=g.currentTime;return p+y*d(U/$)},u&&pc(()=>{if(g.playState!=="running")return!1;var U=b();return u(U,1-U),!0})}g=r.animate(S,{duration:$,fill:"forwards"}),g.onfinish=()=>{b=()=>n,u==null||u(n,1-n),a()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=zt)},deactivate:()=>{a=zt},reset:()=>{n===0&&(u==null||u(1,0))},t:()=>b()}}function Ze(r,e,t=e){var n=dn();Xa(r,"input",a=>{var s=a?r.defaultValue:r.value;if(s=sa(r)?ia(s):s,t(s),n&&s!==(s=e())){var i=r.selectionStart,o=r.selectionEnd;r.value=s??"",o!==null&&(r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length))}}),ft(e)==null&&r.value&&t(sa(r)?ia(r.value):r.value),cn(()=>{var a=e();sa(r)&&a===ia(r.value)||r.type==="date"&&!a&&!r.value||a!==r.value&&(r.value=a??"")})}function yc(r,e,t=e){Xa(r,"change",n=>{var a=n?r.defaultChecked:r.checked;t(a)}),ft(e)==null&&t(r.checked),cn(()=>{var n=e();r.checked=!!n})}function sa(r){var e=r.type;return e==="number"||e==="range"}function ia(r){return r===""?null:+r}function Qi(r,e,t){if(r.multiple)return xc(r,e);for(var n of r.options){var a=Wr(n);if(Sl(a,e)){n.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function _c(r,e){Xe(()=>{var t=new MutationObserver(()=>{var n=r.__value;Qi(r,n)});return t.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function wc(r,e,t=e){var n=!0;Xa(r,"change",a=>{var s=a?"[selected]":":checked",i;if(r.multiple)i=[].map.call(r.querySelectorAll(s),Wr);else{var o=r.querySelector(s)??r.querySelector("option:not([disabled])");i=o&&Wr(o)}t(i)}),Xe(()=>{var a=e();if(Qi(r,a,n),n&&a===void 0){var s=r.querySelector(":checked");s!==null&&(a=Wr(s),t(a))}r.__value=a,n=!1}),_c(r)}function xc(r,e){for(var t of r.options)t.selected=~e.indexOf(Wr(t))}function Wr(r){return"__value"in r?r.__value:r.value}function Cs(r,e){return r===e||(r==null?void 0:r[yt])===e}function Gn(r={},e,t,n){return Xe(()=>{var a,s;return cn(()=>{a=s,s=[],ft(()=>{r!==t(...s)&&(e(r,...s),a&&Cs(t(...a),r)&&e(null,...a))})}),()=>{un(()=>{s&&Cs(t(...s),r)&&e(null,...s)})}}),r}function nr(r){return function(...e){var t=e[0];return t.stopPropagation(),r==null?void 0:r.apply(this,e)}}function As(r){return function(...e){var t=e[0];return t.preventDefault(),r==null?void 0:r.apply(this,e)}}function St(r=!1){const e=we,t=e.l.u;if(!t)return;let n=()=>zi(e.s);if(r){let a=0,s={};const i=$e(()=>{let o=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],o=!0);return o&&a++,a});n=()=>v(i)}t.b.length&&Ol(()=>{Is(e,n),ba(t.b)}),ut(()=>{const a=ft(()=>t.m.map(Yo));return()=>{for(const s of a)typeof s=="function"&&s()}}),t.a.length&&ut(()=>{Is(e,n),ba(t.a)})}function Is(r,e){if(r.l.s)for(const t of r.l.s)v(t);e()}function Jn(r,e){var s;var t=(s=r.$$events)==null?void 0:s[e.type],n=Bn(t)?t.slice():t==null?[]:[t];for(var a of n)a.call(this,e)}let yn=!1;function kc(r){var e=yn;try{return yn=!1,[r(),yn]}finally{yn=e}}const $c={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function vn(r,e,t){return new Proxy({props:r,exclude:e},$c)}const Sc={get(r,e){if(!r.exclude.includes(e))return v(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,t){return e in r.special||(r.special[e]=z({get[e](){return r.props[e]}},e,wi)),r.special[e](t),ks(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),ks(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function te(r,e){return new Proxy({props:r,exclude:e,special:{},version:Ye(0)},Sc)}const Ec={get(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(br(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n)return n[e]}},set(r,e,t){let n=r.props.length;for(;n--;){let a=r.props[n];br(a)&&(a=a());const s=Ht(a,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(br(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n){const a=Ht(n,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(r,e){if(e===yt||e===mi)return!1;for(let t of r.props)if(br(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props){br(t)&&(t=t());for(const n in t)e.includes(n)||e.push(n)}return e}};function re(...r){return new Proxy({props:r},Ec)}function Os(r){for(var e=be,t=be;e!==null&&(e.f&($t|Ir))===0;)e=e.parent;try{return it(e),r()}finally{it(t)}}function z(r,e,t,n){var k;var a=(t&hl)!==0,s=!Lr||(t&vl)!==0,i=(t&gl)!==0,o=(t&pl)!==0,l=!1,c;i?[c,l]=kc(()=>r[e]):c=r[e];var u=yt in r||mi in r,d=i&&(((k=Ht(r,e))==null?void 0:k.set)??(u&&e in r&&(R=>r[e]=R)))||void 0,f=n,h=!0,b=!1,g=()=>(b=!0,h&&(h=!1,o?f=ft(n):f=n),f);c===void 0&&n!==void 0&&(d&&s&&al(),c=g(),d&&d(c));var p;if(s)p=()=>{var R=r[e];return R===void 0?g():(h=!0,b=!1,R)};else{var y=Os(()=>(a?$e:zn)(()=>r[e]));y.f|=Qo,p=()=>{var R=v(y);return R!==void 0&&(f=void 0),R===void 0?f:R}}if((t&wi)===0)return p;if(d){var $=r.$$legacy;return function(R,U){return arguments.length>0?((!s||!U||$||l)&&d(U?p():R),R):p()}}var S=!1,E=!1,m=Ga(c),T=Os(()=>$e(()=>{var R=p(),U=v(m);return S?(S=!1,E=!0,U):(E=!1,m.v=R)}));return a||(T.equals=qa),function(R,U){if(arguments.length>0){const A=U?v(T):s&&i?J(R):R;return T.equals(A)||(S=!0,j(m,A),b&&f!==void 0&&(f=A),ft(()=>v(T))),R}return v(T)}}function vt(r){we===null&&Wa(),Lr&&we.l!==null?Pc(we).m.push(r):ut(()=>{const e=ft(r);if(typeof e=="function")return e})}function Tc(r){we===null&&Wa(),vt(()=>()=>ft(r))}function Pc(r){var e=r.l;return e.u??(e.u={a:[],b:[],m:[]})}const Cc="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Cc);ul();const Q={string:"string",number:"number",boolean:"boolean",null:"null",undefined:"undefined",regexp:"regexp",function:"function",object:"object",array:"array",promise:"promise",unknown:"unknown"},oa=r=>r===null?Q.null:r===void 0?Q.undefined:r instanceof RegExp?Q.regexp:typeof r=="string"?Q.string:typeof r=="number"?Q.number:typeof r=="boolean"?Q.boolean:Array.isArray(r)?Q.array:typeof r=="function"?Q.function:typeof r=="object"?Q.object:Q.unknown,It=r=>{var e;if(typeof r=="string"){if(r.match(/^[\d.-]+$/))return Number.isNaN(Number.parseFloat(r))?Number.isNaN(Number.parseInt(r))?{identity:Q.string,value:r}:{identity:Q.number,value:Number.parseInt(r)}:{identity:Q.number,value:Number.parseFloat(r)};if(!r.includes(",")&&(r.includes("&")||r.includes("="))){const t=r.split(/[&,]/),n={};for(const a of t){if(!a.includes("="))continue;const[s,i]=a.split("="),o=s.replace(/\[\d*\]$/,""),l=It(i);if(s.includes("[")){Array.isArray(n[o])||(n[o]=[]);const c=(e=s.match(/\[(\d+)\]/))==null?void 0:e[1];c?(Array.isArray(n[o])||(n[o]=[]),n[o].push([parseInt(c),l.value])):n[o].push(l.value)}else n[o]=l.value}for(const[a,s]of Object.entries(n))Array.isArray(s)&&s.length>0&&Array.isArray(s[0])&&(n[a]=s.sort((i,o)=>i[0]-o[0]).map(([,i])=>i));return{identity:Q.object,value:n}}else if(r.includes("&")&&r.includes("=")){const t={};for(const n of r.split("&")){if(!n.includes("="))continue;const[a,s]=n.split("=");t[a]=s}return{identity:Q.object,value:t}}else if(r.match(/^[0-9a-z]+\[\d+\]=.+$/)){const[,t,n]=r.match(/^[0-9a-z]+\[(\d+)\]=(.+)$/)||[];if(t!==void 0&&n!==void 0){const a=[],s=It(n);return a[parseInt(t,10)]=s.value,{identity:Q.array,value:a}}}else if(r.match(/^[0-9a-z]+\[\]$/))return{identity:Q.array,value:r};return r.match(/^true$/i)?{identity:Q.boolean,value:!0}:r.match(/^false$/i)?{identity:Q.boolean,value:!1}:{identity:Q.string,value:r}}else{if(typeof r=="number")return{identity:Q.number,value:r};if(r instanceof RegExp)return{identity:Q.regexp,value:r};if(typeof r=="boolean")return{identity:Q.boolean,value:r};if(r===null)return{identity:Q.null,value:null};if(r===void 0)return{identity:Q.undefined,value:void 0};if(Array.isArray(r))return{identity:Q.array,value:r};if(typeof r=="object"){const t=Object.entries(r).reduce((n,[a,s])=>{var i;return n[a]=(i=It(s))==null?void 0:i.value,n},{});return{identity:Q.object,value:t}}else{if(typeof r=="function")return{identity:Q.function,value:r};if(r instanceof Promise)return{identity:Q.promise,value:r}}}throw new Error(`unable to marshal value: ${r} (it is neither a string, number, boolean, nor a regular expression)`)},la=["exact-match","base-match","default-match","permitted-no-conditions"];var Zr;(function(r){r.any={[Q.string]:(e,t)=>e===t,[Q.number]:(e,t)=>e===t,[Q.boolean]:(e,t)=>e===t,[Q.promise]:(e,t)=>e===t,[Q.function]:(e,t)=>e===t,[Q.null]:(e,t)=>e===t,[Q.undefined]:(e,t)=>e===t,[Q.unknown]:(e,t)=>e===t,[Q.array]:(e,t)=>Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((n,a)=>r.any[oa(n)](n,t[a])),[Q.object]:(e,t)=>{if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(e),a=Object.keys(t);return n.length!==a.length?!1:n.every(s=>r.any[oa(e[s])](e[s],t[s]))},[Q.regexp]:(e,t)=>{const n=e.exec(t);return n?n.groups?It(n.groups).value:n.length===1&&n[0]===n.input?!0:It(n.slice(1)[0]).value:!1}},r.valid={[Q.string]:e=>e.length>0,[Q.boolean]:e=>e===!1,[Q.number]:e=>!isNaN(e),[Q.array]:e=>Array.isArray(e)&&e.length>0,[Q.object]:e=>{if(typeof e!="object"||e===null)return!0;const t=Object.keys(e);return t.length===0?!0:t.every(a=>{const s=e[a],i=oa(s);return r.valid[i](s)})},[Q.regexp]:e=>e instanceof RegExp,[Q.function]:e=>typeof e=="function",[Q.null]:()=>!1,[Q.undefined]:()=>!1}})(Zr||(Zr={}));const kt=(r,e)=>{const t=new URL(r,window.location.origin);e&&Object.entries(e).forEach(([n,a])=>{t.searchParams.set(n,a)}),window.history.pushState({},"",t.toString())};class Ln{constructor(e){oe(this,"params",{});oe(this,"original");if(typeof e=="string"&&(this.original=e),e){const t=It(e);t.value&&(this.params=t.value)}}get(e,t){return this.params[e]||t}set(e,t){}delete(e){delete this.params[e]}clear(){this.params={}}goto(e){kt(e,this.params)}test(e){if(typeof e=="object"){const t={};for(const[n,a]of Object.entries(e.params))if(this.params[n]){const s=It(this.params[n]);if(a instanceof RegExp){const i=Zr.any[Q.regexp](a,this.params[n]);if(i)t[n]=i;else return{condition:"no-match"}}else s.identity===Q.number?s.value===this.params[n]&&(t[n]=s.value):s.identity===Q.string?t[n]=s.value===this.params[n]:s.identity===Q.boolean?t[n]=s.value===!!this.params[n]:s.identity===Q.array&&(t[n]=s.value.includes(this.params[n]))}else return{condition:"no-match"};return Object.keys(t).length===Object.keys(e).length&&Zr.valid[Q.object](t)?{condition:"exact-match",matches:It(t).value}:{condition:Object.keys(t).length>1&&Object.keys(e).length!==Object.keys(t).length?"exact-match":"no-match",matches:t}}}toString(){const e=t=>Array.isArray(t)?t.map(n=>e(n)).join(","):typeof t=="object"&&t!==null?Object.entries(t).map(([n,a])=>`${n}:${e(a)}`).join(","):encodeURIComponent(t);return Object.entries(this.params).map(([t,n])=>`${encodeURIComponent(t)}=${e(n)}`).join("&")}toJSON(e){return Object.fromEntries(Object.entries(this.params).map(([t,n])=>[t,n.toString()]))}}var Rn;(function(r){r.parse=e=>{if(e){const[t,n=""]=e.split("#"),[a,s=""]=n.split("?");return{path:a,query:new Ln(s),hash:n}}}})(Rn||(Rn={}));const Nn=r=>(r&&!r.startsWith("/")&&(r="/"+r),r);var Pr;(function(r){r.parse=e=>{if(e===void 0||e.length===0)throw new Error(`invalid URL: ${e}`);if(e.includes("://")){const[n,a]=e.split("://"),s=a.match(/^([^/:]+)(?::(\d+))?(.*)$/),[i,o,l]=(s==null?void 0:s.slice(1))??[],[c,u=""]=(l||"").split("?"),d=Rn.parse(e);return{protocol:n,host:i,port:o,path:Nn(c)||"/",query:new Ln(u),hash:d}}else{const[n,a=""]=e.split("?"),s=Rn.parse(e);return{protocol:window.location.protocol.replace(":",""),host:window.location.hostname,port:window.location.port,path:Nn(n)||"/",query:new Ln(a),hash:s}}},r.path=e=>e.split("?")[0]})(Pr||(Pr={}));const js=(r,e,t)=>{var a,s,i,o,l,c,u,d,f,h,b,g,p,y,$,S;const n=Pr.parse(location.toString());(r.path===n.path||r.path===n.hash.path||r.hash.path===n.path||!((a=e.active)!=null&&a.absolute)&&n.path.startsWith(r.path))&&((s=e.active)!=null&&s.querystring||((i=e.active)==null?void 0:i.querystring)===void 0)&&(r.query.original==""||r.query.original===location.search.replace("?","")||r.query.original===n.hash.query.original)?(Array.isArray((o=e.active)==null?void 0:o.class)?t.classList.add(...(l=e.active)==null?void 0:l.class):t.classList.add((c=e.active)==null?void 0:c.class),(u=e.default)!=null&&u.class&&t.classList.remove(...(d=e.default)==null?void 0:d.class)):Array.isArray((f=e.active)==null?void 0:f.class)?(t.classList.remove(...(h=e.active)==null?void 0:h.class),(b=e.default)!=null&&b.class&&t.classList.add(...(g=e.default)==null?void 0:g.class)):((p=e.active)!=null&&p.class&&t.classList.remove((y=e.active)==null?void 0:y.class),($=e.default)!=null&&$.class&&t.classList.add(...(S=e.default)==null?void 0:S.class))},He=(r,e={})=>{let t=Pr.parse(r.href);const n=()=>{js(t,e,r)},a=s=>{s.preventDefault(),window.history.pushState({},"",r.href),js(t,e,r)};return n(),r.addEventListener("click",a),window.addEventListener("pushState",n),{destroy(){r.removeEventListener("click",a),window.removeEventListener("pushState",n)}}};var lt;(function(r){r.config=e=>{var t,n,a;return{tracing:(e==null?void 0:e.tracing)||void 0||!1,logging:{level:((t=e==null?void 0:e.logging)==null?void 0:t.level)||void 0||4,console:((n=e==null?void 0:e.logging)==null?void 0:n.console)||void 0,sink:((a=e==null?void 0:e.logging)==null?void 0:a.sink)||void 0}}},r.current=r.config()})(lt||(lt={}));var en;(function(r){let e;(function(t){t[t.FATAL=-1]="FATAL",t[t.ERROR=1]="ERROR",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.TRACE=4]="TRACE",t[t.DISABLED=5]="DISABLED"})(e=r.LogLevel||(r.LogLevel={})),r.info=(...t)=>{r.log(e.INFO,...t)},r.debug=(...t)=>{r.log(e.DEBUG,...t)},r.error=(...t)=>{r.log(e.ERROR,...t)},r.trace=(...t)=>{r.log(e.TRACE,...t)},r.fatal=(...t)=>{throw r.log(e.FATAL,...t),new Error("Fatal error")},r.log=(t,...n)=>{t<=lt.current.logging.level&&t!==e.DISABLED&&(lt.current.logging.console&&(n.some(a=>a==null?void 0:a.toConsole)?n.forEach(a=>{var s;return(s=a==null?void 0:a.toConsole)==null?void 0:s.call(a,lt.current.logging.level)}):lt.current.logging.console&&console.log(...n)),lt.current.logging.sink&&lt.current.logging.sink(n))}})(en||(en={}));function Ac(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}const Ls=async r=>Ac(r)?await r():r();var nt,xr,Tn;class es extends Map{constructor(){super(...arguments);Yt(this,xr);Yt(this,nt,le(!1))}get size(){return v(Ne(this,nt)),super.size}add(t,n){if(this.has(t))throw new Error(`key ${t} already exists`);return this.set(t,n)}get(t){return v(Ne(this,nt)),super.get(t)}set(t,n){const a=super.set(t,n);return mn(this,xr,Tn).call(this),a}delete(t){const n=super.delete(t);return n&&mn(this,xr,Tn).call(this),n}clear(){const t=super.clear();return mn(this,xr,Tn).call(this),t}keys(){return v(Ne(this,nt)),super.keys()}values(){return v(Ne(this,nt)),super.values()}entries(){return v(Ne(this,nt)),super.entries()}forEach(t){return v(Ne(this,nt)),super.forEach(t)}[Symbol.iterator](){return v(Ne(this,nt)),super[Symbol.iterator]()}}nt=new WeakMap,xr=new WeakSet,Tn=function(){j(Ne(this,nt),!v(Ne(this,nt)))};var rn;class Ic{constructor(e,t){oe(this,"prefix");oe(this,"id");oe(this,"date");oe(this,"name");oe(this,"description");oe(this,"metadata");Yt(this,rn,le(J(new es)));this.prefix=t,this.name=e.name,this.id=e.id||Math.random().toString(36).substring(2,25),this.description=e.description,this.metadata=e.metadata,this.date=e.date||new Date}get traces(){return v(Ne(this,rn))}set traces(e){j(Ne(this,rn),J(e))}trace(e,t){const n=e.id||Math.random().toString(36).substring(2,25);return e=new Oc(e,this.traces.size+1,this,t),this.traces.set(n,e),en.trace(t,e),e}get(){return this.traces.values()}}rn=new WeakMap;class Oc{constructor(e,t,n,a){oe(this,"prefix");oe(this,"id");oe(this,"index");oe(this,"date");oe(this,"name");oe(this,"description");oe(this,"metadata");oe(this,"span");this.id=e.id||Math.random().toString(36).substring(2,25),this.index=t,this.date=e.date||new Date,this.name=e.name,this.description=e.description,this.metadata=e.metadata,this.span=n,this.prefix=e.prefix}toConsole(e){var n,a,s;const t=["%c%s %cspan:%c%s:%ctrace:%c%s%c:%c%s %c%s","color: #505050",(n=this.date)==null?void 0:n.toISOString(),"color: #7A7A7A","color: #915CF2; font-weight: bold",((a=this.span)==null?void 0:a.name)||this.id,"color: #7A7A7A; font-weight: bold","color: #C3F53B; font-weight: bold",this.index,"color: #7A7A7A; font-weight: bold","color: #3BAEF5; font-weight: bold",`${(s=this.metadata)!=null&&s.router?`[${this.metadata.router.id}] `:""}${this.name}`,"color: #06E96C",this.description];this.prefix&&(t[0]=`${this.prefix} %c%s %cspan:%c%s:%ctrace:%c%s%c:%c%s %c%s`),lt.current.tracing.level===en.LogLevel.TRACE?(t[0]+=`
%c%s`,t.push("color: #6B757F",`attached trace metadata:

${JSON.stringify({span:this.span.metadata,trace:this.metadata},null,2)}`)):lt.current.tracing.level===en.LogLevel.DEBUG&&(this.span&&t.push(this.span.metadata),this.metadata&&t.push(this.metadata)),console.log(...t)}}const jc=new es,Xi=(r,e)=>{if(lt.current.tracing){const t=new Ic({name:r,metadata:e});return jc.set(r,t),t}};var Ea;(function(r){r.base=(e,t)=>t.match(new RegExp(`^${e}(/|$)`))!==null})(Ea||(Ea={}));var Mn;(function(r){r.from=e=>{if(typeof e=="string")return new RegExp(e);if(e instanceof RegExp)return new RegExp(e.source);throw new Error("invalid regexp expression")},r.can=e=>/[[\]{}()*+?.,\\^$|#\s]|\\[wWdDsS]|\(\?[:!=<]?/.test(e)})(Mn||(Mn={}));class ca{constructor(e){oe(this,"router");oe(this,"route");oe(this,"result");this.router=e.router,this.route=e.route,this.result=e.result}absolute(e=this.router.config.basePath){return e?`${e}${this.result.path.original}`:this.result.path.original}toString(){return`${this.absolute()}${this.result.querystring.original?`?${this.result.querystring.original}`:""}`}}var nn;const fs=class fs{constructor(e){oe(this,"name");oe(this,"basePath");oe(this,"path");oe(this,"querystring");oe(this,"component");oe(this,"props");oe(this,"hooks");oe(this,"children");oe(this,"status");Yt(this,nn,le(J([])));var t;this.name=e.name,this.basePath=e.basePath,this.path=typeof e.path=="string"?Nn(e.path):e.path,e.querystring&&(this.querystring=new Ln(e.querystring)),this.component=e.component,this.props=e.props,this.hooks=e.hooks,this.status=e.status,this.children=(t=e.children)==null?void 0:t.map(n=>new fs(n))}get traces(){return v(Ne(this,nn))}set traces(e){j(Ne(this,nn),J(e))}test(e){const t=Pr.path(e.toString());if(typeof this.path=="string")if(Mn.can(this.path)){const n=Mn.from(this.path).exec(t);if(n)return{condition:"exact-match",params:n.groups}}else{if(this.path===t)return{condition:"exact-match",params:this.path};if(Ea.base(this.path,t))return{condition:"base-match",params:{}}}else if(this.path instanceof RegExp){const n=Zr.any[Q.regexp](this.path,t);if(n)return{condition:"exact-match",params:n}}else if(typeof this.path=="number"&&this.path===It(t).value)throw new Error("numbered route match not supported at the route.path level");return{condition:"no-match",params:{}}}absolute(){return this.basePath?`${this.basePath}${this.path}`:this.path.toString()}};nn=new WeakMap;let Ta=fs;class Lc{constructor(e){oe(this,"id");oe(this,"basePath");oe(this,"routes");oe(this,"hooks");oe(this,"initialPath");oe(this,"notFoundComponent");oe(this,"children");oe(this,"statuses");oe(this,"renavigation");this.id=e.id||Math.random().toString(36).substring(2,15),this.basePath=e.basePath,this.hooks=e.hooks,this.initialPath=e.initialPath,this.notFoundComponent=e.notFoundComponent,this.statuses=e.statuses,this.routes=e.routes}}var Ut;(function(r){r[r.OK=200]="OK",r[r.PermanentRedirect=301]="PermanentRedirect",r[r.TemporaryRedirect=302]="TemporaryRedirect",r[r.BadRequest=400]="BadRequest",r[r.Unauthorized=401]="Unauthorized",r[r.Forbidden=403]="Forbidden",r[r.NotFound=404]="NotFound",r[r.InternalServerError=500]="InternalServerError"})(Ut||(Ut={}));var an,sn;class Rc{constructor(e,t){oe(this,"id");oe(this,"routes",new Set);oe(this,"handlers");oe(this,"config");oe(this,"applyFn");Yt(this,an,le(!1));Yt(this,sn,le());this.id=e.id||Math.random().toString(36).substring(2,15),this.config=e,this.applyFn=t,this.handlers={pushStateHandler:()=>this.handleStateChange(location.toString()),replaceStateHandler:()=>this.handleStateChange(location.toString()),popStateHandler:()=>this.handleStateChange(location.toString()),hashChangeHandler:()=>this.handleStateChange(location.toString())},window.addEventListener("pushState",this.handlers.pushStateHandler),window.addEventListener("replaceState",this.handlers.replaceStateHandler),window.addEventListener("popstate",this.handlers.popStateHandler),window.addEventListener("hashchange",this.handlers.hashChangeHandler);for(let n of e.routes)this.routes.add(new Ta({...n,basePath:n.basePath||this.config.basePath}))}get navigating(){return v(Ne(this,an))}set navigating(e){j(Ne(this,an),J(e))}get current(){return v(Ne(this,sn))}set current(e){j(Ne(this,sn),J(e))}async handleStateChange(e,t){var i,o,l,c,u,d;const{path:n,query:a}=Pr.parse(e);this.navigating=!0,t||(t=Xi("detected history change event")),t==null||t.trace({prefix:"🔍",name:"router-instance.handleStateChange",description:`attempting to handle a new state change for path "${n}"`,metadata:{router:{id:this.config.id,basePath:this.config.basePath},location:"/src/lib/router-instance.svelte:handleStateChange()",basePath:this.config.basePath,path:n,query:a,url:e}});const s=await this.get(n,a,t);if(s&&la.includes(s.result.path.condition)){if(t==null||t.trace({prefix:"✅",name:"router-instance.handleStateChange",description:`route found for path "${n}"`,metadata:{location:"/src/lib/router-instance.svelte:handleStateChange()",router:{id:this.config.id,basePath:this.config.basePath},path:n,query:(a==null?void 0:a.params)||!1,route:s,url:e}}),(i=this.config.hooks)!=null&&i.pre&&!await this.evaluateHooks(s,this.config.hooks.pre)){this.navigating=!1;return}if((l=(o=s.route)==null?void 0:o.hooks)!=null&&l.pre&&!await this.evaluateHooks(s,s.route.hooks.pre)){this.navigating=!1;return}if(this.applyFn(s,t),s&&((u=(c=s.route)==null?void 0:c.hooks)!=null&&u.post)&&!await this.evaluateHooks(s,s.route.hooks.post)){this.navigating=!1;return}(d=this.config.hooks)!=null&&d.post&&await this.evaluateHooks(s,this.config.hooks.post),this.current=s}this.navigating=!1}async evaluateHooks(e,t){if(Array.isArray(t))for(const n of t){if(!await Ls(()=>n(e)))return!1;await new Promise(a=>setTimeout(a,50))}else if(!await Ls(()=>t(e)))return!1;return!0}async get(e,t,n){var o;e=e.replace("/#","");const a=Nn(e.replace(this.config.basePath||"/","")),s=l=>{const c=Array.from(this.routes).find(u=>!u.path||u.path===""||u.path==="/");if(n==null||n.trace({prefix:c?"✅":"❌",name:"router-instance.getDefaultRoute",description:`get default route because "${l}"`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,route:c}}),c)return new ca({router:this,route:c,result:{path:{condition:"default-match",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},component:c.component,status:Ut.OK}})};if(n==null||n.trace({prefix:"🔍",name:"router-instance.get",description:`${this.config.id} with base path "${this.config.basePath||"/"}" is attempting to get a route for path "${e}"`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a}}),this.config.basePath===e)return s("base path is the same as the path");let i;for(const l of this.routes){const c=l.test(a);if(c&&la.includes(c.condition))if(n==null||n.trace({prefix:"✅",name:"router-instance.get:routesloop",description:`${c.condition} for inbound path "${e}"${l.name?` (named: "${l.name}")`:""}`,metadata:{location:"/src/lib/router-instance.svelte:get():forloop",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,route:l,evaluation:{path:c}}}),l.querystring&&t){const u=t.test(l.querystring);la.includes(u==null?void 0:u.condition)&&(n==null||n.trace({prefix:"✅",name:"router-instance.get.evaluateQuery",description:`${u==null?void 0:u.condition} evaluating querystring "${t==null?void 0:t.toString()}" for the route "${e}"${l.name?` (named: "${l.name}")`:""}`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,evaluation:{path:c,querystring:u}}}),i=new ca({router:this,route:l,result:{path:{...c,original:a},querystring:{...u,original:t.toJSON()},component:l.component,status:Ut.OK}}))}else i=new ca({router:this,route:l,result:{path:{...c,original:a},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},component:l.component,status:Ut.OK}})}if(e==="/")return s("no routes match, last resort is to find a default route");if(!i&&((o=this.config.statuses)!=null&&o[404])){const l=this.config.statuses[404];return typeof l=="function"?{result:{...l({router:this,result:{path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Ut.NotFound}},n),path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Ut.NotFound},router:this}:{result:{...l,path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Ut.NotFound},router:this}}return i}deregister(e){window.removeEventListener("pushState",this.handlers.pushStateHandler),window.removeEventListener("replaceState",this.handlers.replaceStateHandler),window.removeEventListener("popstate",this.handlers.popStateHandler),window.removeEventListener("hashchange",this.handlers.hashChangeHandler),Zi.deregister(this.config.id,e)}}an=new WeakMap,sn=new WeakMap;class Nc{constructor(){oe(this,"instances",new es);if(window.__SVELTE_SPA_ROUTER_REGISTERED__)return window.__SVELTE_SPA_ROUTER_REGISTERED__;window.__SVELTE_SPA_ROUTER_REGISTERED__=this;const{pushState:e,replaceState:t}=window.history;window.history.pushState=function(...n){e.apply(window.history,n),window.dispatchEvent(new Event("pushState"))},window.history.replaceState=function(...n){t.apply(window.history,n),window.dispatchEvent(new Event("replaceState"))}}register(e,t,n){if(this.instances.has(e.id))throw new Error(`router instance with id ${e.id} already registered`);const a=new Rc(e,t);return n&&n.trace({prefix:"🔍",name:"registry.register",description:"registering a new router instance",metadata:{router:{id:e.id,basePath:e.basePath},location:"/src/lib/registry.svelte:register()",config:e}}),this.instances.set(e.id,a),a}deregister(e,t){const n=this.instances.get(e);if(t&&t.trace({prefix:n?"✅":"❌",name:"registry.deregister",description:"deregistering a router instance",metadata:{router:{id:e,basePath:n.config.basePath},location:"/src/lib/registry.svelte:deregister()",config:n.config}}),n)this.instances.delete(e);else throw new Error(`router instance with id ${e} not found`)}get(e){return this.instances.get(e)}}const Zi=window.__SVELTE_SPA_ROUTER_REGISTRY__||new Nc;function Mc(r,e){fe(e,!0);let t=z(e,"instance",15),n=vn(e,["$$slots","$$events","$$legacy","instance"]);const a=Xi(e.id?`[${e.id}]`:"router");let s=le(null),i,o=le(void 0);const l=async(d,f)=>{if(j(o,J(d)),f==null||f.trace({prefix:"✅",name:"apply",description:`<Router${i.config.id?` id="${i.config.id}"`:""}/> applying route ${d.result.path.original} (${d.result.path.condition})`,metadata:{location:"/src/lib/router.svelte:apply()",router:{id:i.config.id,basePath:i.config.basePath},result:d}}),typeof d.result.component=="function"&&d.result.component.constructor.name==="AsyncFunction"){const h=await d.result.component();j(s,J(h.default||h))}else j(s,J(d.result.component))};i=Zi.register(new Lc(n),l,a),a==null||a.trace({prefix:"✅",name:"<Router/> Component",description:"new component mounted",metadata:{router:{id:i.config.id,basePath:i.config.basePath},location:"/src/lib/router.svelte:mount()"}}),t(i),a&&(a.metadata={router:i.config.id}),i.handleStateChange(location.toString(),a),Tc(()=>{i.deregister(a)});var c=V(),u=D(c);Wn(u,()=>v(s),(d,f)=>{f(d,{get route(){return v(o)}})}),_(r,c),he()}const Dc="modulepreload",Bc=function(r){return"/"+r},Rs={},ar=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let i=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=i(t.map(c=>{if(c=Bc(c),c in Rs)return;Rs[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Dc,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,b)=>{f.addEventListener("load",h),f.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Uc=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ar(async()=>{const{default:n}=await Promise.resolve().then(()=>Nr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class ts extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Fc extends ts{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zc extends ts{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qc extends ts{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pa;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Pa||(Pa={}));var Hc=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Vc{constructor(e,{headers:t={},customFetch:n,region:a=Pa.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=Uc(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Hc(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:i}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(o["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(o["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:c}).catch(b=>{throw new Fc(b)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new zc(u);if(!u.ok)throw new qc(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(a){return{data:null,error:a}}})}}function eo(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Wc(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var Me={},ur={},dr={},fr={},hr={},vr={},Gc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cr=Gc();const Jc=Cr.fetch,to=Cr.fetch.bind(Cr),ro=Cr.Headers,Kc=Cr.Request,Yc=Cr.Response,Nr=Object.freeze(Object.defineProperty({__proto__:null,Headers:ro,Request:Kc,Response:Yc,default:to,fetch:Jc},Symbol.toStringTag,{value:"Module"})),Qc=Wc(Nr);var _n={},Ns;function no(){if(Ns)return _n;Ns=1,Object.defineProperty(_n,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return _n.default=r,_n}var Ms;function ao(){if(Ms)return vr;Ms=1;var r=vr&&vr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(vr,"__esModule",{value:!0});const e=r(Qc),t=r(no());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=Object.assign({},this.headers),this.headers[s]=i,this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f;let h=null,b=null,g=null,p=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const m=await c.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=m:b=JSON.parse(m))}const S=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),E=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");S&&E&&E.length>1&&(g=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(h={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,g=null,p=406,y="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const S=await c.text();try{h=JSON.parse(S),Array.isArray(h)&&c.status===404&&(b=[],h=null,p=200,y="OK")}catch{c.status===404&&S===""?(p=204,y="No Content"):h={message:S}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,p=200,y="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:b,count:g,status:p,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return vr.default=n,vr}var Ds;function so(){if(Ds)return hr;Ds=1;var r=hr&&hr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(hr,"__esModule",{value:!0});const e=r(ao());class t extends e.default{select(a){let s=!1;const i=(a??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(c,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const d=[a?"analyze":null,s?"verbose":null,i?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`,c==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return hr.default=t,hr}var Bs;function rs(){if(Bs)return fr;Bs=1;var r=fr&&fr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fr,"__esModule",{value:!0});const e=r(so());class t extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const i=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:i,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${l}fts${c}.${s}`),this}match(a){return Object.entries(a).forEach(([s,i])=>{this.url.searchParams.append(s,`eq.${i}`)}),this}not(a,s,i){return this.url.searchParams.append(a,`not.${s}.${i}`),this}or(a,{foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,s,i){return this.url.searchParams.append(a,`${s}.${i}`),this}}return fr.default=t,fr}var Us;function io(){if(Us)return dr;Us=1;var r=dr&&dr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dr,"__esModule",{value:!0});const e=r(rs());class t{constructor(a,{headers:s={},schema:i,fetch:o}){this.url=a,this.headers=s,this.schema=i,this.fetch=o}select(a,{head:s=!1,count:i}={}){const o=s?"HEAD":"GET";let l=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),i&&(this.headers.Prefer=`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:s,defaultToNull:i=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(a)){const c=a.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:o,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${i?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(a)){const d=a.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:s}={}){const i="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const s="DELETE",i=[];return a&&i.push(`count=${a}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return dr.default=t,dr}var Br={},Ur={},Fs;function Xc(){return Fs||(Fs=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.version=void 0,Ur.version="0.0.0-automated"),Ur}var zs;function Zc(){if(zs)return Br;zs=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.DEFAULT_HEADERS=void 0;const r=Xc();return Br.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Br}var qs;function eu(){if(qs)return ur;qs=1;var r=ur&&ur.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ur,"__esModule",{value:!0});const e=r(io()),t=r(rs()),n=Zc();class a{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${i}`);let h;l||c?(d=l?"HEAD":"GET",Object.entries(o).filter(([g,p])=>p!==void 0).map(([g,p])=>[g,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([g,p])=>{f.searchParams.append(g,p)})):(d="POST",h=o);const b=Object.assign({},this.headers);return u&&(b.Prefer=`count=${u}`),new t.default({method:d,url:f,headers:b,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return ur.default=a,ur}var Hs;function tu(){if(Hs)return Me;Hs=1;var r=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Me,"__esModule",{value:!0}),Me.PostgrestError=Me.PostgrestBuilder=Me.PostgrestTransformBuilder=Me.PostgrestFilterBuilder=Me.PostgrestQueryBuilder=Me.PostgrestClient=void 0;const e=r(eu());Me.PostgrestClient=e.default;const t=r(io());Me.PostgrestQueryBuilder=t.default;const n=r(rs());Me.PostgrestFilterBuilder=n.default;const a=r(so());Me.PostgrestTransformBuilder=a.default;const s=r(ao());Me.PostgrestBuilder=s.default;const i=r(no());return Me.PostgrestError=i.default,Me.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:i.default},Me}var ru=tu();const nu=eo(ru),{PostgrestClient:au,PostgrestQueryBuilder:Bp,PostgrestFilterBuilder:Up,PostgrestTransformBuilder:Fp,PostgrestBuilder:zp,PostgrestError:qp}=nu,su="2.11.2",iu={"X-Client-Info":`realtime-js/${su}`},ou="1.0.0",oo=1e4,lu=1e3;var wr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(wr||(wr={}));var rt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(rt||(rt={}));var ot;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ot||(ot={}));var Ca;(function(r){r.websocket="websocket"})(Ca||(Ca={}));var Zt;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Zt||(Zt={}));class cu{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const a=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+a));i=i+a;const l=n.decode(e.slice(i,i+s));i=i+s;const c=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class lo{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ee||(Ee={}));const Vs=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,i)=>(s[i]=uu(i,r,e,a),s),{})},uu=(r,e,t,n)=>{const a=e.find(o=>o.name===r),s=a==null?void 0:a.type,i=t[r];return s&&!n.includes(s)?co(s,i):Aa(i)},co=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return vu(e,t)}switch(r){case Ee.bool:return du(e);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return fu(e);case Ee.json:case Ee.jsonb:return hu(e);case Ee.timestamp:return gu(e);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Aa(e);default:return Aa(e)}},Aa=r=>r,du=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},fu=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},hu=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},vu=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let s;const i=r.slice(1,t);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>co(e,o))}return r},gu=r=>typeof r=="string"?r.replace(" ","T"):r,uo=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ua{constructor(e,t,n={},a=oo){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ws;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Ws||(Ws={}));class Gr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gr.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=Gr.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Gr.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const s=this.cloneDeep(e),i=this.transformState(t),o={},l={};return this.map(s,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const d=s[c];if(d){const f=u.map(p=>p.presence_ref),h=d.map(p=>p.presence_ref),b=u.filter(p=>h.indexOf(p.presence_ref)<0),g=d.filter(p=>f.indexOf(p.presence_ref)<0);b.length>0&&(o[c]=b),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},n,a)}static syncDiff(e,t,n,a){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[o].unshift(...f)}n(o,u,l)}),this.map(i,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,a(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gs;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Gs||(Gs={}));var Js;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Js||(Js={}));var Et;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Et||(Et={}));class ns{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ua(this,ot.join,this.params,this.timeout),this.rejoinTimer=new lo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Gr(this),this.broadcastEndpointURL=uo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Et.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Et.CLOSED));const l={},c={broadcast:s,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Et.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,b=[];for(let g=0;g<h;g++){const p=f[g],{filter:{event:y,schema:$,table:S,filter:E}}=p,m=u&&u[g];if(m&&m.event===y&&m.schema===$&&m.table===S&&m.filter===E)b.push(Object.assign(Object.assign({},p),{id:m.id}));else{this.unsubscribe(),e==null||e(Et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Et.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new ua(this,ot.leave,{},e);a.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(s),i}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ua(this,e,t,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,s;const i=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=ot;if(n&&[o,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,t,n);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var b,g,p;return((b=h.filter)===null||b===void 0?void 0:b.event)==="*"||((p=(g=h.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===i}).map(h=>h.callback(f,n)):(s=this.bindings[i])===null||s===void 0||s.filter(h=>{var b,g,p,y,$,S;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const E=h.id,m=(b=h.filter)===null||b===void 0?void 0:b.event;return E&&((g=t.ids)===null||g===void 0?void 0:g.includes(E))&&(m==="*"||(m==null?void 0:m.toLocaleLowerCase())===((p=t.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const E=($=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return E==="*"||E===((S=t==null?void 0:t.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:g,table:p,commit_timestamp:y,type:$,errors:S}=b;f=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:y,eventType:$,new:{},old:{},errors:S}),this._getPayloadRecords(b))}h.callback(f,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),s={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ns.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ot.close,{},e)}_onError(e){this._on(ot.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Vs(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Vs(e.columns,e.old_record)),t}}const pu=()=>{},mu=typeof WebSocket<"u",bu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yu{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=iu,this.params={},this.timeout=oo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pu,this.conn=null,this.sendBuffer=[],this.serializer=new cu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ar(async()=>{const{default:l}=await Promise.resolve().then(()=>Nr);return{default:l}},void 0).then(({default:l})=>l(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${e}/${Ca.websocket}`,this.httpEndpoint=uo(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,i)=>i(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(mu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new _u(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ar(async()=>{const{default:e}=await import("./browser-B18KKtHd.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ou}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return Zt.Connecting;case wr.open:return Zt.Open;case wr.closing:return Zt.Closing;default:return Zt.Closed}}isConnected(){return this.connectionState()===Zt.Open}channel(e,t={config:{}}){const n=new ns(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:a,ref:s}=e,i=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(a=>{t&&a.updateJoinPayload({access_token:t}),a.joinedOnce&&a._isJoined()&&a._push(ot.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(lu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:a,payload:s,ref:i}=t;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,s),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,s,i)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ot.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([bu],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class _u{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class as extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function De(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class wu extends as{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ia extends as{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var xu=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const fo=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ar(async()=>{const{default:n}=await Promise.resolve().then(()=>Nr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},ku=()=>xu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ar(()=>Promise.resolve().then(()=>Nr),void 0)).Response:Response}),Oa=r=>{if(Array.isArray(r))return r.map(t=>Oa(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=Oa(n)}),e};var or=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const da=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),$u=(r,e,t)=>or(void 0,void 0,void 0,function*(){const n=yield ku();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(a=>{e(new wu(da(a),r.status||500))}).catch(a=>{e(new Ia(da(a),a))}):e(new Ia(da(r),r))}),Su=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),t))};function gn(r,e,t,n,a,s){return or(this,void 0,void 0,function*(){return new Promise((i,o)=>{r(t,Su(e,n,a,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>$u(l,o,n))})})}function Dn(r,e,t,n){return or(this,void 0,void 0,function*(){return gn(r,"GET",e,t,n)})}function Ft(r,e,t,n,a){return or(this,void 0,void 0,function*(){return gn(r,"POST",e,n,a,t)})}function Eu(r,e,t,n,a){return or(this,void 0,void 0,function*(){return gn(r,"PUT",e,n,a,t)})}function Tu(r,e,t,n){return or(this,void 0,void 0,function*(){return gn(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function ho(r,e,t,n,a){return or(this,void 0,void 0,function*(){return gn(r,"DELETE",e,n,a,t)})}var Je=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Pu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ks={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cu{constructor(e,t={},n,a){this.url=e,this.headers=t,this.bucketId=n,this.fetch=fo(a)}uploadOrUpdate(e,t,n,a){return Je(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},Ks),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(De(s))return{data:null,error:s};throw s}})}upload(e,t,n){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return Je(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Ks.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(De(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=yield Ft(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new as("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}update(e,t,n){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Je(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}copy(e,t,n){return Je(this,void 0,void 0,function*(){try{return{data:{path:(yield Ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return Je(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield Ft(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return Je(this,void 0,void 0,function*(){try{const a=yield Ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}download(e,t){return Je(this,void 0,void 0,function*(){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Dn(this.fetch,`${this.url}/${a}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}})}info(e){return Je(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Dn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Oa(n),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}exists(e){return Je(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Tu(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(De(n)&&n instanceof Ia){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&a.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return Je(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}list(e,t,n){return Je(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Pu),t),{prefix:e||""});return{data:yield Ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Au="2.7.1",Iu={"X-Client-Info":`storage-js/${Au}`};var gr=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Ou{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Iu),t),this.fetch=fo(n)}listBuckets(){return gr(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(De(e))return{data:null,error:e};throw e}})}getBucket(e){return gr(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return gr(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return gr(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}emptyBucket(e){return gr(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}deleteBucket(e){return gr(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}}class ju extends Ou{constructor(e,t={},n){super(e,t,n)}from(e){return new Cu(this.url,this.headers,e,this.fetch)}}const Lu="2.49.8";let Hr="";typeof Deno<"u"?Hr="deno":typeof document<"u"?Hr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hr="react-native":Hr="node";const Ru={"X-Client-Info":`supabase-js-${Hr}/${Lu}`},Nu={headers:Ru},Mu={schema:"public"},Du={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bu={};var Uu=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Fu=r=>{let e;return r?e=r:typeof fetch>"u"?e=to:e=fetch,(...t)=>e(...t)},zu=()=>typeof Headers>"u"?ro:Headers,qu=(r,e,t)=>{const n=Fu(t),a=zu();return(s,i)=>Uu(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let c=new a(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},i),{headers:c}))})};var Hu=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};function Vu(r){return r.endsWith("/")?r:r+"/"}function Wu(r,e){var t,n;const{db:a,auth:s,realtime:i,global:o}=r,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(t=d==null?void 0:d.headers)!==null&&t!==void 0?t:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Hu(this,void 0,void 0,function*(){return""})};return r.accessToken?f.accessToken=r.accessToken:delete f.accessToken,f}const vo="2.69.1",yr=30*1e3,ja=3,fa=ja*yr,Gu="http://localhost:9999",Ju="supabase.auth.token",Ku={"X-Client-Info":`gotrue-js/${vo}`},La="X-Supabase-Api-Version",go={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qu=6e5;class ss extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function de(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Xu extends ss{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Zu(r){return de(r)&&r.name==="AuthApiError"}class po extends ss{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Vt extends ss{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class Mt extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ed(r){return de(r)&&r.name==="AuthSessionMissingError"}class ha extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wn extends Vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xn extends Vt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function td(r){return de(r)&&r.name==="AuthImplicitGrantRedirectError"}class Ys extends Vt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ra extends Vt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function va(r){return de(r)&&r.name==="AuthRetryableFetchError"}class Qs extends Vt{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Jr extends Vt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zs=` 	
\r=`.split(""),rd=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Zs.length;e+=1)r[Zs[e].charCodeAt(0)]=-2;for(let e=0;e<Xs.length;e+=1)r[Xs[e].charCodeAt(0)]=e;return r})();function mo(r,e,t){const n=rd[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function ei(r){const e=[],t=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{sd(i,n,t)};for(let i=0;i<r.length;i+=1)mo(r.charCodeAt(i),a,s);return e.join("")}function nd(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function ad(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}nd(n,e)}}function sd(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function id(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)mo(r.charCodeAt(a),t,n);return new Uint8Array(e)}function od(r){const e=[];return ad(r,t=>e.push(t)),new Uint8Array(e)}function ld(r){return Math.round(Date.now()/1e3)+r}function cd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const gt=()=>typeof window<"u"&&typeof document<"u",Qt={tested:!1,writable:!1},Kr=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qt.tested)return Qt.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Qt.tested=!0,Qt.writable=!0}catch{Qt.tested=!0,Qt.writable=!1}return Qt.writable};function ud(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const bo=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ar(async()=>{const{default:n}=await Promise.resolve().then(()=>Nr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},dd=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",yo=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},kn=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},$n=async(r,e)=>{await r.removeItem(e)};class Kn{constructor(){this.promise=new Kn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Kn.promiseConstructor=Promise;function ga(r){const e=r.split(".");if(e.length!==3)throw new Jr("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Yu.test(e[n]))throw new Jr("JWT not in base64url format");return{header:JSON.parse(ei(e[0])),payload:JSON.parse(ei(e[1])),signature:id(e[2]),raw:{header:e[0],payload:e[1]}}}async function fd(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function hd(r,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await r(s);if(!e(s,null,i)){n(i);return}}catch(i){if(!e(s,i)){a(i);return}}})()})}function vd(r){return("0"+r.toString(16)).substr(-2)}function gd(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let s=0;s<56;s++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,vd).join("")}async function pd(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function md(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await pd(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pr(r,e,t=!1){const n=gd();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await yo(r,`${e}-code-verifier`,a);const s=await md(n);return[s,n===s?"plain":"s256"]}const bd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yd(r){const e=r.headers.get(La);if(!e||!e.match(bd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _d(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function wd(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var xd=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const Xt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),kd=[502,503,504];async function ti(r){var e;if(!dd(r))throw new Ra(Xt(r),0);if(kd.includes(r.status))throw new Ra(Xt(r),r.status);let t;try{t=await r.json()}catch(s){throw new po(Xt(s),s)}let n;const a=yd(r);if(a&&a.getTime()>=go["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Qs(Xt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Mt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new Qs(Xt(t),r.status,t.weak_password.reasons);throw new Xu(Xt(t),r.status||500,n)}const $d=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function pe(r,e,t,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[La]||(s[La]=go["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Sd(r,e,t+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Sd(r,e,t,n,a,s){const i=$d(e,n,a,s);let o;try{o=await r(t,Object.assign({},i))}catch(l){throw console.error(l),new Ra(Xt(l),0)}if(o.ok||await ti(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await ti(l)}}function Dt(r){var e;let t=null;Cd(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=ld(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function ri(r){const e=Dt(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function qt(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Ed(r){return{data:r,error:null}}function Td(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:s}=r,i=xd(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function Pd(r){return r}function Cd(r){return r.access_token&&r.refresh_token&&r.expires_in}var Ad=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};class Id{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=bo(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:qt})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Ad(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Td,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(de(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qt})}catch(t){if(de(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Pd});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(b.split(";")[1].split("=")[1]);c[`${p}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(de(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qt})}catch(t){if(de(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:qt})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:qt})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(de(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}}}const Od={getItem:r=>Kr()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Kr()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Kr()&&globalThis.localStorage.removeItem(r)}};function ni(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function jd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mr={debug:!!(globalThis&&Kr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _o extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ld extends _o{}async function Rd(r,e,t){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ld(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(mr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}jd();const Nd={url:Gu,storageKey:Ju,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ku,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ai(r,e,t){return await t()}class tn{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tn.nextInstanceID,tn.nextInstanceID+=1,this.instanceID>0&&gt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Nd),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Id({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=bo(a.fetch),this.lock=a.lock||ai,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:gt()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Rd:this.lock=ai,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Kr()?this.storage=Od:(this.memoryStorage={},this.storage=ni(this.memoryStorage)):(this.memoryStorage={},this.storage=ni(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=ud(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),gt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),td(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return de(t)?{error:t}:{error:new po("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Dt}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,a;try{let s;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,b=null;this.flowType==="pkce"&&([h,b]=await pr(this.storage,this.storageKey)),s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:b},xform:Dt})}else if("phone"in e){const{phone:u,password:d,options:f}=e;s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Dt})}else throw new wn("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:i,options:o}=e;t=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ri})}else if("phone"in e){const{phone:s,password:i,options:o}=e;t=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ri})}else throw new wn("You must provide either an email or phone number and a password");const{data:n,error:a}=t;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ha}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await kn(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{const{data:s,error:i}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Dt});if(await $n(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ha}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(de(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:s,nonce:i}=e,o=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Dt}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ha}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,a,s,i;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await pr(this.storage,this.storageKey));const{error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new wn("You must provide either an email or phone number.")}catch(o){if(de(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let a,s;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Dt});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await pr(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:Ed})}catch(s){if(de(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Mt;const{error:a}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(de(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:i}=await pe(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:i,error:o}=await pe(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new wn("You must provide either an email or phone number and a type")}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<fa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qt}):await this._useSession(async t=>{var n,a,s;const{data:i,error:o}=t;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:qt})})}catch(t){if(de(t))return ed(t)&&(await this._removeSession(),await $n(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Mt;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await pr(this.storage,this.storageKey));const{data:c,error:u}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:qt});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Mt;const t=Date.now()/1e3;let n=t,a=!0,s=null;const{payload:i}=ga(e.access_token);if(i.exp&&(n=i.exp,a=n<=t),a){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(de(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:i,error:o}=t;if(o)throw o;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Mt;const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!gt())throw new xn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ys("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xn("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ys("No code detected.");const{data:$,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!i||!c)throw new xn("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const b=f-d;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,u);const{data:g,error:p}=await this._getUser(s);if(p)throw p;const y={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:d,expires_at:f,refresh_token:i,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await kn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:s}=t;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,e);if(o&&!(Zu(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await $n(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=cd(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:s},error:i}=t;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await pr(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(de(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,l,c,u;const{data:d,error:f}=s;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return gt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:s,error:i}=t;if(i)throw i;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(de(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await hd(async a=>(a>0&&await fd(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Dt})),(a,s)=>{const i=200*Math.pow(2,a);return s&&va(s)&&Date.now()+i-n<yr})}catch(n){if(this._debug(t,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),gt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await kn(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<fa;if(this._debug(t,`session has${a?"":" not"} expired with margin of ${fa}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),va(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Kn;const{data:s,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!s.session)throw new Mt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),de(s)){const i={session:null,error:s};return va(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await $n(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${yr}ms, refresh threshold is ${ja} ticks`),a<=ja&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _o)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await pr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;return s?{data:null,error:s}:await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(de(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:s,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(de(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(de(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;return s?{data:null,error:s}:await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(de(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ga(a.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(i=>i.kid===e);if(n||(n=this.jwks.keys.find(i=>i.kid===e),n&&this.jwks_cached_at+Qu>Date.now()))return n;const{data:a,error:s}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new Jr("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(i=>i.kid===e),!n)throw new Jr("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:h,error:b}=await this.getSession();if(b||!h.session)return{data:null,error:b};n=h.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:l}}=ga(n);if(_d(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:s,header:a,signature:i},error:null}}const c=wd(a.alg),u=await this.fetchJwk(a.kid,t),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,i,od(`${o}.${l}`)))throw new Jr("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}tn.nextInstanceID=0;const Md=tn;class Dd extends Md{constructor(e){super(e)}}var Bd=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Ud{constructor(e,t,n){var a,s,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Vu(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Mu,realtime:Bu,auth:Object.assign(Object.assign({},Du),{storageKey:c}),global:Nu},d=Wu(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=qu(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new au(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Vc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ju(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Bd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,storageKey:s,flowType:i,lock:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dd({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,flowType:i,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new yu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fd=(r,e,t)=>new Ud(r,e,t),zd="https://lbwtzoxtlssyjeututrs.supabase.co",qd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxid3R6b3h0bHNzeWpldXR1dHJzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4OTg2OTksImV4cCI6MjA3MDQ3NDY5OX0.GdbcTzNRo5dcuBSCr9_e_HWiXXBJWNm_IYkdwxfbDgI",xe=Fd(zd,qd),lr=(()=>{const r=J({user:null,loading:!1,error:null,message:null,lastAction:null,lastProvider:null});return{state:r,getUser:async()=>{r.loading=!0,r.error=null;try{const{data:{session:i},error:o}=await xe.auth.getSession();if(o)throw new Error(o.message);r.user=(i==null?void 0:i.user)||null}catch(i){r.error=i.message,r.user=null}finally{r.loading=!1}return r.user},createUser:async(i,o)=>{r.loading=!0,r.error=null,r.message=null,r.lastAction="signup",r.lastProvider="email";try{const{data:l,error:c}=await xe.auth.signUp({email:i,password:o});return c?(r.error=c.message,!1):!l.session||!l.user?(r.message="Check your email to confirm your account.",!1):(r.user=l.user,r.message="Signup successful! Redirecting...",!0)}catch(l){return r.error=l.message,!1}finally{r.loading=!1}},loginWithEmail:async(i,o)=>{r.loading=!0,r.error=null,r.message=null,r.lastAction="login",r.lastProvider="email";try{const{data:l,error:c}=await xe.auth.signInWithPassword({email:i,password:o});return c?(r.error=c.message,!1):(r.user=l.user,r.message="Login successful! Redirecting...",!0)}catch(l){return r.error=l.message,!1}finally{r.loading=!1}},loginWithGoogle:async()=>{r.loading=!0,r.error=null,r.message=null,r.lastAction="login",r.lastProvider="google";try{const{error:i}=await xe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/login`}});return i?(r.error=i.message,r.loading=!1,!1):!0}catch(i){return r.error=i.message,r.loading=!1,!1}},logout:async()=>{await xe.auth.signOut(),r.user=null}}})(),Mr=r=>({success:!0,data:r}),Lt=r=>({success:!1,error:(r==null?void 0:r.message)||"Unknown error"});async function Hd(r){const{data:e,error:t}=await xe.from("forms").insert(r).select().single();return t?Lt(t):Mr({id:e.id})}async function Vd(r){const{data:e,error:t}=await xe.from("forms").select("*").eq("user_id",r).order("created_at",{ascending:!1});return t?Lt(t):Mr({forms:e})}async function Na(r){if(!(r!=null&&r.id))return Lt("Form ID is required");const{data:e,error:t}=await xe.from("forms").update(r).eq("id",r.id).select().single();return t?Lt(t):Mr({form:e})}async function Wd(r){var n;const{data:e,error:t}=await xe.from("forms").delete().eq("id",r).select();return t?Lt(t):Mr({id:(n=e[0])==null?void 0:n.id})}async function Gd(r){const{data:e,error:t}=await xe.from("forms").select("*").eq("id",r).single();if(t)return Lt(t);const{id:n,created_at:a,...s}=e,{data:i,error:o}=await xe.from("forms").insert([{...s,created_at:new Date}]).select().single();return o?Lt(o):Mr({form:i})}async function is(r){if(!r)return Lt("Form ID is required");const{data:e,error:t}=await xe.from("forms").select("*").eq("id",r).single();return t?Lt(t):Mr({form:e})}const Yn=r=>({success:!0,data:r}),Qn=r=>({success:!1,error:(r==null?void 0:r.message)||"Unknown error"});async function Jd(r,e){const{data:t,error:n}=await xe.from("responses").insert({form_id:r,meta:e}).select();return n?Qn(n):Yn({responseIds:t.map(a=>a.id)})}async function Kd(r){const{data:e,error:t}=await xe.from("responses").select("id, meta, created_at").eq("form_id",r).order("created_at",{ascending:!1});return t?Qn(t):Yn({responses:e})}async function Yd(r){const{count:e,error:t}=await xe.from("responses").select("*",{count:"exact",head:!0}).eq("form_id",r);return t?Qn(t):Yn({count:e})}async function Qd(r){const{error:e}=await xe.from("responses").delete().eq("id",r);return e?Qn(e):Yn({deletedId:r})}const Xn=r=>({success:!0,data:r}),Ar=r=>({success:!1,error:(r==null?void 0:r.message)||"Unknown error"});async function Xd(r){var n;const{data:e,error:t}=await xe.from("blocks").delete().eq("id",r).select();return t?Ar(t):Xn({id:(n=e[0])==null?void 0:n.id})}async function Ma(r,e){const{...t}=e,{count:n,error:a}=await xe.from("blocks").select("*",{count:"exact",head:!0}).eq("form_id",r);if(a)return Ar(a);const s=n??0,{data:i,error:o}=await xe.from("blocks").insert({form_id:r,position:s,meta:t}).select().single();return o?Ar(o):Xn({blockId:i.id})}async function wo(r){const{data:e,error:t}=await xe.from("blocks").select("*").eq("form_id",r).order("position",{ascending:!0});return t?Ar(t):Xn({blocks:e})}async function si(r){const{id:e,meta:t,position:n}=r;if(!e)return Ar("Missing block ID");const{data:a,error:s}=await xe.from("blocks").update({meta:t,position:n}).eq("id",e).select().single();return s?Ar(s):Xn({block:a})}const Le=["bg-red-100","bg-orange-100","bg-yellow-100","bg-green-100","bg-blue-100","bg-indigo-100","bg-purple-100","bg-pink-100","bg-fuchsia-100","bg-rose-100","bg-teal-100","bg-emerald-100","bg-cyan-100","bg-lime-100","bg-amber-100","bg-sky-100","bg-violet-100","bg-rose-200","bg-pink-200","bg-fuchsia-200","bg-violet-200","bg-indigo-200","bg-orange-200","bg-yellow-200","bg-green-200"];let Yr=[{blockTypeId:1,label:"Welcome",title:"Hello There 😀",description:"Mind giving this form a quick fill?",embed:"",buttonText:"Let´s Start",component:"Welcome",textAlign:"center",coverImageProps:{coverImage:"",layout:""},bgColor:Le[0]},{blockTypeId:2,label:"Short Text Block",question:"Your question here...",description:"",component:"ShortText",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:Le[1]},{blockTypeId:3,label:"Long Text Block",question:"Your question here...",description:"",component:"LongText",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here...",maxCharacters:"",size:"Medium"},textAlign:"left",coverImageProps:{coverImage:"",layout:""},bgColor:Le[2]},{blockTypeId:4,label:"Single Select Option",question:"Which do you prefer?",description:"",component:"Select",buttonText:"Next",validation:{required:!1},props:{choices:[],multiple:!1},coverImageProps:{coverImage:"",layout:""},bgColor:Le[3]},{blockTypeId:5,label:"Multi Select Option",question:"Please choose at least one option",description:"",component:"Select",buttonText:"Next",validation:{required:!1},props:{choices:["Lions","Tigers","Bears","Fish"],multiple:!0},coverImageProps:{coverImage:"",layout:""},bgColor:Le[4]},{blockTypeId:6,label:"Dropdown",question:"Please choose ",description:"",component:"DropdownBlock",buttonText:"Next",validation:{required:!1},props:{choices:["One","Two","Three"]},coverImageProps:{coverImage:"",layout:""},bgColor:Le[5]},{blockTypeId:7,label:"StarRating",question:"How would you rate your experience?",description:"",component:"StarRating",buttonText:"Next",validation:{required:!1},props:{maxRating:"5"},coverImageProps:{coverImage:"",layout:""},bgColor:Le[6]},{blockTypeId:8,label:"DatePicker",question:"Please select a date",description:"",component:"DatePicker",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[7]},{blockTypeId:9,label:"Number",question:"Please enter a number",description:"",component:"Number",buttonText:"Next",validation:{required:!1},props:{placeholder:""},coverImageProps:{coverImage:"",layout:""},bgColor:Le[8]},{blockTypeId:10,label:"OpinionScale",question:"How likely are you to recommend us?",description:"",component:"OpinionScale",buttonText:"Next",validation:{required:!1},props:{start:"1",end:"10",leftLabel:"Good",rightLabel:"Bad"},coverImageProps:{coverImage:"",layout:""},bgColor:Le[9]},{blockTypeId:11,label:"PhoneNumber",question:"Please enter a phone number",description:"",component:"PhoneNumber",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[10]},{blockTypeId:12,label:"Statement",title:"This is The Statement Block",description:"This is where you would put your statement text here",component:"Statement",buttonText:"Next",props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[11]},{blockTypeId:14,label:"Website URL",question:"Please enter a URL",description:"",component:"Website",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[13]},{blockTypeId:15,label:"Scheduler URL",question:"",description:"",component:"Scheduler",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[14]},{blockTypeId:16,label:"FileUploader",question:"",description:"",component:"FileUploader",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[15]},{blockTypeId:17,label:"Email",question:"Your your email address?",description:"",component:"Email",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:Le[16]},{blockTypeId:18,label:"Checkox",question:"Please check if....",description:"",component:"CheckboxBlock",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:Le[17]},{blockTypeId:19,label:"MoodMeter",question:"How did we make you feel?",description:"",component:"MoodMeter",buttonText:"Next",validation:{required:!1},coverImageProps:{coverImage:"",layout:""},bgColor:Le[18]},{blockTypeId:99,label:"ThankYou",title:"Thanks 😀",description:"Thanks",embed:"",component:"ThankYou",textAlign:"center",coverImageProps:{coverImage:"",layout:""},bgColor:Le[20]}];const tr="https://app.fabform.io";var Zd=C("<label><!></label>");function Ae(r,e){const t=z(e,"size",3,"Medium"),n=z(e,"forId",3,""),a=z(e,"color",3,"#000000"),s={Small:"1.25rem",Medium:"1.5rem",Large:"2rem","Extra Large":"2.5rem"},i=$e(()=>()=>`color: ${a()}; font-size: ${s[t()]??s.Medium}; font-weight: 600;`);var o=Zd(),l=x(o);Wi(l,()=>e.children??zt),G(c=>{ge(o,"for",n()),ge(o,"style",c)},[()=>v(i)()]),_(r,o)}var ef=C("<input>");function pt(r,e){let t=z(e,"value",15),n=vn(e,["$$slots","$$events","$$legacy","value","props"]);var a=ef();let s;G(()=>s=Er(a,s,{autofocus:!0,...n,class:"my-4 bg-gray-50 border  border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),Ze(a,t),_(r,a)}var tf=C("<textarea></textarea>");function Da(r,e){let t=z(e,"value",15),n=vn(e,["$$slots","$$events","$$legacy","value"]);var a=tf();let s;G(()=>s=Er(a,s,{autofocus:!0,...n,rows:"4",class:"my-2 block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),Ze(a,t),_(r,a)}/**
 * @license lucide-svelte v0.482.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const rf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var nf=tc("<svg><!><!></svg>");function ne(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]),n=te(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);fe(e,!1);let a=z(e,"name",8,void 0),s=z(e,"color",8,"currentColor"),i=z(e,"size",8,24),o=z(e,"strokeWidth",8,2),l=z(e,"absoluteStrokeWidth",8,!1),c=z(e,"iconNode",24,()=>[]);const u=(...g)=>g.filter((p,y,$)=>!!p&&$.indexOf(p)===y).join(" ");St();var d=nf();let f;var h=x(d);Ue(h,1,c,Fe,(g,p)=>{let y=()=>v(p)[0],$=()=>v(p)[1];var S=V(),E=D(S);cc(E,y,!0,(m,T)=>{let k;G(()=>k=Er(m,k,{...$()},void 0,m.namespaceURI===xi,m.nodeName.includes("-")))}),_(g,S)});var b=P(h);X(b,e,"default",{}),G((g,p)=>f=Er(d,f,{...rf,...n,width:i(),height:i(),stroke:s(),"stroke-width":g,class:p},void 0,!0),[()=>l()?Number(o())*24/Number(i()):o(),()=>u("lucide-icon","lucide",a()?`lucide-${a()}`:"",t.class)],zn),_(r,d),he()}function af(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"align-center"},()=>t,{iconNode:[["path",{d:"M17 12H7"}],["path",{d:"M19 18H5"}],["path",{d:"M21 6H3"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function sf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"align-left"},()=>t,{iconNode:[["path",{d:"M15 12H3"}],["path",{d:"M17 18H3"}],["path",{d:"M21 6H3"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function of(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"arrow-down"},()=>t,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function lf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"arrow-left"},()=>t,{iconNode:[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function cf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"arrow-up"},()=>t,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function uf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"calendar-1"},()=>t,{iconNode:[["path",{d:"M11 14h1v4"}],["path",{d:"M16 2v4"}],["path",{d:"M3 10h18"}],["path",{d:"M8 2v4"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function os(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"calendar"},()=>t,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function df(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"chart-no-axes-column"},()=>t,{iconNode:[["line",{x1:"18",x2:"18",y1:"20",y2:"10"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function ff(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"check"},()=>t,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function xo(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"chevron-down"},()=>t,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function hf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"circle-alert"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function vf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"circle-check-big"},()=>t,{iconNode:[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function gf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"circle-dot"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"1"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function pf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"clipboard"},()=>t,{iconNode:[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function ii(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"cloud-upload"},()=>t,{iconNode:[["path",{d:"M12 13v8"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"m8 17 4-4 4 4"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function mf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"copy"},()=>t,{iconNode:[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function bf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"credit-card"},()=>t,{iconNode:[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function yf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"download"},()=>t,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"7 10 12 15 17 10"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function ko(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"ellipsis-vertical"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function $o(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"external-link"},()=>t,{iconNode:[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function _f(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"file-text"},()=>t,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function wf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"gauge"},()=>t,{iconNode:[["path",{d:"m12 14 4-4"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function xf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"ghost"},()=>t,{iconNode:[["path",{d:"M9 10h.01"}],["path",{d:"M15 10h.01"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function kf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"hammer"},()=>t,{iconNode:[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9"}],["path",{d:"m18 15 4-4"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function $f(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"hash"},()=>t,{iconNode:[["line",{x1:"4",x2:"20",y1:"9",y2:"9"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Sf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"inbox"},()=>t,{iconNode:[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Ef(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"info"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Tf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"layout-dashboard"},()=>t,{iconNode:[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Zn(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"link"},()=>t,{iconNode:[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Pf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"log-in"},()=>t,{iconNode:[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}],["polyline",{points:"10 17 15 12 10 7"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Cf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"log-out"},()=>t,{iconNode:[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Af(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"mail"},()=>t,{iconNode:[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function If(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"pen-tool"},()=>t,{iconNode:[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18"}],["path",{d:"m2.3 2.3 7.286 7.286"}],["circle",{cx:"11",cy:"11",r:"2"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Of(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"phone"},()=>t,{iconNode:[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function jf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"qr-code"},()=>t,{iconNode:[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3"}],["path",{d:"M21 21v.01"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7"}],["path",{d:"M3 12h.01"}],["path",{d:"M12 3h.01"}],["path",{d:"M12 16v.01"}],["path",{d:"M16 12h1"}],["path",{d:"M21 12v.01"}],["path",{d:"M12 21v-1"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Lf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"rectangle-vertical"},()=>t,{iconNode:[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Rf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"rectangle-horizontal"},()=>t,{iconNode:[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Nf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"scroll-text"},()=>t,{iconNode:[["path",{d:"M15 12h-5"}],["path",{d:"M15 8h-5"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Mf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"share-2"},()=>t,{iconNode:[["circle",{cx:"18",cy:"5",r:"3"}],["circle",{cx:"6",cy:"12",r:"3"}],["circle",{cx:"18",cy:"19",r:"3"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Df(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"signature"},()=>t,{iconNode:[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284"}],["path",{d:"M3 21h18"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Bf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"smile"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Uf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"sparkle"},()=>t,{iconNode:[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Ff(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"square-check"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m9 12 2 2 4-4"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function oi(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"square-pen"},()=>t,{iconNode:[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function zf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"square-plus"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function So(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"star"},()=>t,{iconNode:[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function qf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"toggle-left"},()=>t,{iconNode:[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6"}],["circle",{cx:"8",cy:"12",r:"2"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function ls(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"trash-2"},()=>t,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Eo(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"trash"},()=>t,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Hf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"triangle-alert"},()=>t,{iconNode:[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Vf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"upload"},()=>t,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"17 8 12 3 7 8"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Wf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"user"},()=>t,{iconNode:[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Gf(r,e){const t=te(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"x"},()=>t,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(a,s)=>{var i=V(),o=D(i);X(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function st(r,{text:e="",position:t="top"}){const n=document.createElement("div");n.classList.add("absolute","invisible","bg-gray-700","text-white","text-xs","rounded","py-1","px-2","opacity-0","transition-opacity","duration-300","transform","whitespace-nowrap","z-50"),n.innerText=e,document.body.appendChild(n);let a=!1;const s=()=>{a||(n.style.visibility="visible",n.style.opacity="1",l(),n.classList.add("animate-tada"))},i=()=>{n.style.visibility="hidden",n.style.opacity="0",n.classList.remove("animate-tada")},o=(d,f,h)=>Math.max(f,Math.min(h,d)),l=()=>{const{top:d,left:f,width:h,height:b}=r.getBoundingClientRect(),{offsetWidth:g,offsetHeight:p}=n;let y,$;switch(t){case"top":y=f+h/2-g/2,$=d-p-5;break;case"bottom":y=f+h/2-g/2,$=d+b+5;break;case"left":y=f-g-5,$=d+b/2-p/2;break;case"right":y=f+h+5,$=d+b/2-p/2;break}const S=8,E=window.innerWidth-g-S,m=window.innerHeight-p-S;n.style.left=`${o(y,S,E)}px`,n.style.top=`${o($,S,m)}px`},c=()=>{i(),a=!0},u=()=>{i(),a=!1};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",u),r.addEventListener("click",c),{destroy(){r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",u),r.removeEventListener("click",c),document.body.removeChild(n)}}}var Jf=C('<button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button>');function li(r,e){let n=z(e,"largeIcon",3,!1)()?"w-8 h-8":"w-5 h-5";var a=Jf(),s=x(a);zf(s,{class:n}),at(a,(i,o)=>st==null?void 0:st(i,o),()=>({text:"Add Block",position:"bottom"})),Xe(()=>W("click",a,function(...i){var o;(o=e.clickHandler)==null||o.apply(this,i)})),_(r,a)}function cs(r,e){let t=z(e,"blockId",3,0);const n=[Uf,Rf,Lf,gf,ff,xo,So,os,$f,wf,Of,Nf,Df,Zn,uf,Vf,Af,qf,Ff,Bf,bf],a=n.length,s=n[Math.min(t(),a-1)];s(r,{class:"w-5 h-5 text-blue-600"})}var Kf=C("<button> </button>");function Ba(r,e){let t=vn(e,["$$slots","$$events","$$legacy","text"]);var n=Kf();let a;var s=x(n);G(()=>{a=Er(n,a,{type:"button",class:"text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-bold rounded-lg text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700",...t}),ae(s,e.text)}),_(r,n)}var Yf=C('<label class="flex items-center space-x-2 cursor-pointer select-none"><input type="checkbox" class="w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"></label>');function Ua(r,e){let t=z(e,"checked",15,!1);var n=Yf(),a=x(n);yc(a,t),_(r,n)}var Qf=C('<div class="flex items-center space-x-2"><button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button> <!></div>');function To(r,e){let t=z(e,"link",3,""),n=le(!1);async function a(){if(t())try{await navigator.clipboard.writeText(t()),j(n,!0),setTimeout(()=>j(n,!1),2e3)}catch(u){console.error("Failed to copy:",u)}}var s=Qf(),i=x(s),o=x(i);Zn(o,{class:"w-5 h-5"}),at(i,(u,d)=>st==null?void 0:st(u,d),()=>({text:"Copy form link",position:"bottom"})),Xe(()=>W("click",i,a));var l=P(i,2);{var c=u=>{Co(u,{message:"Link copied!"})};F(l,u=>{v(n)&&u(c)})}G(()=>i.disabled=!t()),_(r,s)}var Xf=C("<option> </option>"),Zf=C('<select class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white dark:bg-gray-800 dark:text-white dark:border-gray-600"></select>');function Ct(r,e){fe(e,!0);let t=z(e,"choices",19,()=>[]),n=z(e,"value",15);ut(()=>{e.choiceSelected(n())});var a=Zf();Ue(a,21,t,Fe,(s,i)=>{var o=Xf(),l={},c=x(o);G(()=>{l!==(l=v(i))&&(o.value=(o.__value=v(i))==null?"":v(i)),ae(c,v(i))}),_(s,o)}),wc(a,n),_(r,a),he()}var eh=C('<button class="w-full flex items-center gap-2 text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"><!> </button>'),th=C('<div class="absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-[9999] overflow-visible"></div>'),rh=C('<div class="relative inline-block text-left overflow-visible"><button class="w-7 h-7 flex items-center justify-center rounded-full hover:bg-gray-100 transition" aria-label="More options"><!></button> <!></div>');function Po(r,e){let t=z(e,"dropdownItems",24,()=>[]),n=Be(!1);const a=()=>{j(n,!v(n))},s={Duplicate:mf,Delete:Eo,Rename:oi,RenameLink:oi,OpenForm:$o,CopyLink:Zn,QRCode:jf};let i;function o(){i=setTimeout(()=>{j(n,!1)},200)}function l(){clearTimeout(i)}var c=rh(),u=x(c),d=x(u);ko(d,{class:"w-4 h-4 text-gray-500 hover:text-black cursor-pointer"});var f=P(u,2);{var h=b=>{var g=th();Ue(g,5,t,Fe,(p,y)=>{let $=()=>v(y).icon,S=()=>v(y).label,E=()=>v(y).onClick;var m=eh(),T=x(m);{var k=U=>{v(zn(()=>s[$()]))(U,{class:"w-4 h-4 text-gray-500"})};F(T,U=>{s[$()]&&U(k)})}var R=P(T);G(()=>ae(R,` ${S()??""}`)),W("click",m,async()=>{await E()(),j(n,!1)}),_(p,m)}),_(b,g)};F(f,b=>{v(n)&&b(h)})}W("click",u,a),W("mouseenter",c,l),W("mouseleave",c,o),_(r,c)}var nh=C('<div class="relative rounded-2xl overflow-visible border border-neutral-300 bg-gradient-to-br from-neutral-100 via-white to-neutral-200 shadow-xl transition-all duration-300 ease-in-out transform hover:-translate-y-1 hover:rotate-[-0.5deg] hover:shadow-2xl max-w-[288px] backdrop-blur-md"><div class="p-4 cursor-pointer hover:bg-white/40 transition duration-200"><h2 class="text-base font-bold text-black tracking-tight drop-shadow-sm"> </h2></div> <div class="h-[1px] bg-gradient-to-r from-transparent via-neutral-400 to-transparent animate-pulse"></div> <div class="relative flex items-center justify-between px-3 py-2 bg-white/30 text-sm text-black backdrop-blur-md rounded-b-2xl"><button class="bg-black hover:bg-neutral-800 text-white text-xs px-2 py-[2px] rounded shadow-sm transition"> </button> <div class="relative z-20"><!></div></div></div>');function ah(r,e){fe(e,!0);const t=z(e,"responseCount",3,0);var n=nh(),a=x(n),s=x(a),i=x(s),o=P(a,4),l=x(o),c=x(l),u=P(l,2),d=x(u);const f=$e(()=>[{label:"Open Form",icon:"OpenForm",onClick:e.onOpen},{label:"Copy Form Link",icon:"CopyLink",onClick:e.onCopy},{label:"Rename Form",icon:"Rename",onClick:e.onRename},{label:"Rename Link",icon:"CopyLink",onClick:e.onRenameFormLink},{label:"Duplicate",icon:"Duplicate",onClick:e.onDuplicate},{label:"Delete",icon:"Delete",onClick:e.onDelete},{label:"Create QR Code",icon:"QRCode",onClick:e.onQRCode}]);Po(d,{get dropdownItems(){return v(f)}}),G(()=>{ae(i,e.form.name),ae(c,`${t()??""} Response${(t()===1?"":"s")??""}`)}),W("click",a,nr(()=>kt("/form/build/"+e.form.id))),W("click",l,nr(()=>kt("/responses/"+e.form.id))),_(r,n),he()}var sh=C('<button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button>');function ih(r,e){let t=z(e,"url",3,"");var n=sh(),a=x(n);$o(a,{class:"w-5 h-5"}),at(n,(s,i)=>st==null?void 0:st(s,i),()=>({text:"Open form link",position:"bottom"})),Xe(()=>W("click",n,()=>t()&&window.open(t(),"_blank"))),_(r,n)}var oh=C('<div role="alert"><div class="flex items-center gap-2"><!> <span class="text-sm"> </span></div> <button class="text-white font-bold text-xl leading-none hover:opacity-75" aria-label="Close">&times;</button></div>');function Co(r,e){let t=z(e,"message",8,""),n=z(e,"type",8,"info"),a=z(e,"duration",8,4e3),s=Be(!0);const i={success:{color:"bg-green-500 text-white",Icon:vf},error:{color:"bg-red-500 text-white",Icon:hf},info:{color:"bg-blue-500 text-white",Icon:Ef}},{color:o,Icon:l}=i[n()];setTimeout(()=>{j(s,!1)},a());var c=V(),u=D(c);{var d=f=>{var h=oh();Ie(h,`fixed top-12 right-12 px-4 py-3 rounded shadow-lg flex items-center justify-between gap-4 transition-opacity duration-500 ease-in-out ${o}`);var b=x(h),g=x(b);l(g,{class:"w-5 h-5"});var p=P(g,2),y=x(p),$=P(b,2);G(()=>ae(y,t())),W("click",$,()=>j(s,!1)),_(f,h)};F(u,f=>{v(s)&&f(d)})}_(r,c)}var lh=C('<figure class="loader svelte-d62oge"><div class="dot white svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div></figure>');function ch(r){var e=lh();_(r,e)}var uh=C('<div class="group relative inline-block m-1"><button class="cursor-pointer"><!></button></div>');function dh(r,e){fe(e,!1);function t(){kt("/dashboard")}St();var n=uh(),a=x(n),s=x(a);lf(s,{class:`w-8 h-8 stroke-current fill-none 
      hover:scale-125 duration-200 hover:stroke-blue-500`,"stroke-width":"2"}),W("click",a,t),_(r,n),he()}var fh=C('<div role="main" aria-label="Page not found error message" class="relative flex items-center justify-center min-h-screen bg-gradient-to-tr from-zinc-950 via-zinc-900 to-zinc-950 text-white overflow-hidden svelte-1i8xg84"><canvas class="absolute inset-0 w-full h-full z-0 pointer-events-none svelte-1i8xg84" aria-hidden="true"></canvas> <div class="absolute inset-0 flex items-center justify-center pointer-events-none z-0 svelte-1i8xg84" aria-hidden="true"><div class="w-40 h-40 bg-purple-600 rounded-full blur-3xl opacity-30 svelte-1i8xg84"></div></div> <div class="text-center animate-fade-in-up z-10 relative svelte-1i8xg84"><!> <h1 class="text-6xl sm:text-7xl font-extrabold mt-6 mb-4 tracking-tight text-white drop-shadow-xl svelte-1i8xg84" tabindex="0">Oops!</h1> <p class="text-2xl sm:text-3xl text-zinc-400 font-medium svelte-1i8xg84" tabindex="0">Page not found <span class="text-purple-400 svelte-1i8xg84" aria-hidden="true">:(</span></p></div></div>');function hh(r,e){fe(e,!1);let t=Be(),n,a=[],s={x:null,y:null};function i(p,y){return Math.random()*(y-p)+p}function o(){a=[];for(let p=0;p<60;p++)a.push({x:Math.random()*v(t).width,y:Math.random()*v(t).height,r:i(1,3),baseR:i(1,3),dx:(Math.random()-.5)*.6,dy:(Math.random()-.5)*.6,opacity:i(.2,.6),pulseDir:Math.random()<.5?1:-1,hueShift:i(-20,20)})}function l(p){for(let $=0;$<a.length;$++)for(let S=$+1;S<a.length;S++){const E=a[$],m=a[S],T=Math.hypot(E.x-m.x,E.y-m.y);if(T<120){const k=.2*(1-T/120);p.strokeStyle=`rgba(168, 85, 247, ${k})`,p.lineWidth=1,p.beginPath(),p.moveTo(E.x,E.y),p.lineTo(m.x,m.y),p.stroke()}}}function c(p){if(s.x===null||s.y===null)return;const y=100,$=p.x-s.x,S=p.y-s.y,E=Math.hypot($,S);if(E<y&&E>0){const m=(y-E)/y*.5;p.dx+=$/E*m,p.dy+=S/E*m}}function u(p){p.clearRect(0,0,v(t).width,v(t).height),a.forEach(y=>{y.r+=.02*y.pulseDir,(y.r>y.baseR+.5||y.r<y.baseR-.5)&&(y.pulseDir*=-1),c(y),y.dx*=.98,y.dy*=.98,y.x+=y.dx,y.y+=y.dy,y.x<0&&(y.x=0,y.dx*=-1),y.x>v(t).width&&(y.x=v(t).width,y.dx*=-1),y.y<0&&(y.y=0,y.dy*=-1),y.y>v(t).height&&(y.y=v(t).height,y.dy*=-1),p.beginPath(),p.shadowColor=`hsla(${275+y.hueShift}, 80%, 70%, 0.6)`,p.shadowBlur=8,p.arc(y.x,y.y,y.r,0,Math.PI*2),p.fillStyle=`hsla(${275+y.hueShift}, 70%, 60%, ${y.opacity})`,p.fill(),p.shadowBlur=0}),l(p),n=requestAnimationFrame(()=>u(p))}function d(){kr(t,v(t).width=window.innerWidth),kr(t,v(t).height=window.innerHeight),o()}vt(()=>{const p=v(t).getContext("2d");d(),u(p);function y(){document.hidden?cancelAnimationFrame(n):u(p)}window.addEventListener("resize",d),document.addEventListener("visibilitychange",y);function $(E){s.x=E.clientX,s.y=E.clientY}function S(){s.x=null,s.y=null}return window.addEventListener("mousemove",$),window.addEventListener("mouseout",S),()=>{window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",y),window.removeEventListener("mousemove",$),window.removeEventListener("mouseout",S),cancelAnimationFrame(n)}}),St();var f=fh(),h=x(f);Gn(h,p=>j(t,p),()=>v(t));var b=P(h,4),g=x(b);xf(g,{class:"w-24 h-24 mx-auto text-purple-400 drop-shadow-xl animate-float","aria-hidden":"true",focusable:"false"}),_(r,f),he()}var pa={exports:{}},ci;function vh(){return ci||(ci=1,function(r){(function(){function e(g,p){document.addEventListener?g.addEventListener("scroll",p,!1):g.attachEvent("scroll",p)}function t(g){document.body?g():document.addEventListener?document.addEventListener("DOMContentLoaded",function p(){document.removeEventListener("DOMContentLoaded",p),g()}):document.attachEvent("onreadystatechange",function p(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",p),g())})}function n(g){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(g)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function a(g,p){g.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+p+";"}function s(g){var p=g.g.offsetWidth,y=p+100;return g.j.style.width=y+"px",g.i.scrollLeft=y,g.h.scrollLeft=g.h.scrollWidth+100,g.l!==p?(g.l=p,!0):!1}function i(g,p){function y(){var S=$;s(S)&&S.g.parentNode!==null&&p(S.l)}var $=g;e(g.h,y),e(g.i,y),s(g)}function o(g,p,y){p=p||{},y=y||window,this.family=g,this.style=p.style||"normal",this.weight=p.weight||"normal",this.stretch=p.stretch||"normal",this.context=y}var l=null,c=null,u=null,d=null;function f(g){return c===null&&(h(g)&&/Apple/.test(window.navigator.vendor)?(g=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!g&&603>parseInt(g[1],10)):c=!1),c}function h(g){return d===null&&(d=!!g.document.fonts),d}function b(g,p){var y=g.style,$=g.weight;if(u===null){var S=document.createElement("div");try{S.style.font="condensed 100px sans-serif"}catch{}u=S.style.font!==""}return[y,$,u?g.stretch:"","100px",p].join(" ")}o.prototype.load=function(g,p){var y=this,$=g||"BESbswy",S=0,E=p||3e3,m=new Date().getTime();return new Promise(function(T,k){if(h(y.context)&&!f(y.context)){var R=new Promise(function(A,O){function H(){new Date().getTime()-m>=E?O(Error(""+E+"ms timeout exceeded")):y.context.document.fonts.load(b(y,'"'+y.family+'"'),$).then(function(Z){1<=Z.length?A():setTimeout(H,25)},O)}H()}),U=new Promise(function(A,O){S=setTimeout(function(){O(Error(""+E+"ms timeout exceeded"))},E)});Promise.race([U,R]).then(function(){clearTimeout(S),T(y)},k)}else t(function(){function A(){var me;(me=se!=-1&&Y!=-1||se!=-1&&ce!=-1||Y!=-1&&ce!=-1)&&((me=se!=Y&&se!=ce&&Y!=ce)||(l===null&&(me=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!me&&(536>parseInt(me[1],10)||parseInt(me[1],10)===536&&11>=parseInt(me[2],10))),me=l&&(se==je&&Y==je&&ce==je||se==_e&&Y==_e&&ce==_e||se==Ce&&Y==Ce&&ce==Ce)),me=!me),me&&(ye.parentNode!==null&&ye.parentNode.removeChild(ye),clearTimeout(S),T(y))}function O(){if(new Date().getTime()-m>=E)ye.parentNode!==null&&ye.parentNode.removeChild(ye),k(Error(""+E+"ms timeout exceeded"));else{var me=y.context.document.hidden;(me===!0||me===void 0)&&(se=H.g.offsetWidth,Y=Z.g.offsetWidth,ce=ie.g.offsetWidth,A()),S=setTimeout(O,50)}}var H=new n($),Z=new n($),ie=new n($),se=-1,Y=-1,ce=-1,je=-1,_e=-1,Ce=-1,ye=document.createElement("div");ye.dir="ltr",a(H,b(y,"sans-serif")),a(Z,b(y,"serif")),a(ie,b(y,"monospace")),ye.appendChild(H.g),ye.appendChild(Z.g),ye.appendChild(ie.g),y.context.document.body.appendChild(ye),je=H.g.offsetWidth,_e=Z.g.offsetWidth,Ce=ie.g.offsetWidth,O(),i(H,function(me){se=me,A()}),a(H,b(y,'"'+y.family+'",sans-serif')),i(Z,function(me){Y=me,A()}),a(Z,b(y,'"'+y.family+'",serif')),i(ie,function(me){ce=me,A()}),a(ie,b(y,'"'+y.family+'",monospace'))})})},r.exports=o})()}(pa)),pa.exports}var gh=vh();const ph=eo(gh);var mh=C("<div><!></div>"),bh=C("<div><!></div>");function yh(r,e){fe(e,!0);let t=z(e,"fontName",3,"Roboto"),n=z(e,"fontScale",3,"medium"),a=z(e,"fallback",3,"sans-serif");const s={small:"1rem",medium:"1.5rem",large:"2rem"};let i=$e(()=>s[n()]||"1.5rem"),o=le(!1);function l(h){const b=h.replace(/ /g,"+");if(!document.getElementById(`gf-${b}`)){const g=document.createElement("link");g.id=`gf-${b}`,g.rel="stylesheet",g.href=`https://fonts.googleapis.com/css2?family=${b}&display=swap`,document.head.appendChild(g)}}vt(()=>{l(t()),new ph(t()).load(null,1e4).then(()=>{j(o,!0)}).catch(()=>{j(o,!1)})});var c=V(),u=D(c);{var d=h=>{var b=mh(),g=x(b);X(g,e,"default",{}),G(()=>ge(b,"style",`font-family: '${t()??""}', ${a()??""}; font-size: ${v(i)??""}; transition: opacity 0.3s;`)),_(h,b)},f=h=>{var b=bh(),g=x(b);X(g,e,"default",{}),G(()=>ge(b,"style",`font-family: ${a()??""}; font-size: ${v(i)??""}; opacity: 0.5;`)),_(h,b)};F(u,h=>{v(o)?h(d):h(f,!1)})}_(r,c),he()}const Wt=(()=>{/*!
* Copyright (c) 2021-2024 Momo Bassit.
* Licensed under the MIT License (MIT)
* https://github.com/mdbassit/Coloris
* Version: 0.24.0
* NPM: https://github.com/melloware/coloris-npm
*/return((r,e,t,n)=>{const a=e.createElement("canvas").getContext("2d"),s={r:0,g:0,b:0,h:0,s:0,v:0,a:1};let i,o,l,c,u,d,f,h,b,g,p,y,$,S,E,m,T={};const k={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:()=>n,a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},R={};let U="",A={},O=!1;function H(w){if(typeof w=="object")for(const N in w)switch(N){case"el":ce(w.el),w.wrap!==!1&&Ce(w.el);break;case"parent":i=w.parent instanceof HTMLElement?w.parent:e.querySelector(w.parent),i&&(i.appendChild(o),k.parent=w.parent,i===e.body&&(i=n));break;case"themeMode":k.themeMode=w.themeMode,w.themeMode==="auto"&&r.matchMedia&&r.matchMedia("(prefers-color-scheme: dark)").matches&&(k.themeMode="dark");case"theme":w.theme&&(k.theme=w.theme),o.className=`clr-picker clr-${k.theme} clr-${k.themeMode}`,k.inline&&_e();break;case"rtl":k.rtl=!!w.rtl,Array.from(e.getElementsByClassName("clr-field")).forEach(ee=>ee.classList.toggle("clr-rtl",k.rtl));break;case"margin":w.margin*=1,k.margin=isNaN(w.margin)?k.margin:w.margin;break;case"wrap":w.el&&w.wrap&&Ce(w.el);break;case"formatToggle":k.formatToggle=!!w.formatToggle,qe("clr-format").style.display=k.formatToggle?"block":"none",k.formatToggle&&(k.format="auto");break;case"swatches":if(Array.isArray(w.swatches)){const ee=qe("clr-swatches"),ve=e.createElement("div");ee.textContent="",w.swatches.forEach((Oe,We)=>{const ke=e.createElement("button");ke.setAttribute("type","button"),ke.setAttribute("id",`clr-swatch-${We}`),ke.setAttribute("aria-labelledby",`clr-swatch-label clr-swatch-${We}`),ke.style.color=Oe,ke.textContent=Oe,ve.appendChild(ke)}),w.swatches.length&&ee.appendChild(ve),k.swatches=w.swatches.slice()}break;case"swatchesOnly":k.swatchesOnly=!!w.swatchesOnly,o.setAttribute("data-minimal",k.swatchesOnly);break;case"alpha":k.alpha=!!w.alpha,o.setAttribute("data-alpha",k.alpha);break;case"inline":if(k.inline=!!w.inline,o.setAttribute("data-inline",k.inline),k.inline){const ee=w.defaultColor||k.defaultColor;S=B(ee),_e(),ze(ee)}break;case"clearButton":typeof w.clearButton=="object"&&(w.clearButton.label&&(k.clearLabel=w.clearButton.label,f.innerHTML=k.clearLabel),w.clearButton=w.clearButton.show),k.clearButton=!!w.clearButton,f.style.display=k.clearButton?"block":"none";break;case"clearLabel":k.clearLabel=w.clearLabel,f.innerHTML=k.clearLabel;break;case"closeButton":k.closeButton=!!w.closeButton,k.closeButton?o.insertBefore(h,u):u.appendChild(h);break;case"closeLabel":k.closeLabel=w.closeLabel,h.innerHTML=k.closeLabel;break;case"a11y":const M=w.a11y;let K=!1;if(typeof M=="object")for(const ee in M)M[ee]&&k.a11y[ee]&&(k.a11y[ee]=M[ee],K=!0);if(K){const ee=qe("clr-open-label"),ve=qe("clr-swatch-label");ee.innerHTML=k.a11y.open,ve.innerHTML=k.a11y.swatch,h.setAttribute("aria-label",k.a11y.close),f.setAttribute("aria-label",k.a11y.clear),b.setAttribute("aria-label",k.a11y.hueSlider),p.setAttribute("aria-label",k.a11y.alphaSlider),d.setAttribute("aria-label",k.a11y.input),l.setAttribute("aria-label",k.a11y.instruction)}break;default:k[N]=w[N]}}function Z(w,N){typeof w=="string"&&typeof N=="object"&&(R[w]=N,O=!0)}function ie(w){delete R[w],Object.keys(R).length===0&&(O=!1,w===U&&Y())}function se(w){if(O){const N=["el","wrap","rtl","inline","defaultColor","a11y"];for(let M in R){const K=R[M];if(w.matches(M)){U=M,A={},N.forEach(ee=>delete K[ee]);for(let ee in K)A[ee]=Array.isArray(k[ee])?k[ee].slice():k[ee];H(K);break}}}}function Y(){Object.keys(A).length>0&&(H(A),U="",A={})}function ce(w){w instanceof HTMLElement&&(w=[w]),Array.isArray(w)?w.forEach(N=>{Se(N,"click",je),Se(N,"input",me)}):(Se(e,"click",w,je),Se(e,"input",w,me))}function je(w){k.inline||(se(w.target),$=w.target,E=$.value,S=B(E),o.classList.add("clr-open"),_e(),ze(E),(k.focusInput||k.selectInput)&&(d.focus({preventScroll:!0}),d.setSelectionRange($.selectionStart,$.selectionEnd)),k.selectInput&&d.select(),(m||k.swatchesOnly)&&hs().shift().focus(),$.dispatchEvent(new Event("open",{bubbles:!0})))}function _e(){if(!o||!$&&!k.inline)return;const w=i,N=r.scrollY,M=o.offsetWidth,K=o.offsetHeight,ee={left:!1,top:!1};let ve,Oe,We,ke={x:0,y:0};if(w&&(ve=r.getComputedStyle(w),Oe=parseFloat(ve.marginTop),We=parseFloat(ve.borderTopWidth),ke=w.getBoundingClientRect(),ke.y+=We+N),!k.inline){const Ge=$.getBoundingClientRect();let Nt=Ge.x,Kt=N+Ge.y+Ge.height+k.margin;w?(Nt-=ke.x,Kt-=ke.y,Nt+M>w.clientWidth&&(Nt+=Ge.width-M,ee.left=!0),Kt+K>w.clientHeight-Oe&&K+k.margin<=Ge.top-(ke.y-N)&&(Kt-=Ge.height+K+k.margin*2,ee.top=!0),Kt+=w.scrollTop):(Nt+M>e.documentElement.clientWidth&&(Nt+=Ge.width-M,ee.left=!0),Kt+K-N>e.documentElement.clientHeight&&K+k.margin<=Ge.top&&(Kt=N+Ge.y-K-k.margin,ee.top=!0)),o.classList.toggle("clr-left",ee.left),o.classList.toggle("clr-top",ee.top),o.style.left=`${Nt}px`,o.style.top=`${Kt}px`,ke.x+=o.offsetLeft,ke.y+=o.offsetTop}T={width:l.offsetWidth,height:l.offsetHeight,x:l.offsetLeft+ke.x,y:l.offsetTop+ke.y}}function Ce(w){w instanceof HTMLElement?ye(w):Array.isArray(w)?w.forEach(ye):e.querySelectorAll(w).forEach(ye)}function ye(w){const N=w.parentNode;if(!N.classList.contains("clr-field")){const M=e.createElement("div");let K="clr-field";(k.rtl||w.classList.contains("clr-rtl"))&&(K+=" clr-rtl"),M.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',N.insertBefore(M,w),M.className=K,M.style.color=w.value,M.appendChild(w)}}function me(w){const N=w.target.parentNode;N.classList.contains("clr-field")&&(N.style.color=w.target.value)}function Re(w){if($&&!k.inline){const N=$;w&&($=n,E!==N.value&&(N.value=E,N.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(()=>{E!==N.value&&N.dispatchEvent(new Event("change",{bubbles:!0}))}),o.classList.remove("clr-open"),O&&Y(),N.dispatchEvent(new Event("close",{bubbles:!0})),k.focusInput&&N.focus({preventScroll:!0}),$=n}}function ze(w){const N=Do(w),M=Mo(N);q(M.s,M.v),Jt(N,M),b.value=M.h,o.style.color=`hsl(${M.h}, 100%, 50%)`,g.style.left=`${M.h/360*100}%`,c.style.left=`${T.width*M.s/100}px`,c.style.top=`${T.height-T.height*M.v/100}px`,p.value=M.a*100,y.style.left=`${M.a*100}%`}function B(w){const N=w.substring(0,3).toLowerCase();return N==="rgb"||N==="hsl"?N:"hex"}function I(w){w=w!==n?w:d.value,$&&($.value=w,$.dispatchEvent(new Event("input",{bubbles:!0}))),k.onChange&&k.onChange.call(r,w,$),e.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:w,currentEl:$}}))}function L(w,N){const M={h:b.value*1,s:w/T.width*100,v:100-N/T.height*100,a:p.value/100},K=Ro(M);q(M.s,M.v),Jt(K,M),I()}function q(w,N){let M=k.a11y.marker;w=w.toFixed(1)*1,N=N.toFixed(1)*1,M=M.replace("{s}",w),M=M.replace("{v}",N),c.setAttribute("aria-label",M)}function ue(w){return{pageX:w.changedTouches?w.changedTouches[0].pageX:w.pageX,pageY:w.changedTouches?w.changedTouches[0].pageY:w.pageY}}function et(w){const N=ue(w);let M=N.pageX-T.x,K=N.pageY-T.y;i&&(K+=i.scrollTop),Dr(M,K),w.preventDefault(),w.stopPropagation()}function Gt(w,N){let M=c.style.left.replace("px","")*1+w,K=c.style.top.replace("px","")*1+N;Dr(M,K)}function Dr(w,N){w=w<0?0:w>T.width?T.width:w,N=N<0?0:N>T.height?T.height:N,c.style.left=`${w}px`,c.style.top=`${N}px`,L(w,N),c.focus()}function Jt(w,N){w===void 0&&(w={}),N===void 0&&(N={});let M=k.format;for(const ve in w)s[ve]=w[ve];for(const ve in N)s[ve]=N[ve];const K=Bo(s),ee=K.substring(0,7);switch(c.style.color=ee,y.parentNode.style.color=ee,y.style.color=K,u.style.color=K,l.style.display="none",l.offsetHeight,l.style.display="",y.nextElementSibling.style.display="none",y.nextElementSibling.offsetHeight,y.nextElementSibling.style.display="",M==="mixed"?M=s.a===1?"hex":"rgb":M==="auto"&&(M=S),M){case"hex":d.value=K;break;case"rgb":d.value=Uo(s);break;case"hsl":d.value=Fo(No(s));break}e.querySelector(`.clr-format [value="${M}"]`).checked=!0}function ta(){const w=b.value*1,N=c.style.left.replace("px","")*1,M=c.style.top.replace("px","")*1;o.style.color=`hsl(${w}, 100%, 50%)`,g.style.left=`${w/360*100}%`,L(N,M)}function ra(){const w=p.value/100;y.style.left=`${w*100}%`,Jt({a:w}),I()}function Ro(w){const N=w.s/100,M=w.v/100;let K=N*M,ee=w.h/60,ve=K*(1-t.abs(ee%2-1)),Oe=M-K;K=K+Oe,ve=ve+Oe;const We=t.floor(ee)%6,ke=[K,ve,Oe,Oe,ve,K][We],Ge=[ve,K,K,ve,Oe,Oe][We],Nt=[Oe,Oe,ve,K,K,ve][We];return{r:t.round(ke*255),g:t.round(Ge*255),b:t.round(Nt*255),a:w.a}}function No(w){const N=w.v/100,M=N*(1-w.s/100/2);let K;return M>0&&M<1&&(K=t.round((N-M)/t.min(M,1-M)*100)),{h:w.h,s:K||0,l:t.round(M*100),a:w.a}}function Mo(w){const N=w.r/255,M=w.g/255,K=w.b/255,ee=t.max(N,M,K),ve=t.min(N,M,K),Oe=ee-ve,We=ee;let ke=0,Ge=0;return Oe&&(ee===N&&(ke=(M-K)/Oe),ee===M&&(ke=2+(K-N)/Oe),ee===K&&(ke=4+(N-M)/Oe),ee&&(Ge=Oe/ee)),ke=t.floor(ke*60),{h:ke<0?ke+360:ke,s:t.round(Ge*100),v:t.round(We*100),a:w.a}}function Do(w){const N=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i;let M,K;return a.fillStyle="#000",a.fillStyle=w,M=N.exec(a.fillStyle),M?K={r:M[3]*1,g:M[4]*1,b:M[5]*1,a:M[6]*1}:(M=a.fillStyle.replace("#","").match(/.{2}/g).map(ee=>parseInt(ee,16)),K={r:M[0],g:M[1],b:M[2],a:1}),K}function Bo(w){let N=w.r.toString(16),M=w.g.toString(16),K=w.b.toString(16),ee="";if(w.r<16&&(N="0"+N),w.g<16&&(M="0"+M),w.b<16&&(K="0"+K),k.alpha&&(w.a<1||k.forceAlpha)){const ve=w.a*255|0;ee=ve.toString(16),ve<16&&(ee="0"+ee)}return"#"+N+M+K+ee}function Uo(w){return!k.alpha||w.a===1&&!k.forceAlpha?`rgb(${w.r}, ${w.g}, ${w.b})`:`rgba(${w.r}, ${w.g}, ${w.b}, ${w.a})`}function Fo(w){return!k.alpha||w.a===1&&!k.forceAlpha?`hsl(${w.h}, ${w.s}%, ${w.l}%)`:`hsla(${w.h}, ${w.s}%, ${w.l}%, ${w.a})`}function zo(){e.getElementById("clr-picker")||(i=n,o=e.createElement("div"),o.setAttribute("id","clr-picker"),o.className="clr-picker",o.innerHTML=`<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="${k.a11y.input}"><div id="clr-color-area" class="clr-gradient" role="application" aria-label="${k.a11y.instruction}"><div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue"><input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="${k.a11y.hueSlider}"><div id="clr-hue-marker"></div></div><div class="clr-alpha"><input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="${k.a11y.alphaSlider}"><div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented"><legend>${k.a11y.format}</legend><input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div><button type="button" id="clr-clear" class="clr-clear" aria-label="${k.a11y.clear}">${k.clearLabel}</button><div id="clr-color-preview" class="clr-preview"><button type="button" id="clr-close" class="clr-close" aria-label="${k.a11y.close}">${k.closeLabel}</button></div><span id="clr-open-label" hidden>${k.a11y.open}</span><span id="clr-swatch-label" hidden>${k.a11y.swatch}</span>`,e.body.appendChild(o),l=qe("clr-color-area"),c=qe("clr-color-marker"),f=qe("clr-clear"),h=qe("clr-close"),u=qe("clr-color-preview"),d=qe("clr-color-value"),b=qe("clr-hue-slider"),g=qe("clr-hue-marker"),p=qe("clr-alpha-slider"),y=qe("clr-alpha-marker"),ce(k.el),Ce(k.el),Se(o,"mousedown",w=>{o.classList.remove("clr-keyboard-nav"),w.stopPropagation()}),Se(l,"mousedown",w=>{Se(e,"mousemove",et)}),Se(l,"contextmenu",w=>{w.preventDefault()}),Se(l,"touchstart",w=>{e.addEventListener("touchmove",et,{passive:!1})}),Se(c,"mousedown",w=>{Se(e,"mousemove",et)}),Se(c,"touchstart",w=>{e.addEventListener("touchmove",et,{passive:!1})}),Se(d,"change",w=>{const N=d.value;if($||k.inline){const M=N===""?N:ze(N);I(M)}}),Se(f,"click",w=>{I(""),Re()}),Se(h,"click",w=>{I(),Re()}),Se(qe("clr-format"),"click",".clr-format input",w=>{S=w.target.value,Jt(),I()}),Se(o,"click",".clr-swatches button",w=>{ze(w.target.textContent),I(),k.swatchesOnly&&Re()}),Se(e,"mouseup",w=>{e.removeEventListener("mousemove",et)}),Se(e,"touchend",w=>{e.removeEventListener("touchmove",et)}),Se(e,"mousedown",w=>{m=!1,o.classList.remove("clr-keyboard-nav"),Re()}),Se(e,"keydown",w=>{const N=w.key,M=w.target,K=w.shiftKey;if(N==="Escape"?Re(!0):["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(N)&&(m=!0,o.classList.add("clr-keyboard-nav")),N==="Tab"&&M.matches(".clr-picker *")){const ve=hs(),Oe=ve.shift(),We=ve.pop();K&&M===Oe?(We.focus(),w.preventDefault()):!K&&M===We&&(Oe.focus(),w.preventDefault())}}),Se(e,"click",".clr-field button",w=>{O&&Y(),w.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),Se(c,"keydown",w=>{const N={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(N).includes(w.key)&&(Gt(...N[w.key]),w.preventDefault())}),Se(l,"click",et),Se(b,"input",ta),Se(p,"input",ra))}function hs(){return Array.from(o.querySelectorAll("input, button")).filter(M=>!!M.offsetWidth)}function qe(w){return e.getElementById(w)}function Se(w,N,M,K){const ee=Element.prototype.matches||Element.prototype.msMatchesSelector;typeof M=="string"?w.addEventListener(N,ve=>{ee.call(ve.target,M)&&K.call(ve.target,ve)}):(K=M,w.addEventListener(N,K))}function pn(w,N){N=N!==n?N:[],e.readyState!=="loading"?w(...N):e.addEventListener("DOMContentLoaded",()=>{w(...N)})}NodeList!==n&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function qo(w,N){$=N,E=$.value,se(N),S=B(w),_e(),ze(w),I(),E!==w&&$.dispatchEvent(new Event("change",{bubbles:!0}))}const na=(()=>{const w={init:zo,set:H,wrap:Ce,close:Re,setInstance:Z,setColor:qo,removeInstance:ie,updatePosition:_e,ready:pn};function N(M){pn(()=>{M&&(typeof M=="string"?ce(M):H(M))})}for(const M in w)N[M]=function(){for(var K=arguments.length,ee=new Array(K),ve=0;ve<K;ve++)ee[ve]=arguments[ve];pn(w[M],ee)};return pn(()=>{r.addEventListener("resize",M=>{N.updatePosition()}),r.addEventListener("scroll",M=>{N.updatePosition()})}),N})();return na.coloris=na,na})(window,document,Math)})(),_h=Wt.coloris,wh=Wt.init;Wt.set;Wt.wrap;Wt.close;Wt.setInstance;Wt.removeInstance;Wt.updatePosition;var xh=C('<div class="flex flex-col gap-2 w-fit m-5"><label for="coloris" class="text-sm font-medium text-gray-700 dark:text-gray-300"></label> <input id="coloris" type="text" class="border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none w-40 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"> </div>');function Fr(r,e){fe(e,!0);let t=z(e,"color",15);vt(()=>{wh(),_h({el:"#coloris",theme:"default",themeMode:"auto",alpha:!1,swatches:["#264653","#2a9d8f","#e9c46a","#f4a261","#e76f51"]})});function n(o){t(o.target.value),e.colorChanged()}var a=xh(),s=P(x(a),2),i=P(s);G(()=>ae(i,` ${t()??""}`)),Ze(s,t),W("input",s,n),_(r,a),he()}var kh=C('<div class="fixed inset-0 flex items-center justify-center z-50"><div class="bg-white p-4 rounded shadow-sm relative flex flex-col items-center"><canvas></canvas> <div class="mt-2 text-sm text-gray-700 break-words text-center max-w-[180px]"> </div> <button class="absolute top-1 right-1 text-gray-600 hover:text-gray-800 text-sm font-bold" aria-label="Close">×</button></div></div>');function $h(r,e){fe(e,!0);let t=z(e,"open",3,!1),n=z(e,"text",3,""),a=z(e,"onClose",3,()=>{}),s,i;vt(async()=>{i=(await ar(()=>import("./browser-BQTICJlt.js").then(f=>f.b),[])).default,t()&&o()});function o(){i&&s&&i.toCanvas(s,n(),{width:100}).catch(d=>console.error(d))}ut(()=>{t()&&o()});var l=V(),c=D(l);{var u=d=>{var f=kh(),h=x(f),b=x(h);Gn(b,$=>s=$,()=>s);var g=P(b,2),p=x(g),y=P(g,2);G(()=>ae(p,n())),W("click",y,function(...$){var S;(S=a())==null||S.apply(this,$)}),W("click",h,nr(function($){Jn.call(this,e,$)})),W("click",f,()=>a()()),_(d,f)};F(c,d=>{t()&&d(u)})}_(r,l),he()}var Sh=C('<a><!> <span class="text-xs mt-0.5"> </span></a>'),Eh=C('<div class="w-full fixed top-0 left-0 z-50 bg-white border-b border-gray-200 shadow-sm"><nav class="w-full flex items-center justify-between px-4 py-2"><div class="flex items-center space-x-2"><!> <p class="ml-4 font-semibold "> </p></div> <div class="flex items-center space-x-6"></div> <div class="flex items-center gap-2"><!> <!></div></nav></div>');function Th(r,e){let t=z(e,"formName",3,""),n=z(e,"activeMenuLabel",3,""),a=z(e,"currentFormId",3,"");z(e,"formId",3,"");const s=[{icon:kf,label:"Build",url:`/form/build/${a()}`},{icon:If,label:"Design",url:`/form/design/${a()}`},{icon:Zn,label:"Integrate",url:"/integrate"},{icon:Mf,label:"Share",url:`/share/${a()}`},{icon:df,label:"Responses",url:`/responses/${a()}`}];var i=Eh(),o=x(i),l=x(o),c=x(l);dh(c,{});var u=P(c,2),d=x(u),f=P(l,2);Ue(f,21,()=>s,Fe,($,S)=>{let E=()=>v(S).icon,m=()=>v(S).label,T=()=>v(S).url;var k=Sh(),R=x(k);Wn(R,E,(O,H)=>{H(O,{size:24})});var U=P(R,2),A=x(U);at(k,O=>He==null?void 0:He(O)),G(()=>{ge(k,"href",T()),Ie(k,`flex flex-col items-center transition-all duration-200 cursor-pointer
                  ${m()===n()?"text-blue-600 font-semibold scale-110":"text-gray-600 hover:text-blue-500"}`),ae(A,m())}),_($,k)});var h=P(f,2),b=x(h);const g=$e(()=>`${tr}/v/${a()}`);ih(b,{get url(){return v(g)}});var p=P(b,2);const y=$e(()=>`${tr}/v/${a()}`);To(p,{get link(){return v(y)}}),G(()=>ae(d,t())),_(r,i)}function Ot(r,e){const t=n=>{r.contains(n.target)||e==null||e()};return document.addEventListener("mousedown",t,!0),{update(n){e=n},destroy(){document.removeEventListener("mousedown",t,!0)}}}var Ph=C('<a href="/dashboard" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition"><!> Dashboard</a> <div class="px-4 py-2 text-sm text-gray-500 border-t border-gray-100"> </div> <button class="flex w-full text-left items-center gap-2 px-4 py-2 text-red-600 hover:bg-gray-100 hover:text-red-700 transition"><!> Logout</button>',1),Ch=C('<a href="/login" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition"><!> Login</a> <a href="/signup" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-purple-600 transition"><!> Signup</a>',1),Ah=C('<div class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-2 z-50"><!></div>'),Ih=C('<nav class="bg-white border-b border-gray-200 shadow-sm px-6 py-4 font-sans"><div class="flex justify-between items-center"><a href="/" class="flex items-center"><img src="/logo.png" alt="FabForm Logo" class="h-8 w-auto hover:opacity-80 transition"></a> <a target="_blank" rel="noopener noreferrer" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-2xl shadow-md flex items-center gap-2 transition duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2"><svg class="w-5 h-5 text-white/80" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Buy Pro</a> <div class="relative"><button class="focus:outline-none"><!></button> <!></div></div></nav>');function Oh(r,e){fe(e,!1);const{state:t,logout:n}=lr;let a=Be(!1);const s=async()=>{j(a,!1),await n(),kt("/login")},i=()=>j(a,!v(a));St();var o=Ih(),l=x(o),c=x(l);at(c,p=>He==null?void 0:He(p));var u=P(c,2);ge(u,"href",`${tr}/pricing/`);var d=P(u,2),f=x(d),h=x(f);ko(h,{class:"w-6 h-6 text-gray-600 hover:text-indigo-600 transition"});var b=P(f,2);{var g=p=>{var y=Ah(),$=x(y);{var S=m=>{var T=Ph(),k=D(T),R=x(k);Tf(R,{class:"w-4 h-4"}),at(k,Z=>He==null?void 0:He(Z)),Xe(()=>W("click",k,()=>j(a,!1)));var U=P(k,2),A=x(U),O=P(U,2),H=x(O);Cf(H,{class:"w-4 h-4"}),G(()=>ae(A,t.user.email)),W("click",O,s),_(m,T)},E=m=>{var T=Ch(),k=D(T),R=x(k);Pf(R,{class:"w-4 h-4"}),at(k,O=>He==null?void 0:He(O)),Xe(()=>W("click",k,()=>j(a,!1)));var U=P(k,2),A=x(U);Wf(A,{class:"w-4 h-4"}),at(U,O=>He==null?void 0:He(O)),Xe(()=>W("click",U,()=>j(a,!1))),_(m,T)};F($,m=>{t.user?m(S):m(E,!1)})}at(y,(m,T)=>Ot==null?void 0:Ot(m,T),()=>()=>j(a,!1)),_(p,y)};F(b,p=>{v(a)&&p(g)})}W("click",f,i),_(r,o),he()}function us(r,e){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>r(...n),e)}}var jh=C('<div class="flex items-center justify-center h-screen"><!></div>'),Lh=C('<main class="h-screen flex flex-col"><!> <!></main>');function ea(r,e){fe(e,!0);let t=z(e,"form",15),n=z(e,"formId",7),a=le("loading");const s=us(u=>{j(a,J(u))},500);vt(async()=>{const u=await is(n());u.success||j(a,"notfound"),t(u.data.form),s("ok")});var i=V(),o=D(i);{var l=u=>{var d=jh(),f=x(d);ch(f),_(u,d)},c=u=>{var d=V(),f=D(d);{var h=g=>{hh(g,{})},b=g=>{var p=Lh(),y=x(p);Th(y,{get activeMenuLabel(){return e.activeMenuLabel},get formName(){return t().name},get currentFormId(){return n()},set currentFormId(S){n(S)}});var $=P(y,2);Wi($,()=>e.children??zt),_(g,p)};F(f,g=>{v(a)==="notfound"?g(h):g(b,!1)},!0)}_(u,d)};F(o,u=>{v(a)==="loading"?u(l):u(c,!1)})}_(r,i),he()}var Rh=C('<p class="text-gray-500 font-semibold mt-2 mb-1">Welcome Screen</p>'),Nh=C('<p class="text-gray-500 font-semibold mt-2 mb-1">Thank You Screen</p>'),Mh=C('<p class="text-gray-500 font-semibold mt-2 mb-1">Blocks</p> <!>',1),Dh=C('<!> <div><div class="flex items-center gap-1 flex-1 text-sm text-gray-800"><div class="shrink-0"><!></div> <span class="truncate mx-2 block"> </span></div> <div class="shrink-0 pointer-events-auto relative opacity-0 group-hover:opacity-100 transition-opacity duration-300"><!></div></div>',1),Bh=C('<section class="p-2 space-y-1 min-h-[100px] pb-20 overflow-hidden"></section>');function Uh(r,e){fe(e,!0);let t=z(e,"blockNo",15,null);function n(i,o){t(o),e.changeBlock(o)}let a=!1;var s=Bh();Ue(s,23,()=>e.blocks,i=>i.id,(i,o,l)=>{var c=Dh(),u=D(c);{var d=T=>{var k=Rh();_(T,k)},f=T=>{var k=V(),R=D(k);{var U=O=>{var H=Nh();_(O,H)},A=O=>{var H=V(),Z=D(H);{var ie=se=>{var Y=Mh(),ce=P(D(Y),2);Vn(ce,()=>(a=!0,""),!1,!1),_(se,Y)};F(Z,se=>{a||se(ie)},!0)}_(O,H)};F(R,O=>{v(o).meta.blockTypeId===99?O(U):O(A,!1)},!0)}_(T,k)};F(u,T=>{v(o).meta.blockTypeId===1?T(d):T(f,!1)})}var h=P(u,2),b=x(h),g=x(b),p=x(g);const y=$e(()=>+v(o).meta.blockTypeId-1);cs(p,{get blockId(){return v(y)}});var $=P(g,2),S=x($),E=P(b,2),m=x(E);Po(m,{dropdownItems:[{label:"Duplicate",icon:"Duplicate",onClick:()=>e.duplicateBlock(v(o).id)},{label:"Delete",icon:"Delete",onClick:()=>e.deleteBlock(v(o).id)}]}),G(()=>{Ie(h,Sr(["block-draggable w-full sm:w-72 flex items-center justify-between gap-2 p-2 rounded-md transition-all h-16 group",v(o).meta.bgColor??"",t()===v(l)?"border-2 shadow-lg scale-105":"border border-gray-300 shadow-sm my-2"])),ae(S,v(o).meta.title||v(o).meta.question)}),W("click",h,()=>n(v(o).id,v(l))),_(i,c)}),_(r,s),he()}const Te=J({show:!1,title:"",message:"",cancelLabel:"Cancel",confirmLabel:"Yes",component:null,props:null,resolve:null});function Fh(r,e,t,n,a,s){return new Promise(i=>{Te.title=r,Te.message=e,Te.cancelLabel=t,Te.confirmLabel=n,Te.show=!0,Te.component=a,Te.props=s,Te.resolve=i})}function ma(r){Te.resolve&&(Te.resolve(r),Te.resolve=null,Te.component=null),Te.show=!1}const zh=r=>r;function Ao(r){const e=r-1;return e*e*e+1}function ui(r){const e=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[r,"px"]}function Io(r,{delay:e=0,duration:t=400,easing:n=zh}={}){const a=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*a}`}}function qh(r,{delay:e=0,duration:t=400,easing:n=Ao,x:a=0,y:s=0,opacity:i=0}={}){const o=getComputedStyle(r),l=+o.opacity,c=o.transform==="none"?"":o.transform,u=l*(1-i),[d,f]=ui(a),[h,b]=ui(s);return{delay:e,duration:t,easing:n,css:(g,p)=>`
			transform: ${c} translate(${(1-g)*d}${f}, ${(1-g)*h}${b});
			opacity: ${l-u*p}`}}function ds(r,{delay:e=0,duration:t=400,easing:n=Ao,start:a=0,opacity:s=0}={}){const i=getComputedStyle(r),o=+i.opacity,l=i.transform==="none"?"":i.transform,c=1-a,u=o*(1-s);return{delay:e,duration:t,easing:n,css:(d,f)=>`
			transform: ${l} scale(${1-c*f});
			opacity: ${o-u*f}
		`}}var Hh=C('<h2 class="text-xl font-semibold text-black mb-2"> </h2>'),Vh=C('<p class="text-gray-700 mb-4"> </p>'),Wh=C('<div class="fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50" tabindex="0"><div class="bg-white p-6 rounded-lg shadow-lg text-center max-w-sm w-full" role="dialog" aria-modal="true"><!> <!> <!> <div class="mt-4 flex justify-center space-x-4"><button class="px-4 py-2 bg-white text-gray-700 rounded border border-gray-300 hover:bg-gray-100"> </button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"> </button></div></div></div>');function Oo(r,e){fe(e,!1),St();var t=V(),n=D(t);{var a=s=>{var i=Wh(),o=x(i),l=x(o);{var c=S=>{var E=Hh(),m=x(E);G(()=>ae(m,Te.title)),_(S,E)};F(l,S=>{Te.title&&S(c)})}var u=P(l,2);{var d=S=>{var E=Vh(),m=x(E);G(()=>ae(m,Te.message)),_(S,E)};F(u,S=>{Te.message&&S(d)})}var f=P(u,2);{var h=S=>{var E=V(),m=D(E);Wn(m,()=>Te.component,(T,k)=>{k(T,{get props(){return Te.props}})}),_(S,E)};F(f,S=>{Te.component&&S(h)})}var b=P(f,2),g=x(b),p=x(g),y=P(g,2),$=x(y);G(()=>{ae(p,Te.cancelLabel),ae($,Te.confirmLabel)}),W("click",g,()=>ma(!1)),W("click",y,()=>ma((Te==null?void 0:Te.props)??!0)),W("click",o,nr(function(S){Jn.call(this,e,S)})),Tr(3,o,()=>ds,()=>({duration:200})),W("click",i,()=>ma(!1)),Tr(3,i,()=>Io),_(s,i)};F(n,s=>{Te.show&&s(a)})}_(r,t),he()}var Gh=C("<p>No forms yet. Create one to get started!</p>"),Jh=C('<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6"></div>'),Kh=C('<!> <div class="p-6 bg-white text-black min-h-screen"><!> <div class="flex justify-between items-center mb-6"><h1 class="text-2xl font-bold">My Forms</h1> <button class="flex items-center gap-2 px-4 py-2 bg-black text-white rounded-xl hover:bg-neutral-800 transition">New Form</button></div> <!> <!></div>',1);function Yh(r,e){fe(e,!1);const n=(lr.state.user||{}).id;let a=Be([]),s=Be({}),i=Be(!1),o=Be("");const l=()=>j(i,!1);async function c(){if(!n)return;const A=await Vd(n);j(a,A.success?A.data.forms:[]);for(let O of v(a)){const{success:H,data:Z}=await Yd(O.id);kr(s,v(s)[O.id]=H?Z.count:0)}}vt(c);async function u(){if(!n)return console.error("User ID missing");const O=await Hd({name:"Untitled Form",user_id:n,meta:{}});if(O.success){await c();const H=O.data.id;Yr[0]&&(await Ma(H,Yr[0]),await Ma(H,Yr[19]))}}async function d(A){(await Wd(A)).success&&await c()}async function f(A){(await Gd(A)).success&&await c()}async function h(A,O){(await Na({id:A,name:O})).success&&await c()}function b(A){j(o,A),j(i,!0)}St();var g=Kh(),p=D(g);Oh(p,{});var y=P(p,2),$=x(y);Oo($,{});var S=P($,2),E=P(x(S),2),m=P(S,2);{var T=A=>{var O=Gh();_(A,O)},k=A=>{var O=Jh();Ue(O,5,()=>v(a),Fe,(H,Z)=>{ah(H,{get form(){return v(Z)},get responseCount(){return v(s)[v(Z).id]},onOpen:()=>kt(tr+`/v/${v(Z).id}`),onCopy:()=>navigator.clipboard.writeText(tr+`/v/${v(Z).id}`),onRename:ie=>h(v(Z).id,ie),onDuplicate:()=>f(v(Z).id),onDelete:()=>d(v(Z).id),onQRCode:()=>b(tr+`/v/${v(Z).id}`)})}),_(A,O)};F(m,A=>{v(a).length===0?A(T):A(k,!1)})}var R=P(m,2);{var U=A=>{$h(A,{get open(){return v(i)},get text(){return v(o)},onClose:l})};F(R,A=>{v(i)&&A(U)})}W("click",E,u),_(r,g),he()}var Qh=C('<button><!> <span class="text-center font-semibold svelte-1r71yjz"> </span></button>'),Xh=C(`<div class="fixed inset-0 flex items-center justify-center z-50 bg-black/30 svelte-1r71yjz" tabindex="0" role="dialog" aria-modal="true"><div class="bg-white rounded-2xl w-[92vw] max-w-5xl p-6 shadow-2xl
             flex flex-col gap-6 items-center animate-fade-scale-in
             max-h-[90vh] overflow-hidden svelte-1r71yjz"><div class="w-full flex justify-between items-center shrink-0 svelte-1r71yjz"><h2 class="text-2xl font-semibold tracking-tight text-gray-900 select-none svelte-1r71yjz">Choose your block</h2> <button aria-label="Close" class="p-2 hover:bg-gray-200 rounded-md transition-colors duration-200 svelte-1r71yjz"><!></button></div> <div class="w-full grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-5
               overflow-y-auto pr-1 svelte-1r71yjz" style="max-height: calc(90vh - 80px);"></div></div></div>`);function Zh(r,e){fe(e,!0);const t=xl("blockPickerClick")??(()=>{});function n(l,c){t(c),e.close()}function a(l){l.key==="Escape"&&e.close()}var s=V(),i=D(s);{var o=l=>{var c=Xh(),u=x(c),d=x(u),f=P(x(d),2),h=x(f);Gf(h,{class:"w-6 h-6 text-gray-700 hover:text-gray-900"});var b=P(d,2);Ue(b,21,()=>Yr,Fe,(g,p,y)=>{var $=Qh(),S=x($);cs(S,{blockId:y,class:"mb-2 w-7 h-7"});var E=P(S,2),m=x(E);G(()=>{Ie($,`${`relative flex flex-col items-center justify-center
                    p-5 rounded-xl cursor-pointer select-none border-2
                    min-h-[115px] min-w-[115px] text-gray-900 text-sm
                    transition-all duration-300 ease-in-out
                    ${v(p).bgColor}
                    border-gray-300 hover:shadow-[0_4px_15px_rgba(0,0,0,0.1)]
                    hover:scale-105 hover:border-indigo-400`??""} svelte-1r71yjz`),ae(m,v(p).label)}),W("click",$,()=>n(v(p).label,y)),_(g,$)}),W("click",f,()=>{e.close()}),W("click",u,nr(function(g){Jn.call(this,e,g)})),W("click",c,()=>{e.close()}),W("keydown",c,a),_(l,c)};F(i,l=>{e.show&&l(o)})}_(r,s),he()}var ev=C("<div><!></div>"),tv=C('<div class="w-full h-48 md:h-64 bg-cover bg-center"></div>'),rv=C('<div class="flex flex-col items-center w-full min-h-screen"><!> <div class="flex flex-col justify-center items-center w-full p-4"><!></div></div>'),nv=C('<div class="flex flex-col md:flex-row w-full min-h-screen"><div class="w-full md:w-1/2 h-48 md:h-auto bg-cover bg-center"></div> <div class="w-full md:w-1/2 flex flex-col justify-center items-center p-4"><!></div></div>'),av=C('<div class="flex flex-col md:flex-row w-full min-h-screen"><div class="w-full md:w-1/2 flex flex-col justify-center items-center p-4"><!></div> <div class="w-full md:w-1/2 h-48 md:h-auto bg-cover bg-center"></div></div>'),sv=C("<div><!></div>");function jo(r,e){fe(e,!0);let t=z(e,"block",15),n=z(e,"uiMeta",19,()=>({})),a=z(e,"formMode",3,!1),s=z(e,"nextBlock",3,()=>{}),i=z(e,"errorMessage",3,"");const o=$e(()=>{var g,p,y;return(y=(p=(g=t())==null?void 0:g.meta)==null?void 0:p.coverImageProps)==null?void 0:y.coverImage}),l=$e(()=>{var g,p,y;return(y=(p=(g=t())==null?void 0:g.meta)==null?void 0:p.coverImageProps)==null?void 0:y.layout}),c=$e(()=>{var g;return n()&&n().backgroundImage&&n().backgroundImage.startsWith("http")?`background-image: url(${n().backgroundImage}); background-size: cover; background-repeat: no-repeat; background-position: center;`:`background-color: ${((g=n())==null?void 0:g.backgroundColor)||"transparent"}`}),u=$e(()=>{var g;return`color: ${((g=n())==null?void 0:g.questionColor)||"inherit"}`}),d=$e(()=>`${v(u)}; ${v(c)}`),f=a()?"min-h-screen w-full":"h-full w-full";var h=sv();Ie(h,`flex flex-col items-center justify-center ${f}`);var b=x(h);yh(b,{fontName:"Special Elite",fontScale:"large",children:(g,p)=>{var y=V(),$=D(y);{var S=m=>{var T=ev(),k=x(T);Sn(k,{get uiMeta(){return n()},get formMode(){return a()},get clickHandler(){return s()},get errorMessage(){return i()},get block(){return t()},set block(R){t(R)}}),G(()=>{Ie(T,`flex flex-col items-center justify-center w-full h-full ${v(o)?"bg-cover bg-center":""}`),ge(T,"style",v(o)?`background-image: url('${v(o)}')`:"")}),_(m,T)},E=m=>{var T=V(),k=D(T);{var R=A=>{var O=rv(),H=x(O);{var Z=Y=>{var ce=tv();G(()=>ge(ce,"style",`background-image: url('${v(o)}')`)),_(Y,ce)};F(H,Y=>{v(o)&&Y(Z)})}var ie=P(H,2),se=x(ie);Sn(se,{get uiMeta(){return n()},get formMode(){return a()},get clickHandler(){return s()},get errorMessage(){return i()},get block(){return t()},set block(Y){t(Y)}}),G(()=>ge(O,"style",v(c))),_(A,O)},U=A=>{var O=V(),H=D(O);{var Z=se=>{var Y=nv(),ce=x(Y),je=P(ce,2),_e=x(je);Sn(_e,{get uiMeta(){return n()},get formMode(){return a()},get clickHandler(){return s()},get errorMessage(){return i()},get block(){return t()},set block(Ce){t(Ce)}}),G(()=>ge(ce,"style",`background-image: url('${v(o)}')`)),_(se,Y)},ie=se=>{var Y=V(),ce=D(Y);{var je=_e=>{var Ce=av(),ye=x(Ce),me=x(ye);Sn(me,{get uiMeta(){return n()},get formMode(){return a()},get clickHandler(){return s()},get errorMessage(){return i()},get block(){return t()},set block(ze){t(ze)}});var Re=P(ye,2);G(()=>ge(Re,"style",`background-image: url('${v(o)}')`)),_(_e,Ce)};F(ce,_e=>{v(l)==="Split-right"&&_e(je)},!0)}_(se,Y)};F(H,se=>{v(l)==="Split-left"?se(Z):se(ie,!1)},!0)}_(A,O)};F(k,A=>{v(l)==="Stack"?A(R):A(U,!1)},!0)}_(m,T)};F($,m=>{v(l)==="Wallpaper"||!v(l)?m(S):m(E,!1)})}_(g,y)},$$slots:{default:!0}}),G(()=>ge(h,"style",v(d))),_(r,h),he()}function iv(r){}var ov=C('<span class="absolute left-0 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"><!></span>'),lv=C('<span class="absolute bottom-0 left-0 h-0.5 w-0 bg-indigo-500 transition-all duration-300 peer-focus:w-full"></span>'),cv=C('<div class="relative w-full m-0 p-0"><!> <input type="text"> <!></div>');function di(r,e){fe(e,!0);let t=z(e,"value",15),n=z(e,"formMode",3,!1),{icon:a=null}=e.props??{},s=le(J(t()??""));function i(h){j(s,J(h.target.value)),t(h.target.value)}var o=cv(),l=x(o);{var c=h=>{var b=ov(),g=x(b);Vn(g,()=>a,!1,!1),_(h,b)};F(l,h=>{a&&h(c)})}var u=P(l,2),d=P(u,2);{var f=h=>{var b=lv();_(h,b)};F(d,h=>{n()&&h(f)})}G(()=>{ge(u,"placeholder",e.props.placeholder),ge(u,"tabindex",n()?0:-1),Ie(u,`peer block w-full bg-transparent border-0 border-b-2 text-xl py-2 px-0 outline-none transition-all duration-300
      ${a?"pl-8":""}
      ${n()?"text-gray-900 border-gray-400 focus:border-indigo-500":"text-gray-400 border-gray-200 cursor-not-allowed"}
    `)}),Ze(u,()=>v(s),h=>j(s,h)),W("input",u,i),_(r,o),he()}var uv=C('<p class="text-sm text-gray-600 mt-2 ml-1 italic"></p>'),dv=C('<div class="w-full px-4 py-2"><textarea></textarea> <!></div>');function fv(r,e){fe(e,!0);let t=z(e,"value",15),n=z(e,"formMode",3,!1),{message:a=""}=e.props??{},s=le(J(t()??"")),i=$e(()=>{var h;return((h=e.props)==null?void 0:h.size)??"Medium"});const o={Small:"w-80 h-32",Medium:"w-96 h-40",Large:"w-[32rem] h-48","Extra Large":"w-[32rem] h-64"};function l(h){n()&&(j(s,J(h.target.value)),t(h.target.value))}var c=dv(),u=x(c),d=P(u,2);{var f=h=>{var b=uv();b.textContent=a,_(h,b)};F(d,h=>{a&&h(f)})}G(()=>{ge(u,"placeholder",e.props.placeholder),Ie(u,`border rounded-xl p-4 resize-none text-base shadow-sm focus:outline-none
      ${o[v(i)]}
      ${n()?"text-gray-900 border-gray-400 focus:border-indigo-500":"text-gray-400 border-gray-200 cursor-not-allowed"}
    `)}),Ze(u,()=>v(s),h=>j(s,h)),W("input",u,l),_(r,c),he()}var hv=C('<div class="flex items-center border border-gray-300 rounded-lg px-3 py-2 bg-white shadow-sm"><input type="date" class="appearance-none text-gray-700 text-lg outline-none bg-transparent flex-grow svelte-tkp40j"> <button type="button" class="ml-2 p-1 rounded-md hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500" aria-label="Open calendar"><!></button></div>');function vv(r,e){let t=z(e,"value",15),n=z(e,"formMode",3,!1),a=z(e,"props",19,()=>({})),{label:s="Pick a date"}=a(),i=le(J(t()||"")),o;function l(b){j(i,J(b.target.value)),t(v(i))}function c(){n()&&(o!=null&&o.showPicker?o.showPicker():o==null||o.focus())}var u=hv(),d=x(u);Gn(d,b=>o=b,()=>o);var f=P(d,2),h=x(f);os(h,{class:"w-5 h-5 text-indigo-600"}),G(()=>{vc(u,"cursor-not-allowed",!n()),Ji(d,v(i)),d.readOnly=!n(),ge(d,"tabindex",n()?0:-1),f.disabled=!n()}),W("input",d,l),W("click",d,nr(()=>n()&&c())),W("click",f,c),_(r,u)}var gv=C('<span class="text-gray-700"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg></span>'),pv=C('<li role="option" tabindex="0"><span> </span> <!></li>'),mv=C('<div class="absolute right-0 mt-2 w-full rounded-lg bg-white border border-gray-300 shadow-lg z-50" role="listbox" tabindex="-1"><div class="relative max-h-60 overflow-y-auto rounded-lg pr-2"><div class="absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-white to-transparent pointer-events-none z-10"></div> <div class="absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-white to-transparent pointer-events-none z-10"></div> <ul class="p-2 space-y-1 relative z-20"></ul></div></div>'),bv=C('<div class="relative inline-block w-64 font-sans"><button class="w-full flex justify-between items-center px-5 py-3 rounded-lg bg-white border border-gray-300 shadow-sm text-gray-700 font-medium hover:shadow-md focus:outline-none focus:ring-2 focus:ring-gray-400 transition-all duration-200" aria-haspopup="listbox"><span class="truncate flex-grow text-left"> </span> <!></button> <!></div>');function yv(r,e){fe(e,!0);let t=z(e,"value",15),{choices:n=[],label:a=""}=e.props,s=le(!1),i=le(J(t()||null)),o=le(null);const l=us(()=>{j(s,!1),j(o,null)},300);function c(){e.formMode&&j(s,!v(s))}function u(S,E){e.formMode&&(j(i,J(S)),t(S),j(o,J(E)),l())}var d=bv(),f=x(d),h=x(f),b=x(h),g=P(h,2);const p=$e(()=>`w-5 h-5 ml-2 transition-transform duration-300 text-gray-500 ${v(s)?"rotate-180":""}`);xo(g,{get class(){return v(p)}});var y=P(f,2);{var $=S=>{var E=mv(),m=x(E),T=P(x(m),4);Ue(T,21,()=>n,Fe,(k,R,U)=>{var A=pv(),O=x(A),H=x(O),Z=P(O,2);{var ie=se=>{var Y=gv();Tr(3,Y,()=>ds,()=>({duration:200})),_(se,Y)};F(Z,se=>{v(i)===v(R)&&se(ie)})}G(()=>{Ie(A,`${`flex justify-between items-center px-4 py-2 rounded-md cursor-pointer select-none transition-colors duration-200
                ${v(o)===U?"bg-gray-100 animate-pulse":v(i)===v(R)?"bg-gray-200 font-semibold text-gray-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`??""} svelte-3az2sw`),ge(A,"aria-selected",v(i)===v(R)),ae(H,v(R))}),W("click",A,()=>u(v(R),U)),_(k,A)}),_(S,E)};F(y,S=>{v(s)&&e.formMode&&S($)})}at(d,(S,E)=>Ot==null?void 0:Ot(S,E),()=>()=>{e.formMode&&j(s,!1)}),G(()=>{ge(f,"style",e.formMode?"":"pointer-events: none;"),ge(f,"aria-expanded",v(s)),ae(b,v(i)||a)}),W("click",f,c),_(r,d),he()}function _v(r,e,t){const n=r.target.value.replace(/\D/g,"");j(e,J(n)),t(n)}function wv(r,e){if(!e()){r.preventDefault();return}r.data&&/\D/.test(r.data)&&r.preventDefault()}var xv=C('<div><label class="text-gray-700 text-base font-medium"> </label> <input type="text" inputmode="numeric" pattern="\\d*"></div>');function kv(r,e){fe(e,!0);let t=z(e,"value",15),n=z(e,"formMode",3,!1),a=le(J(t()??""));var s=xv(),i=x(s),o=x(i),l=P(i,2);l.__input=[_v,a,t],l.__beforeinput=[wv,n],G(()=>{var c;Ie(s,`${`flex flex-col space-y-2 w-full max-w-xs wrapper ${n()?"":"disabled-cursor"}`??""} svelte-1eb19ou`),ae(o,((c=e.props)==null?void 0:c.label)??""),ge(l,"placeholder",e.props.placeholder),ge(l,"tabindex",n()?0:-1),l.readOnly=!n(),Ie(l,`${`w-full bg-transparent text-lg text-center border-b-2 focus:outline-none
      ${n()?"text-gray-800 border-gray-300 focus:border-indigo-500 cursor-text":"text-gray-400 border-gray-200 disabled"}
    `??""} svelte-1eb19ou`)}),Ze(l,()=>v(a),c=>j(a,c)),_(r,s),he()}hn(["input","beforeinput"]);var $v=(r,e,t)=>e(v(t)),Sv=C("<button> </button>"),Ev=C('<div class="w-full max-w-3xl mx-auto space-y-6 svelte-16qk2zm"><div class="flex justify-center gap-3 px-2  svelte-16qk2zm"></div> <div class="flex justify-between text-sm text-gray-500 font-medium px-2 svelte-16qk2zm"><span class="svelte-16qk2zm"> </span> <span class="svelte-16qk2zm"> </span></div></div>');function Tv(r,e){fe(e,!0);let t=z(e,"formMode",3,!1),n=z(e,"value",15),a=$e(()=>Number(e.props.start??0)),s=$e(()=>Number(e.props.end??10)),i=le(J(n())),o=le(!1);function l(p){t()&&(j(i,J(p)),n(p),j(o,!1),requestAnimationFrame(()=>j(o,!0)))}ut(()=>{n()!==v(i)&&j(i,J(n()))});var c=Ev(),u=x(c);Ue(u,21,()=>Array(v(s)-v(a)+1).entries(),Fe,(p,y)=>{let $=()=>v(y)[0];var S=Sv();const E=$e(()=>v(a)+$());S.__click=[$v,l,E];var m=x(S);G(()=>{Ie(S,`${`w-10 h-10 sm:w-12 sm:h-12 rounded font-semibold text-sm transition duration-300 transform
          flex items-center justify-center
          ${t()?"cursor-pointer":"pointer-events-none"}
          ${v(i)===v(E)?`bg-indigo-600 text-white shadow-lg ${v(o)?"pop":""}`:"bg-white text-gray-800 border border-gray-300 hover:bg-indigo-100 hover:text-indigo-700"}
        `??""} svelte-16qk2zm`),ae(m,v(E))}),_(p,S)});var d=P(u,2),f=x(d),h=x(f),b=P(f,2),g=x(b);G(()=>{ae(h,e.props.leftLabel),ae(g,e.props.rightLabel)}),_(r,c),he()}hn(["click"]);const fi=[{name:"Afghanistan",code:"+93",flag:"🇦🇫"},{name:"Albania",code:"+355",flag:"🇦🇱"},{name:"Algeria",code:"+213",flag:"🇩🇿"},{name:"Andorra",code:"+376",flag:"🇦🇩"},{name:"Angola",code:"+244",flag:"🇦🇴"},{name:"Antigua and Barbuda",code:"+1-268",flag:"🇦🇬"},{name:"Argentina",code:"+54",flag:"🇦🇷"},{name:"Armenia",code:"+374",flag:"🇦🇲"},{name:"Australia",code:"+61",flag:"🇦🇺"},{name:"Austria",code:"+43",flag:"🇦🇹"},{name:"Azerbaijan",code:"+994",flag:"🇦🇿"},{name:"Bahamas",code:"+1-242",flag:"🇧🇸"},{name:"Bahrain",code:"+973",flag:"🇧🇭"},{name:"Bangladesh",code:"+880",flag:"🇧🇩"},{name:"Barbados",code:"+1-246",flag:"🇧🇧"},{name:"Belarus",code:"+375",flag:"🇧🇾"},{name:"Belgium",code:"+32",flag:"🇧🇪"},{name:"Belize",code:"+501",flag:"🇧🇿"},{name:"Benin",code:"+229",flag:"🇧🇯"},{name:"Bhutan",code:"+975",flag:"🇧🇹"},{name:"Bolivia",code:"+591",flag:"🇧🇴"},{name:"Bosnia and Herzegovina",code:"+387",flag:"🇧🇦"},{name:"Botswana",code:"+267",flag:"🇧🇼"},{name:"Brazil",code:"+55",flag:"🇧🇷"},{name:"Brunei",code:"+673",flag:"🇧🇳"},{name:"Bulgaria",code:"+359",flag:"🇧🇬"},{name:"Burkina Faso",code:"+226",flag:"🇧🇫"},{name:"Burundi",code:"+257",flag:"🇧🇮"},{name:"Cabo Verde",code:"+238",flag:"🇨🇻"},{name:"Cambodia",code:"+855",flag:"🇰🇭"},{name:"Cameroon",code:"+237",flag:"🇨🇲"},{name:"Canada",code:"+1",flag:"🇨🇦"},{name:"Central African Republic",code:"+236",flag:"🇨🇫"},{name:"Chad",code:"+235",flag:"🇹🇩"},{name:"Chile",code:"+56",flag:"🇨🇱"},{name:"China",code:"+86",flag:"🇨🇳"},{name:"Colombia",code:"+57",flag:"🇨🇴"},{name:"Comoros",code:"+269",flag:"🇰🇲"},{name:"Congo (Congo-Brazzaville)",code:"+242",flag:"🇨🇬"},{name:"Costa Rica",code:"+506",flag:"🇨🇷"},{name:"Croatia",code:"+385",flag:"🇭🇷"},{name:"Cuba",code:"+53",flag:"🇨🇺"},{name:"Cyprus",code:"+357",flag:"🇨🇾"},{name:"Czechia (Czech Republic)",code:"+420",flag:"🇨🇿"},{name:"Democratic Republic of the Congo",code:"+243",flag:"🇨🇩"},{name:"Denmark",code:"+45",flag:"🇩🇰"},{name:"Djibouti",code:"+253",flag:"🇩🇯"},{name:"Dominica",code:"+1-767",flag:"🇩🇲"},{name:"Dominican Republic",code:"+1-809",flag:"🇩🇴"},{name:"Ecuador",code:"+593",flag:"🇪🇨"},{name:"Egypt",code:"+20",flag:"🇪🇬"},{name:"El Salvador",code:"+503",flag:"🇸🇻"},{name:"Equatorial Guinea",code:"+240",flag:"🇬🇶"},{name:"Eritrea",code:"+291",flag:"🇪🇷"},{name:"Estonia",code:"+372",flag:"🇪🇪"},{name:"Eswatini (fmr. 'Swaziland')",code:"+268",flag:"🇸🇿"},{name:"Ethiopia",code:"+251",flag:"🇪🇹"},{name:"Fiji",code:"+679",flag:"🇫🇯"},{name:"Finland",code:"+358",flag:"🇫🇮"},{name:"France",code:"+33",flag:"🇫🇷"},{name:"Gabon",code:"+241",flag:"🇬🇦"},{name:"Gambia",code:"+220",flag:"🇬🇲"},{name:"Georgia",code:"+995",flag:"🇬🇪"},{name:"Germany",code:"+49",flag:"🇩🇪"},{name:"Ghana",code:"+233",flag:"🇬🇭"},{name:"Greece",code:"+30",flag:"🇬🇷"},{name:"Grenada",code:"+1-473",flag:"🇬🇩"},{name:"Guatemala",code:"+502",flag:"🇬🇹"},{name:"Guinea",code:"+224",flag:"🇬🇳"},{name:"Guinea-Bissau",code:"+245",flag:"🇬🇼"},{name:"Guyana",code:"+592",flag:"🇬🇾"},{name:"Haiti",code:"+509",flag:"🇭🇹"},{name:"Holy See",code:"+379",flag:"🇻🇦"},{name:"Honduras",code:"+504",flag:"🇭🇳"},{name:"Hungary",code:"+36",flag:"🇭🇺"},{name:"Iceland",code:"+354",flag:"🇮🇸"},{name:"India",code:"+91",flag:"🇮🇳"},{name:"Indonesia",code:"+62",flag:"🇮🇩"},{name:"Iran",code:"+98",flag:"🇮🇷"},{name:"Iraq",code:"+964",flag:"🇮🇶"},{name:"Ireland",code:"+353",flag:"🇮🇪"},{name:"Israel",code:"+972",flag:"🇮🇱"},{name:"Italy",code:"+39",flag:"🇮🇹"},{name:"Jamaica",code:"+1-876",flag:"🇯🇲"},{name:"Japan",code:"+81",flag:"🇯🇵"},{name:"Jordan",code:"+962",flag:"🇯🇴"},{name:"Kazakhstan",code:"+7",flag:"🇰🇿"},{name:"Kenya",code:"+254",flag:"🇰🇪"},{name:"Kiribati",code:"+686",flag:"🇰🇮"},{name:"Kuwait",code:"+965",flag:"🇰🇼"},{name:"Kyrgyzstan",code:"+996",flag:"🇰🇬"},{name:"Laos",code:"+856",flag:"🇱🇦"},{name:"Latvia",code:"+371",flag:"🇱🇻"},{name:"Lebanon",code:"+961",flag:"🇱🇧"},{name:"Lesotho",code:"+266",flag:"🇱🇸"},{name:"Liberia",code:"+231",flag:"🇱🇷"},{name:"Libya",code:"+218",flag:"🇱🇾"},{name:"Liechtenstein",code:"+423",flag:"🇱🇮"},{name:"Lithuania",code:"+370",flag:"🇱🇹"},{name:"Luxembourg",code:"+352",flag:"🇱🇺"},{name:"Madagascar",code:"+261",flag:"🇲🇬"},{name:"Malawi",code:"+265",flag:"🇲🇼"},{name:"Malaysia",code:"+60",flag:"🇲🇾"},{name:"Maldives",code:"+960",flag:"🇲🇻"},{name:"Mali",code:"+223",flag:"🇲🇱"},{name:"Malta",code:"+356",flag:"🇲🇹"},{name:"Marshall Islands",code:"+692",flag:"🇲🇭"},{name:"Mauritania",code:"+222",flag:"🇲🇷"},{name:"Mauritius",code:"+230",flag:"🇲🇺"},{name:"Mexico",code:"+52",flag:"🇲🇽"},{name:"Micronesia",code:"+691",flag:"🇫🇲"},{name:"Moldova",code:"+373",flag:"🇲🇩"},{name:"Monaco",code:"+377",flag:"🇲🇨"},{name:"Mongolia",code:"+976",flag:"🇲🇳"},{name:"Montenegro",code:"+382",flag:"🇲🇪"},{name:"Morocco",code:"+212",flag:"🇲🇦"},{name:"Mozambique",code:"+258",flag:"🇲🇿"},{name:"Myanmar (Burma)",code:"+95",flag:"🇲🇲"},{name:"Namibia",code:"+264",flag:"🇳🇦"},{name:"Nauru",code:"+674",flag:"🇳🇷"},{name:"Nepal",code:"+977",flag:"🇳🇵"},{name:"Netherlands",code:"+31",flag:"🇳🇱"},{name:"New Zealand",code:"+64",flag:"🇳🇿"},{name:"Nicaragua",code:"+505",flag:"🇳🇮"},{name:"Niger",code:"+227",flag:"🇳🇪"},{name:"Nigeria",code:"+234",flag:"🇳🇬"},{name:"North Korea",code:"+850",flag:"🇰🇵"},{name:"North Macedonia",code:"+389",flag:"🇲🇰"},{name:"Norway",code:"+47",flag:"🇳🇴"},{name:"Oman",code:"+968",flag:"🇴🇲"},{name:"Pakistan",code:"+92",flag:"🇵🇰"},{name:"Palau",code:"+680",flag:"🇵🇼"},{name:"Palestine State",code:"+970",flag:"🇵🇸"},{name:"Panama",code:"+507",flag:"🇵🇦"},{name:"Papua New Guinea",code:"+675",flag:"🇵🇬"},{name:"Paraguay",code:"+595",flag:"🇵🇾"},{name:"Peru",code:"+51",flag:"🇵🇪"},{name:"Philippines",code:"+63",flag:"🇵🇭"},{name:"Poland",code:"+48",flag:"🇵🇱"},{name:"Portugal",code:"+351",flag:"🇵🇹"},{name:"Qatar",code:"+974",flag:"🇶🇦"},{name:"Romania",code:"+40",flag:"🇷🇴"},{name:"Russia",code:"+7",flag:"🇷🇺"},{name:"Rwanda",code:"+250",flag:"🇷🇼"},{name:"Saint Kitts and Nevis",code:"+1-869",flag:"🇰🇳"},{name:"Saint Lucia",code:"+1-758",flag:"🇱🇨"},{name:"Saint Vincent and the Grenadines",code:"+1-784",flag:"🇻🇨"},{name:"Samoa",code:"+685",flag:"🇼🇸"},{name:"San Marino",code:"+378",flag:"🇸🇲"},{name:"Sao Tome and Principe",code:"+239",flag:"🇸🇹"},{name:"Saudi Arabia",code:"+966",flag:"🇸🇦"},{name:"Senegal",code:"+221",flag:"🇸🇳"},{name:"Serbia",code:"+381",flag:"🇷🇸"},{name:"Seychelles",code:"+248",flag:"🇸🇨"},{name:"Sierra Leone",code:"+232",flag:"🇸🇱"},{name:"Singapore",code:"+65",flag:"🇸🇬"},{name:"Slovakia",code:"+421",flag:"🇸🇰"},{name:"Slovenia",code:"+386",flag:"🇸🇮"},{name:"Solomon Islands",code:"+677",flag:"🇸🇧"},{name:"Somalia",code:"+252",flag:"🇸🇴"},{name:"South Africa",code:"+27",flag:"🇿🇦"},{name:"South Korea",code:"+82",flag:"🇰🇷"},{name:"South Sudan",code:"+211",flag:"🇸🇸"},{name:"Spain",code:"+34",flag:"🇪🇸"},{name:"Sri Lanka",code:"+94",flag:"🇱🇰"},{name:"Sudan",code:"+249",flag:"🇸🇩"},{name:"Suriname",code:"+597",flag:"🇸🇷"},{name:"Sweden",code:"+46",flag:"🇸🇪"},{name:"Switzerland",code:"+41",flag:"🇨🇭"},{name:"Syria",code:"+963",flag:"🇸🇾"},{name:"Tajikistan",code:"+992",flag:"🇹🇯"},{name:"Tanzania",code:"+255",flag:"🇹🇿"},{name:"Thailand",code:"+66",flag:"🇹🇭"},{name:"Timor-Leste",code:"+670",flag:"🇹🇱"},{name:"Togo",code:"+228",flag:"🇹🇬"},{name:"Tonga",code:"+676",flag:"🇹🇴"},{name:"Trinidad and Tobago",code:"+1-868",flag:"🇹🇹"},{name:"Tunisia",code:"+216",flag:"🇹🇳"},{name:"Turkey",code:"+90",flag:"🇹🇷"},{name:"Turkmenistan",code:"+993",flag:"🇹🇲"},{name:"Tuvalu",code:"+688",flag:"🇹🇻"},{name:"Uganda",code:"+256",flag:"🇺🇬"},{name:"Ukraine",code:"+380",flag:"🇺🇦"},{name:"United Arab Emirates",code:"+971",flag:"🇦🇪"},{name:"United Kingdom",code:"+44",flag:"🇬🇧"},{name:"United States of America",code:"+1",flag:"🇺🇸"},{name:"Uruguay",code:"+598",flag:"🇺🇾"},{name:"Uzbekistan",code:"+998",flag:"🇺🇿"},{name:"Vanuatu",code:"+678",flag:"🇻🇺"},{name:"Venezuela",code:"+58",flag:"🇻🇪"},{name:"Vietnam",code:"+84",flag:"🇻🇳"},{name:"Yemen",code:"+967",flag:"🇾🇪"},{name:"Zambia",code:"+260",flag:"🇿🇲"},{name:"Zimbabwe",code:"+263",flag:"🇿🇼"}];var Pv=C('<li class="px-4 py-3 hover:bg-indigo-50 cursor-pointer flex items-center justify-between transition-all duration-150"><span class="flex items-center space-x-2"><span> </span> <span> </span></span> <span class="text-gray-500"> </span></li>'),Cv=C('<ul class="absolute top-full left-0 mt-2 w-[360px] bg-white/90 backdrop-blur-sm border border-gray-300 rounded-lg shadow-xl z-50 max-h-[calc(100vh-6rem)] overflow-auto text-sm transition-all duration-200"><li class="px-4 py-2 font-semibold text-gray-600 sticky top-0 bg-white/90 backdrop-blur-sm border-b">Select a country</li> <!></ul>'),Av=C('<div><label class="text-gray-700 text-base font-medium"></label> <div class="relative flex items-center space-x-2 w-full"><button type="button"><span> </span> <span> </span> <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <input type="text" inputmode="numeric" pattern="\\d*" placeholder="123456789"> <!></div></div>');function Iv(r,e){fe(e,!0);let t=z(e,"value",15),n=z(e,"formMode",3,!1),a=le(J(fi[0])),s=le(""),i=le(!1);ut(()=>{t(v(s)?`${v(a).code}${v(s)}`:"")});function o(E){if(!n()){E.preventDefault();return}j(s,J(E.target.value.replace(/\D/g,"")))}function l(){n()&&j(i,!v(i))}function c(E){n()&&(j(a,J(E)),j(i,!1))}var u=Av(),d=P(x(u),2),f=x(d),h=x(f),b=x(h),g=P(h,2),p=x(g),y=P(f,2),$=P(y,2);{var S=E=>{var m=Cv(),T=P(x(m),2);Ue(T,17,()=>fi,Fe,(k,R)=>{var U=Pv(),A=x(U),O=x(A),H=x(O),Z=P(O,2),ie=x(Z),se=P(A,2),Y=x(se);G(()=>{ae(H,v(R).flag),ae(ie,v(R).name),ae(Y,v(R).code)}),W("click",U,()=>c(v(R))),_(k,U)}),at(m,(k,R)=>Ot==null?void 0:Ot(k,R),()=>()=>j(i,!1)),_(E,m)};F($,E=>{v(i)&&E(S)})}G(()=>{Ie(u,`${`flex flex-col space-y-2 w-full max-w-xs ${n()?"":"disabled-cursor"}`??""} svelte-16jj6s3`),Ie(f,`${`flex items-center space-x-2 min-w-[100px] bg-transparent text-base
        border-b-2 border-gray-300
        ${n()?"focus:border-indigo-500 focus:outline-none":"opacity-50 cursor-not-allowed"}`??""} svelte-16jj6s3`),ge(f,"tabindex",n()?0:-1),ge(f,"aria-disabled",!n()),ae(b,v(a).flag),ae(p,v(a).code),Ie(y,`${`flex-1 bg-transparent text-lg
        border-b-2 border-gray-300
        focus:border-indigo-500 focus:outline-none
        ${n()?"text-gray-800 cursor-text":"text-gray-400 cursor-not-allowed"}
      `??""} svelte-16jj6s3`),ge(y,"tabindex",n()?0:-1),y.readOnly=!n(),ge(y,"aria-readonly",!n())}),W("click",f,l),Ze(y,()=>v(s),E=>j(s,E)),W("input",y,o),_(r,u),he()}var Ov=C("<button> </button>"),jv=C('<div class="flex flex-col"></div>');function Lv(r,e){fe(e,!0);let t=z(e,"value",15),n=z(e,"props",19,()=>({})),a=z(e,"formMode",3,!1),{choices:s=[],multiple:i=!1}=n();function o(u){var d;t(i?(d=t())!=null&&d.includes(u)?t().filter(f=>f!==u):[...t()||[],u]:u)}function l(u){var d;return i?(d=t())==null?void 0:d.includes(u):t()===u}var c=jv();Ue(c,21,()=>s,Fe,(u,d)=>{var f=Ov(),h=x(f);G(b=>{Ie(f,Sr(b)),f.disabled=!a(),ae(h,v(d))},[()=>["cursor-pointer m-2 px-6 py-4 text-lg rounded-xl transition-all duration-300 ease-in-out shadow-md transform",l(v(d))?"bg-blue-600 text-white scale-105 shadow-xl ring-2 ring-blue-300 animate-[pulse_0.6s_ease-in-out]":"bg-white text-gray-800 hover:bg-blue-100 hover:text-blue-600 hover:scale-105",!a()&&"opacity-60 cursor-not-allowed"]]),W("click",f,()=>o(v(d))),_(u,f)}),_(r,c),he()}var Rv=C('<span class="cursor-pointer transform transition-transform duration-200"><!></span>'),Nv=C('<div class="inline-block space-y-2"><p class="text-gray-700 font-semibold"></p> <div class="flex items-center space-x-2"></div></div>');function Mv(r,e){fe(e,!0);let t=z(e,"value",15),n=le(J(t()||0)),a=le(0);function s(u){e.formMode&&(j(n,J(u)),t(u))}function i(u){e.formMode&&j(a,J(u))}function o(){e.formMode&&j(a,0)}var l=Nv(),c=P(x(l),2);Ue(c,21,()=>Array(Number(e.props.maxRating)),Fe,(u,d,f)=>{var h=Rv(),b=x(h);const g=$e(()=>`w-8 h-8 ${(v(a)||v(n))>f?"text-yellow-400 fill-yellow-300":"text-gray-300"}`),p=$e(()=>(v(a)||v(n))>f?"currentColor":"none");So(b,{get class(){return v(g)},get fill(){return v(p)}}),W("mouseenter",h,()=>i(f+1)),W("click",h,()=>s(f+1)),Tr(3,h,()=>ds,()=>({duration:150})),_(u,h)}),G(()=>ge(c,"style",e.formMode?"":"pointer-events: none;")),W("mouseleave",c,o),_(r,l),he()}var Dv=C('<p class="text-xs text-gray-500 mt-1 text-left"></p>'),Bv=C('<div><div class="px-0 py-2 text-base text-gray-800 whitespace-pre-wrap text-center"> </div> <!></div>');function Uv(r,e){z(e,"formMode",3,!1);let{message:t=""}=e.props??{};var n=Bv(),a=x(n),s=x(a),i=P(a,2);{var o=l=>{var c=Dv();c.textContent=t,_(l,c)};F(i,l=>{t&&l(o)})}G(()=>ae(s,e.value||"")),_(r,n)}var Fv=C('<div class="flex flex-col items-center justify-center min-h-screen text-center px-4"><h1 class="text-3xl font-bold mb-4"> </h1> <p class="text-lg mb-8"> </p> <a target="_blank">Create your own FabForm</a></div>');function Lo(r,e){let t=z(e,"message",8,"Thank you! 🙌"),n=z(e,"subtext",8,"That's all. You may now close this window."),a=z(e,"formMode",8,!1);var s=Fv(),i=x(s),o=x(i),l=P(i,2),c=x(l),u=P(l,2);G(()=>{ae(o,t()),ae(c,n()),ge(u,"href",a()?"https://fabform.io":"#"),Ie(u,`text-sm px-6 py-3 rounded-md bg-black text-white hover:bg-gray-800 
           ${(a()?"":"opacity-50 pointer-events-none")??""}`)}),_(r,s)}var zv=C('<span class="absolute inset-y-0 left-3 flex items-center text-gray-400 pointer-events-none"><!></span>'),qv=C('<p class="text-xs text-gray-500 mt-1"></p>'),Hv=C('<div class="relative group"><!> <input type="url"></div> <!>',1);function Vv(r,e){let t=z(e,"value",15),n=z(e,"formMode",3,!1),{placeholder:a="Enter website URL...",icon:s=null,message:i=""}=e.props??{},o=le(J(t()??""));function l(p){j(o,J(p.target.value)),t(p.target.value)}var c=Hv(),u=D(c),d=x(u);{var f=p=>{var y=zv(),$=x(y);Vn($,()=>s,!1,!1),_(p,y)};F(d,p=>{s&&p(f)})}var h=P(d,2);ge(h,"placeholder",a);var b=P(u,2);{var g=p=>{var y=qv();y.textContent=i,_(p,y)};F(b,p=>{i&&p(g)})}G(()=>{ge(h,"tabindex",n()?0:-1),h.disabled=!n(),Ie(h,`w-full transition-all duration-300 ease-in-out rounded-xl text-base px-4 py-2 font-medium shadow-sm outline-none
      ${s?"pl-10":""}
      ${n()?"bg-white text-gray-900 border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"}
    `)}),Ze(h,()=>v(o),p=>j(o,p)),W("input",h,l),_(r,c)}var Wv=C('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black bg-opacity-50"></div> <div class="absolute inset-0"><button class="absolute top-4 right-4 z-10 bg-white text-black text-xl px-3 py-1 rounded shadow hover:bg-gray-100" aria-label="Close">×</button> <iframe src="https://calendly.com/irishgeoffrey" class="w-full h-full border-none" frameborder="0"></iframe></div></div>'),Gv=C('<button class="flex items-center gap-2 px-4 py-2 bg-white text-black border border-gray-300 rounded hover:bg-gray-100 shadow-sm"><!> </button> <!>',1);function Jv(r,e){fe(e,!0);let t=le(!1);function n(){j(t,!0)}function a(){j(t,!1)}const s=e.label??"Choose a slot";var i=Gv(),o=D(i),l=x(o);os(l,{class:"w-5 h-5"});var c=P(l);c.nodeValue=` ${s??""}`;var u=P(o,2);{var d=f=>{var h=Wv(),b=x(h),g=P(b,2),p=x(g);W("click",b,a),W("click",p,a),_(f,h)};F(u,f=>{v(t)&&f(d)})}W("click",o,n),_(r,i),he()}var Kv=C('<button class="mt-3 text-blue-600 hover:text-blue-800 font-medium"><!> Upload File</button>'),Yv=C('<div class="w-full bg-gray-200 rounded-full h-3 mt-4 overflow-hidden"><div class="bg-blue-500 h-3 rounded-full transition-all duration-300 ease-in-out"></div></div> <p class="text-blue-600 mt-1 font-semibold"> </p>',1),Qv=C('<img alt="preview" class="w-24 h-24 rounded-xl object-cover shadow-sm mb-2">'),Xv=C('<div class="w-24 h-24 flex items-center justify-center bg-gray-100 rounded-xl shadow-inner mb-2"><!></div>'),Zv=C('<div class="flex flex-col items-center w-32 p-3 rounded-2xl bg-white shadow-sm hover:shadow-md border border-gray-300 relative"><!> <span class="text-sm text-gray-900 font-medium truncate w-full text-center"> </span> <span class="text-xs text-gray-500"> </span> <button class="absolute top-2 right-2 text-red-600 hover:text-red-800 p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-red-400" title="Delete file"><!></button></div>'),eg=C('<div class="flex-grow overflow-auto max-w-6xl mx-auto mt-12 px-4 py-3"><div class="flex flex-wrap gap-4 justify-center"></div></div>'),tg=C('<div class="w-full flex justify-center mt-10"><div class="relative border-4 border-dashed border-gray-300 rounded-2xl p-8 flex flex-col items-center justify-center transition-all text-center bg-white shadow-xl max-w-md w-full hover:shadow-2xl"><!> <p class="text-gray-500"> </p> <!> <input type="file" class="hidden"> <!></div></div> <!>',1);function rg(r,e){fe(e,!0);let t=z(e,"formMode",3,!1),n,a=[],s="",i=0,o=!1;lr.getUser().then(async A=>{A&&(s=A.id,await l())});async function l(){if(!s)return;const{data:A,error:O}=await xe.storage.from("user-files").list(`users/${s}/`,{limit:100});O?alert("Could not list files: "+O.message):a=await Promise.all(A.map(async H=>{var ie;const{data:Z}=xe.storage.from("user-files").getPublicUrl(`users/${s}/${H.name}`);return{...H,publicUrl:Z.publicUrl,sizeKB:(ie=H.metadata)!=null&&ie.size?(H.metadata.size/1024).toFixed(1):"0.0"}}))}function c(){t()&&n.click()}async function u(A){const O=A.target.files[0];O&&await d(O)}async function d(A){if(!t()||!s)return;i=0,o=!0;const H=2+1e6/A.size,ie=setInterval(()=>{i<90&&(i=Math.min(i+H,90))},100),se=`users/${s}/${A.name}`,{error:Y}=await xe.storage.from("user-files").upload(se,A,{upsert:!0});if(clearInterval(ie),Y){o=!1,i=0,alert(`Upload failed: ${Y.message}`);return}i=100,await l(),setTimeout(()=>{o=!1,i=0},700)}async function f(A){const O=`users/${s}/${A}`,{error:H}=await xe.storage.from("user-files").remove([O]);H?alert(`Delete failed: ${H.message}`):await l()}var h=tg(),b=D(h),g=x(b),p=x(g);ii(p,{class:"w-16 h-16 text-blue-500 mb-4"});var y=P(p,2),$=x(y),S=P(y,2);{var E=A=>{var O=Kv(),H=x(O);ii(H,{class:"inline w-5 h-5 mr-1"}),W("click",O,c),_(A,O)};F(S,A=>{t()&&A(E)})}var m=P(S,2);Gn(m,A=>n=A,()=>n);var T=P(m,2);{var k=A=>{var O=Yv(),H=D(O),Z=x(H);ge(Z,"style",`width: ${i??""}%;`);var ie=P(H,2),se=x(ie);G(Y=>ae(se,`${Y??""}%`),[()=>Math.floor(i)]),_(A,O)};F(T,A=>{o&&A(k)})}var R=P(b,2);{var U=A=>{var O=eg(),H=x(O);Ue(H,21,()=>a,Fe,(Z,ie)=>{var se=Zv(),Y=x(se);{var ce=B=>{var I=Qv();G(()=>ge(I,"src",v(ie).publicUrl)),_(B,I)},je=B=>{var I=Xv(),L=x(I);_f(L,{class:"w-10 h-10 text-gray-400"}),_(B,I)};F(Y,B=>{v(ie).name.match(/\.(jpg|jpeg|png|gif)$/i)?B(ce):B(je,!1)})}var _e=P(Y,2),Ce=x(_e),ye=P(_e,2),me=x(ye),Re=P(ye,2),ze=x(Re);ls(ze,{class:"w-4 h-4"}),G(()=>{ge(se,"title",v(ie).name),ae(Ce,v(ie).name),ae(me,`${v(ie).sizeKB??""} KB`),ge(Re,"aria-label",`Delete file ${v(ie).name}`)}),W("click",Re,()=>f(v(ie).name)),_(Z,se)}),_(A,O)};F(R,A=>{t()&&A(U)})}G(()=>{ae($,t()?"Click or drag and drop to upload a file":""),m.disabled=!t()}),W("change",m,u),W("drop",g,As(A=>d(A.dataTransfer.files[0]))),W("dragover",g,As(function(A){Jn.call(this,e,A)})),_(r,h),he()}var ng=C('<div class="flex space-x-6"><button>Yes</button> <button>No</button></div>');function ag(r,e){let t=z(e,"value",15),n=z(e,"formMode",3,!1);function a(c){n()&&t(c)}function s(c){return t()===c}var i=ng(),o=x(i),l=P(o,2);G((c,u,d,f)=>{Ie(o,Sr(c)),o.disabled=!n(),ge(o,"aria-pressed",u),Ie(l,Sr(d)),l.disabled=!n(),ge(l,"aria-pressed",f)},[()=>["px-8 py-3 rounded-lg text-lg font-semibold transition shadow-md focus:outline-none focus:ring-2",s(!0)?"bg-blue-600 text-white scale-105 shadow-xl ring-2 ring-blue-300 animate-[pulse_0.6s_ease-in-out]":"bg-white text-gray-700 hover:bg-blue-100 hover:text-blue-600",!n()&&"opacity-50 cursor-not-allowed"],()=>s(!0),()=>["px-8 py-3 rounded-lg text-lg font-semibold transition shadow-md focus:outline-none focus:ring-2",s(!1)?"bg-red-600 text-white scale-105 shadow-xl ring-2 ring-red-300 animate-[pulse_0.6s_ease-in-out]":"bg-white text-gray-700 hover:bg-red-100 hover:text-red-600",!n()&&"opacity-50 cursor-not-allowed"],()=>s(!1)]),W("click",o,()=>a(!0)),W("click",l,()=>a(!1)),_(r,i)}var sg=C('<div class="w-2.5 h-2.5 bg-white rounded-sm"></div>'),ig=C('<label class="inline-flex items-center space-x-3 cursor-pointer select-none"><div><!></div> <span class="text-base text-gray-800">Check me</span></label>');function og(r,e){let t=z(e,"value",15),n=z(e,"formMode",3,!1);function a(){n()&&t(!t())}var s=ig(),i=x(s),o=x(i);{var l=c=>{var u=sg();_(c,u)};F(o,c=>{t()&&c(l)})}G(()=>Ie(i,Sr(["w-5 h-5 rounded border-2 flex items-center justify-center transition",t()?"bg-blue-600 border-blue-600":"bg-white border-gray-400",!n()&&"opacity-50 cursor-not-allowed"]))),W("click",i,a),_(r,s)}var lg=C('<button><svg width="64" height="64" viewBox="0 0 80 80" aria-hidden="true" focusable="false" class="svelte-10bhyiw"><!></svg> <span class="mt-1 text-sm text-gray-700 svelte-10bhyiw"> </span></button>'),cg=C('<div class="w-full max-w-3xl mx-auto space-y-6 svelte-10bhyiw"><div class="flex justify-between gap-3 px-2 svelte-10bhyiw"></div></div>');function ug(r,e){fe(e,!0);let t=z(e,"formMode",3,!1),n=z(e,"value",15),a=le(J(n())),s=le(!1);function i(d){t()&&(j(a,J(d)),n(d),j(s,!1),requestAnimationFrame(()=>j(s,!0)))}ut(()=>{n()!==v(a)&&j(a,J(n()))});const o=[{id:1,label:"Very Sad",color:"#ef4444"},{id:2,label:"Sad",color:"#f97316"},{id:3,label:"Neutral",color:"#9ca3af"},{id:4,label:"Happy",color:"#22c55e"}];function l(d){switch(d){case 1:return`
          <circle cx="40" cy="40" r="28" fill="#ef4444" stroke="#b91c1c" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <path d="M28 50 Q40 38 52 50" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" /> 
          <circle cx="25" cy="48" r="3" fill="#3b82f6" />
        `;case 2:return`
          <circle cx="40" cy="40" r="28" fill="#f97316" stroke="#c2410c" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <path d="M28 48 Q40 40 52 48" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" />
        `;case 3:return`
          <circle cx="40" cy="40" r="28" fill="#9ca3af" stroke="#6b7280" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <line x1="28" y1="48" x2="52" y2="48" stroke="#000" stroke-width="3" stroke-linecap="round" />
        `;case 4:return`
          <circle cx="40" cy="40" r="28" fill="#22c55e" stroke="#15803d" stroke-width="2" />
          <circle cx="25" cy="30" r="5" fill="#000" />
          <circle cx="55" cy="30" r="5" fill="#000" />
          <path d="M24 38 Q40 56 56 38" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" />
        `}}var c=cg(),u=x(c);Ue(u,21,()=>o,Fe,(d,f)=>{let h=()=>v(f).id,b=()=>v(f).label;var g=lg(),p=x(g),y=x(p);Vn(y,()=>l(h()),!0,!1);var $=P(p,2),S=x($);G(()=>{Ie(g,`${`flex-grow rounded transition duration-300 transform flex flex-col items-center justify-center p-1
          ${t()?"cursor-pointer":"pointer-events-none"}
          ${v(a)===h()?`${v(s)?"pop":""}`:"opacity-70 hover:opacity-100"}
        `??""} svelte-10bhyiw`),ge(g,"aria-label",`Mood rating: ${b()}`),ae(S,b())}),W("click",g,()=>i(h())),_(d,g)}),_(r,c),he()}function dg(r){return{Button:Ba,Label:Ae,Input:pt,TextArea:Da,Checkbox:Ua,Dropdown:Ct,Welcome:iv,ShortText:di,LongText:fv,DatePicker:vv,TextArea:Da,Button:Ba,Checkbox:Ua,Dropdown:Ct,Select:Lv,DropdownBlock:yv,StarRating:Mv,OpinionScale:Tv,Statement:Uv,Number:kv,PhoneNumber:Iv,ThankYou:Lo,Website:Vv,Scheduler:Jv,FileUploader:rg,Email:di,YesNo:ag,CheckboxBlock:og,MoodMeter:ug}[r]||null}var fg=C("<div><!></div>"),hg=C("<div><!></div>"),vg=C("<div><!></div>"),gg=C('<div class="mt-4 flex items-center gap-2 bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded"><!> <p class="text-sm"> </p></div>'),pg=C('<div><div class="w-full max-w-md"><!> <!> <!> <!> <div class="mt-4 flex"><!></div> <!></div></div>');function Sn(r,e){fe(e,!0);let t=z(e,"block",31,()=>J({})),n=z(e,"uiMeta",27,()=>J({})),a=$e(()=>{var m,T;return dg((T=(m=t())==null?void 0:m.meta)==null?void 0:T.component)});var s=pg(),i=x(s),o=x(i);{var l=m=>{var T=fg(),k=x(T);Ae(k,{get size(){return`$${n().fontSize??""}`},forId:"title",get color(){return`$${n().questionColor??""}`},children:(R,U)=>{var A=aa();G(()=>{var O;return ae(A,(O=t().meta)==null?void 0:O.title)}),_(R,A)},$$slots:{default:!0}}),_(m,T)};F(o,m=>{var T;(T=t().meta)!=null&&T.title&&m(l)})}var c=P(o,2);{var u=m=>{var T=hg(),k=x(T);Ae(k,{get size(){return`$${n().fontSize??""}`},forId:"question",get color(){return`$${n().questionColor??""}`},children:(R,U)=>{var A=aa();G(()=>{var O;return ae(A,(O=t().meta)==null?void 0:O.question)}),_(R,A)},$$slots:{default:!0}}),_(m,T)};F(c,m=>{var T;(T=t().meta)!=null&&T.question&&m(u)})}var d=P(c,2);{var f=m=>{var T=vg(),k=x(T);Ae(k,{get size(){return`$${n().fontSize??""}`},forId:"description",get color(){return`$${n().questionColor??""}`},children:(R,U)=>{var A=aa();G(()=>{var O;return ae(A,(O=t().meta)==null?void 0:O.description)}),_(R,A)},$$slots:{default:!0}}),_(m,T)};F(d,m=>{var T,k;(k=(T=t())==null?void 0:T.meta)!=null&&k.description&&m(f)})}var h=P(d,2);{var b=m=>{var T=V(),k=D(T);const R=$e(()=>{var U;return(U=t().meta)==null?void 0:U.props});Wn(k,()=>v(a),(U,A)=>{A(U,{get formMode(){return e.formMode},get props(){return v(R)},get value(){return t().value},set value(O){t(t().value=O,!0)}})}),_(m,T)};F(h,m=>{t()&&v(a)&&m(b)})}var g=P(h,2),p=x(g);const y=$e(()=>`background-color: ${n().buttonColor}; color: ${n().buttonTextColor};`),$=$e(()=>{var m,T;return((T=(m=t())==null?void 0:m.meta)==null?void 0:T.buttonText)||"Submit"});Ba(p,{get style(){return v(y)},get text(){return v($)},get onclick(){return e.clickHandler}});var S=P(g,2);{var E=m=>{var T=gg(),k=x(T);Hf(k,{size:20,class:"text-red-600 flex-shrink-0"});var R=P(k,2),U=x(R);G(()=>ae(U,e.errorMessage)),_(m,T)};F(S,m=>{e.errorMessage&&m(E)})}G(()=>Ie(s,`relative ${e.formMode?"flex items-center justify-center w-screen h-screen px-6":"max-w-lg px-4 pt-8 mx-auto mt-5"}`)),_(r,s),he()}var mg=C('<div class="space-y-3"><div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Background Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Question Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Answer Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Button Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Button Text Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Font Size</label> <!></div></div>');function bg(r,e){fe(e,!0);const t=J(e.formProp);async function n($){await Na(t)}async function a(){await Na(t),e.changeColorOnForm(t)}var s=mg(),i=x(s),o=P(x(i),2);Fr(o,{colorChanged:a,get color(){return t.meta.backgroundColor},set color($){t.meta.backgroundColor=$}});var l=P(i,2),c=P(x(l),2);Fr(c,{colorChanged:a,get color(){return t.meta.questionColor},set color($){t.meta.questionColor=$}});var u=P(l,2),d=P(x(u),2);Fr(d,{colorChanged:a,get color(){return t.meta.answerColor},set color($){t.meta.answerColor=$}});var f=P(u,2),h=P(x(f),2);Fr(h,{colorChanged:a,get color(){return t.meta.buttonColor},set color($){t.meta.buttonColor=$}});var b=P(f,2),g=P(x(b),2);Fr(g,{colorChanged:a,get color(){return t.meta.buttonTextColor},set color($){t.meta.buttonTextColor=$}});var p=P(b,2),y=P(x(p),2);Ct(y,{choices:["Small","Medium","Large","Extra Large"],choiceSelected:n,get value(){return t.meta.fontSize},set value($){t.meta.fontSize=$}}),_(r,s),he()}var yg=(r,e)=>e("left"),_g=(r,e)=>e("center"),wg=C('<div class="flex space-x-3 mt-3 z-0"><button class="p-2 border rounded-lg hover:bg-gray-200 relative group"><!> <span class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-xs bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10">Left</span></button> <button class="p-2 border rounded-lg hover:bg-gray-200 relative group"><!> <span class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-xs bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10">Center</span></button></div>');function xg(r,e){let t=z(e,"textAlign",15);var n=wg(),a=x(n);a.__click=[yg,t];var s=x(a);sf(s,{class:"w-3 h-3 m-1"});var i=P(a,2);i.__click=[_g,t];var o=x(i);af(o,{class:"w-3 h-3 m-1"}),_(r,n)}hn(["click"]);var kg=C('<li class="flex items-center space-x-2"><input> <button class="text-red-500 hover:text-red-700"><!></button></li>'),$g=C('<div class="container mx-auto p-4 relative"><div class="absolute top-4 right-4"><button class="w-8 h-8 rounded-full bg-blue-500 text-white shadow-md hover:bg-blue-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v14m7-7H5"></path></svg></button></div> <div class="mt-12"><ul class="space-y-2"></ul></div></div>');function Sg(r,e){fe(e,!0);let t=z(e,"choices",15);z(e,"selected",19,()=>[]),z(e,"multiple",3,0);let n=vn(e,["$$slots","$$events","$$legacy","choices","selected","multiple"]);function a(){t([...t(),`New Choice ${t().length}`])}function s(f){t(t().filter((h,b)=>b!==f))}function i(f){f.key==="Enter"&&(f.preventDefault(),a())}var o=$g(),l=x(o),c=x(l);c.__click=a;var u=P(l,2),d=x(u);Ue(d,21,t,Fe,(f,h,b)=>{var g=kg(),p=x(g);let y;var $=P(p,2);$.__click=()=>s(b);var S=x($);ls(S,{class:"w-4 h-4"}),G(()=>y=Er(p,y,{onkeydown:i,class:"border px-2 py-1 rounded w-full",placeholder:"Enter your choice",...n})),Ze(p,()=>t()[b],E=>t(t()[b]=E,!0)),_(f,g)}),_(r,o),he()}hn(["click"]);var Eg=C('<div class="absolute inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center"><p class="text-white text-xl">Uploading...</p></div>'),Tg=C('<div class="w-full h-full flex justify-center items-center relative"><img alt="Uploaded image" class="w-full h-full object-cover rounded-lg"> <button class="absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full" aria-label="Delete image"><!></button></div>'),Pg=C('<span class="text-gray-500">Drag & Drop an image here or click to select</span>'),Cg=C('<p class="text-red-500 mt-2"> </p>'),Ag=C('<div class="relative w-full h-64 border-4 border-dashed border-gray-300 rounded-lg flex justify-center items-center cursor-pointer"><!> <input id="fileInput" type="file" accept=".jpg,.jpeg,.png,.gif" class="hidden"></div> <!>',1);function Ig(r,e){fe(e,!1);let t=z(e,"blockId",8),n=z(e,"coverImage",12,""),a=Be(!1),s=Be("");const i=["image/jpeg","image/jpg","image/png","image/gif"];function o(m){m.preventDefault(),m.currentTarget.classList.add("border-blue-500","border-4")}function l(m){m.preventDefault(),m.currentTarget.classList.remove("border-blue-500","border-4")}async function c(m){var k;m.preventDefault(),m.currentTarget.classList.remove("border-blue-500","border-4");const T=(k=m.dataTransfer.files)==null?void 0:k[0];T&&await d(T)}async function u(m){var k;const T=(k=m.target.files)==null?void 0:k[0];T&&await d(T)}async function d(m){var A;if(j(s,""),!i.includes(m.type)){j(s,"Only JPG, PNG, and GIF files are allowed.");return}if(!t()){j(s,"Missing block ID.");return}if(j(a,!0),n())try{const O=(A=n().split("/block-images/")[1])==null?void 0:A.split("?")[0];console.log("Trying to delete (upload step):",O),await xe.storage.from("block-images").remove([O])}catch(O){console.warn("Failed to delete previous image:",O)}const T=m.name.split(".").pop(),k=`coverImages/${t()}.${T}`,{error:R}=await xe.storage.from("block-images").upload(k,m,{cacheControl:"3600",upsert:!0});if(R){j(s,"Upload failed: "+R.message),j(a,!1);return}const{data:U}=xe.storage.from("block-images").getPublicUrl(k);n(`${U.publicUrl}?t=${Date.now()}`),j(a,!1)}async function f(){var k;if(!n())return;const m=(k=n().split("/block-images/")[1])==null?void 0:k.split("?")[0];console.log("Trying to delete (manual):",m);const{error:T}=await xe.storage.from("block-images").remove([m]);if(T){j(s,"Failed to delete image: "+T.message);return}n("")}St();var h=Ag(),b=D(h),g=x(b);{var p=m=>{var T=Eg();_(m,T)},y=m=>{var T=V(),k=D(T);{var R=A=>{var O=Tg(),H=x(O),Z=P(H,2),ie=x(Z);ls(ie,{class:"w-5 h-5"}),G(()=>ge(H,"src",n())),W("click",Z,nr(f)),_(A,O)},U=A=>{var O=Pg();_(A,O)};F(k,A=>{n()?A(R):A(U,!1)},!0)}_(m,T)};F(g,m=>{v(a)?m(p):m(y,!1)})}var $=P(g,2),S=P(b,2);{var E=m=>{var T=Cg(),k=x(T);G(()=>ae(k,v(s))),_(m,T)};F(S,m=>{v(s)&&m(E)})}W("change",$,u),W("dragover",b,o),W("dragleave",b,l),W("drop",b,c),W("click",b,()=>{var m;return(m=document.getElementById("fileInput"))==null?void 0:m.click()}),_(r,h),he()}var Og=C("<!> <!>",1),jg=C("<!> <!>",1),Lg=C("<!> <!>",1),Rg=C("<!> <!>",1),Ng=C("<!> <!>",1),Mg=C("<!> <!>",1),Dg=C("<!> <!>",1),Bg=C("<!> <!>",1),Ug=C("<!> <!>",1),Fg=C("<!> <!>",1),zg=C("<!> <!>",1),qg=C("<!> <!>",1),Hg=C("<!> <!>",1),Vg=C("<!> <!>",1),Wg=C("<!> <!>",1),Gg=C("<!> <!> <!>",1),Jg=C("<!> <!>",1),Kg=C("<!> <!>",1),Yg=C("<!> <!> <!>",1),Qg=C('<div class="overflow-y-auto max-h-[calc(100vh-100px)] pr-2 space-y-4"><!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="flex gap-2"><!> <!></div> <!> <!> <!> <!> <!> <!> <!></div>');function Xg(r,e){fe(e,!0);let t=z(e,"block",15);var n=Qg(),a=x(n);{var s=B=>{var I=Og(),L=D(I);Ae(L,{text:"Title"});var q=P(L,2);pt(q,{get value(){return t().meta.title},set value(ue){t(t().meta.title=ue,!0)}}),_(B,I)};F(a,B=>{var I,L;((L=(I=t())==null?void 0:I.meta)==null?void 0:L.title)!==void 0&&B(s)})}var i=P(a,2);{var o=B=>{var I=jg(),L=D(I);Ae(L,{text:"Question"});var q=P(L,2);pt(q,{get value(){return t().meta.question},set value(ue){t(t().meta.question=ue,!0)}}),_(B,I)};F(i,B=>{var I,L;((L=(I=t())==null?void 0:I.meta)==null?void 0:L.question)!==void 0&&B(o)})}var l=P(i,2);{var c=B=>{var I=Lg(),L=D(I);Ae(L,{text:"Description"});var q=P(L,2);Da(q,{get value(){return t().meta.description},set value(ue){t(t().meta.description=ue,!0)}}),_(B,I)};F(l,B=>{var I,L;((L=(I=t())==null?void 0:I.meta)==null?void 0:L.description)!==void 0&&B(c)})}var u=P(l,2);{var d=B=>{var I=Rg(),L=D(I);Ae(L,{text:"Embed"});var q=P(L,2);pt(q,{get value(){return t().meta.embed},set value(ue){t(t().meta.embed=ue,!0)}}),_(B,I)};F(u,B=>{var I,L;((L=(I=t())==null?void 0:I.meta)==null?void 0:L.embed)!==void 0&&B(d)})}var f=P(u,2);{var h=B=>{var I=Ng(),L=D(I);Ae(L,{text:"Options"});var q=P(L,2);Sg(q,{get choices(){return t().meta.props.choices},set choices(ue){t(t().meta.props.choices=ue,!0)}}),_(B,I)};F(f,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.props)==null?void 0:q.choices)!==void 0&&B(h)})}var b=P(f,2);{var g=B=>{var I=Mg(),L=D(I);Ae(L,{text:"Text Align"});var q=P(L,2);xg(q,{get textAlign(){return t().meta.textAlign},set textAlign(ue){t(t().meta.textAlign=ue,!0)}}),_(B,I)};F(b,B=>{var I,L;((L=(I=t())==null?void 0:I.meta)==null?void 0:L.textAlign)!==void 0&&B(g)})}var p=P(b,2);{var y=B=>{var I=Dg(),L=D(I);Ae(L,{text:"Button Text"});var q=P(L,2);pt(q,{get value(){return t().meta.buttonText},set value(ue){t(t().meta.buttonText=ue,!0)}}),_(B,I)};F(p,B=>{var I,L;((L=(I=t())==null?void 0:I.meta)==null?void 0:L.buttonText)!==void 0&&B(y)})}var $=P(p,2);{var S=B=>{var I=Bg(),L=D(I);Ae(L,{text:"Placeholder"});var q=P(L,2);pt(q,{get value(){return t().meta.props.placeholder},set value(ue){t(t().meta.props.placeholder=ue,!0)}}),_(B,I)};F($,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.props)==null?void 0:q.placeholder)!==void 0&&B(S)})}var E=P($,2);{var m=B=>{var I=Ug(),L=D(I);Ae(L,{text:"Textbox Size"});var q=P(L,2);Ct(q,{choices:["Small","Medium","Large","Extra Large"],get value(){return t().meta.props.size},set value(ue){t(t().meta.props.size=ue,!0)}}),_(B,I)};F(E,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.props)==null?void 0:q.size)!==void 0&&B(m)})}var T=P(E,2),k=x(T);{var R=B=>{var I=Fg(),L=D(I);Ae(L,{text:"Start"});var q=P(L,2);Ct(q,{choices:["0","1"],get value(){return t().meta.props.start},set value(ue){t(t().meta.props.start=ue,!0)}}),_(B,I)};F(k,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.props)==null?void 0:q.start)!==void 0&&B(R)})}var U=P(k,2);{var A=B=>{var I=zg(),L=D(I);Ae(L,{text:"End"});var q=P(L,2);Ct(q,{choices:["3","4","5","6","7","8","9","10"],get value(){return t().meta.props.end},set value(ue){t(t().meta.props.end=ue,!0)}}),_(B,I)};F(U,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.props)==null?void 0:q.end)!==void 0&&B(A)})}var O=P(T,2);{var H=B=>{var I=qg(),L=D(I);Ae(L,{text:"Max Rating"});var q=P(L,2);Ct(q,{choices:["3","4","5","6","7","8","9","10"],get value(){return t().meta.props.maxRating},set value(ue){t(t().meta.props.maxRating=ue,!0)}}),_(B,I)};F(O,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.props)==null?void 0:q.maxRating)!==void 0&&B(H)})}var Z=P(O,2);{var ie=B=>{var I=Hg(),L=D(I);Ae(L,{text:"Max Characters"});var q=P(L,2);pt(q,{get value(){return t().meta.props.maxCharacters},set value(ue){t(t().meta.props.maxCharacters=ue,!0)}}),_(B,I)};F(Z,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.props)==null?void 0:q.maxCharacters)!==void 0&&B(ie)})}var se=P(Z,2);{var Y=B=>{var I=Vg(),L=D(I);Ae(L,{text:"Left Label"});var q=P(L,2);pt(q,{get value(){return t().meta.props.leftLabel},set value(ue){t(t().meta.props.leftLabel=ue,!0)}}),_(B,I)};F(se,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.props)==null?void 0:q.leftLabel)!==void 0&&B(Y)})}var ce=P(se,2);{var je=B=>{var I=Wg(),L=D(I);Ae(L,{text:"Right Label"});var q=P(L,2);pt(q,{get value(){return t().meta.props.rightLabel},set value(ue){t(t().meta.props.rightLabel=ue,!0)}}),_(B,I)};F(ce,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.props)==null?void 0:q.rightLabel)!==void 0&&B(je)})}var _e=P(ce,2);{var Ce=B=>{var I=Gg(),L=D(I);Ae(L,{text:"Required Field"});var q=P(L,2);Ua(q,{get checked(){return t().meta.validation.required},set checked(et){t(t().meta.validation.required=et,!0)}});var ue=P(q,2);Ae(ue,{small:!0,text:"If checked, users will be required to complete this field."}),_(B,I)};F(_e,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.validation)==null?void 0:q.required)!=null&&B(Ce)})}var ye=P(_e,2);{var me=B=>{var I=Jg(),L=D(I);Ae(L,{text:"Max Characters"});var q=P(L,2);pt(q,{get value(){return t().meta.validation.maxLength},set value(ue){t(t().meta.validation.maxLength=ue,!0)}}),_(B,I)};F(ye,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.validation)==null?void 0:q.maxLength)!=null&&B(me)})}var Re=P(ye,2);{var ze=B=>{var I=Yg(),L=D(I);Ae(L,{text:"Cover Image URL"});var q=P(L,2);Ig(q,{get blockId(){return t().id},get coverImage(){return t().meta.coverImageProps.coverImage},set coverImage(Gt){t(t().meta.coverImageProps.coverImage=Gt,!0)}});var ue=P(q,2);{var et=Gt=>{var Dr=Kg(),Jt=D(Dr);Ae(Jt,{text:"Layout"});var ta=P(Jt,2);Ct(ta,{choices:["Wallpaper","Stack","Split-left","Split-right"],get value(){return t().meta.coverImageProps.layout},set value(ra){t(t().meta.coverImageProps.layout=ra,!0)}}),_(Gt,Dr)};F(ue,Gt=>{t().meta.coverImageProps.coverImage!=null&&t().meta.coverImageProps.coverImage!==""&&Gt(et)})}_(B,I)};F(Re,B=>{var I,L,q;((q=(L=(I=t())==null?void 0:I.meta)==null?void 0:L.coverImageProps)==null?void 0:q.coverImage)!==void 0&&B(ze)})}_(r,n),he()}var Zg=C('<p class="text-gray-400">No blocks to display</p>'),ep=C('<main class="flex flex-col h-full mt-17"><!> <!> <div class="flex justify-center"><!></div> <div class="flex flex-1 overflow-hidden mt-2 min-h-[400px]"><div class="w-1/4 p-2 overflow-auto min-h-0"><div class="flex justify-end mb-2"><!></div> <!></div> <div class="w-1/2 h-[400px] overflow-auto bg-white m-1 border border-dotted border-gray-400 rounded-xl shadow-sm flex items-center justify-center"><!></div> <div class="w-1/4 p-2 overflow-auto h-[400px] border-l border-gray-200"><!></div></div></main>');function tp(r,e){fe(e,!0),kl("blockPickerClick",p);let t=le(!1),n=le(!0),a=le(J([]));J([]);let s=le(0),i=le(J({})),o=le(J(e.route.result.path.params.id)),l=le("Build"),c="",u=le(!1),d;async function f(){try{d=(await is(v(o))).data.form,j(i,J(d.meta));const T=await wo(v(o));j(a,J(T.data.blocks.slice().sort((k,R)=>k.meta.blockTypeId-R.meta.blockTypeId))),j(u,!0)}catch(m){console.error("Error fetching form or blocks:",m)}}vt(f);function h(m){j(i,J(m.meta))}async function b(m){try{await si(m)}catch(T){console.error("Failed to save block:",T)}}const g=us(b,2e3);ut(()=>{const m=v(a)[v(s)];if(!v(u)||!m)return;const T=JSON.stringify(m);T!==c&&(c=T,g(m))}),ut(()=>{const T=e.route.result.path.original.split("/").filter(Boolean);j(n,T[T.length-2]==="design"),j(l,J(v(n)?"Design":"Build"))});async function p(m){await Ma(v(o),Yr[m]),await f(),j(s,J(v(a).findIndex((T,k)=>T==null&&k<v(a).length-1))),v(s)===-1&&j(s,J(Math.max(0,v(a).length-2)))}async function y(){try{await Promise.all(v(a).map(m=>si(m)))}catch(m){console.error("Failed to update block positions:",m)}}async function $(m){if(await Fh("Delete Confirmation","Are you sure you want to delete this block?","Cancel","Yes! Delete it")){const{error:k}=await Xd(m);k?console.error("Failed to delete block:",k.message):(await f(),j(s,J(Math.min(v(s),Math.max(0,v(a).length-1)))))}}const S=m=>{j(s,J(m))},E=m=>{v(a)[v(s)]=m.detail};ea(r,{get activeMenuLabel(){return v(l)},get formId(){return v(o)},set formId(m){j(o,J(m))},children:(m,T)=>{var k=ep(),R=x(k);Zh(R,{get show(){return v(t)},close:()=>j(t,!1)});var U=P(R,2);Oo(U,{});var A=P(U,2),O=x(A);li(O,{largeIcon:!0,clickHandler:()=>j(t,!0)});var H=P(A,2),Z=x(H),ie=x(Z),se=x(ie);li(se,{clickHandler:()=>j(t,!0)});var Y=P(ie,2);Uh(Y,{changeBlock:S,deleteBlock:$,updateBlockPositions:y,get blockNo(){return v(s)},set blockNo(B){j(s,J(B))},get blocks(){return v(a)},set blocks(B){j(a,J(B))}});var ce=P(Z,2),je=x(ce);{var _e=B=>{jo(B,{get block(){return v(a)[v(s)]},set block(I){v(a)[v(s)]=I},$$events:{updateBlock:E}})},Ce=B=>{var I=Zg();_(B,I)};F(je,B=>{v(a)[v(s)]?B(_e):B(Ce,!1)})}var ye=P(ce,2),me=x(ye);{var Re=B=>{bg(B,{formProp:d,changeColorOnForm:h})},ze=B=>{var I=V(),L=D(I);{var q=ue=>{Xg(ue,{get block(){return v(a)[v(s)]},set block(et){v(a)[v(s)]=et}})};F(L,ue=>{v(a)[v(s)]&&ue(q)},!0)}_(B,I)};F(me,B=>{v(n)?B(Re):B(ze,!1)})}_(m,k)},$$slots:{default:!0}}),he()}var rp=C('<button class="flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg shadow-md"><!> <span>Download CSV</span></button>'),np=C('<button class="px-6 py-3 bg-red-600 text-white rounded-lg shadow-md flex items-center gap-2"><!> <span> </span></button>'),ap=C('<div class="flex flex-col items-center text-center text-gray-500 py-24"><!> <h2 class="text-xl font-semibold">No responses yet</h2> <p class="text-gray-400 mt-2">Once someone submits the form, their answers will appear here.</p></div>'),sp=C('<div><!> <div class="text-gray-800 break-words"> </div></div>'),ip=C('<div class="text-gray-400 italic">No answers</div>'),op=C('<div class="bg-white shadow-xl rounded-lg w-full p-4 border border-gray-200 space-y-2 relative flex items-start"><input type="checkbox" class="w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"> <div class="pl-12 w-full"><!> <div class="text-sm text-gray-500 pt-3 border-t mt-2"> </div></div></div>'),lp=C('<div class="space-y-6 overflow-y-auto max-h-[80vh] pb-4"></div>'),cp=C('<div class="max-w-full mx-auto mt-8 px-6"><div class="flex justify-end space-x-4 mb-6"><!> <!></div> <!></div>');function up(r,e){fe(e,!0);let t=le(J(e.route.result.path.params.id)),n=[],a=new Set;const s=c=>new Date(c).toLocaleString(void 0,{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),i=c=>{const u=new Set(a);u.has(c)?u.delete(c):u.add(c),a=u},o=async()=>{const c=[...a];for(const u of c)await Qd(u);n=n.filter(u=>!a.has(u.id)),a=new Set};vt(async()=>{const c=await Kd(v(t));c.success?n=c.data.responses:c.error});function l(){if(n.length===0)return;const c=Array.from(new Set(n.flatMap(p=>{var y;return((y=p.meta)==null?void 0:y.map($=>$.blockTypeId))||[]}))),u=["ID","Timestamp",...c.map(p=>`Answer-${p}`)],d=n.map(p=>{var $;const y=new Map(($=p.meta)==null?void 0:$.map(S=>[S.blockTypeId,S.answer||""]));return[p.id,s(p.created_at),...c.map(S=>y.get(S)||"")]}),f=[u.join(","),...d.map(p=>p.join(","))].join(`
`),h=new Blob([f],{type:"text/csv"}),b=URL.createObjectURL(h),g=document.createElement("a");g.href=b,g.download=`responses-${v(t)}.csv`,document.body.appendChild(g),g.click(),document.body.removeChild(g)}ea(r,{activeMenuLabel:"Responses",get formId(){return v(t)},set formId(c){j(t,J(c))},children:(c,u)=>{var d=cp(),f=x(d),h=x(f);{var b=E=>{var m=rp(),T=x(m);yf(T,{class:"w-5 h-5"}),W("click",m,l),_(E,m)};F(h,E=>{n.length>0&&E(b)})}var g=P(h,2);{var p=E=>{var m=np(),T=x(m);Eo(T,{class:"w-5 h-5"});var k=P(T,2),R=x(k);G(()=>ae(R,`${a.size??""} selected - Delete`)),W("click",m,o),_(E,m)};F(g,E=>{a.size>0&&E(p)})}var y=P(f,2);{var $=E=>{var m=ap(),T=x(m);Sf(T,{class:"w-16 h-16 mb-4 opacity-30"}),_(E,m)},S=E=>{var m=lp();Ue(m,21,()=>n,Fe,(T,k)=>{var R=op(),U=x(R),A=P(U,2),O=x(A);{var H=Y=>{var ce=V(),je=D(ce);Ue(je,17,()=>v(k).meta,Fe,(_e,Ce)=>{var ye=sp(),me=x(ye);cs(me,{get blockId(){return v(Ce).blockTypeId}});var Re=P(me,2),ze=x(Re);G(()=>{Ie(ye,`p-3 ${Le[v(Ce).blockTypeId]||"bg-gray-100"} rounded-lg flex items-center space-x-3`),ae(ze,v(Ce).answer||"---")}),_(_e,ye)}),_(Y,ce)},Z=Y=>{var ce=ip();_(Y,ce)};F(O,Y=>{v(k).meta&&v(k).meta.length>0?Y(H):Y(Z,!1)})}var ie=P(O,2),se=x(ie);G((Y,ce)=>{dc(U,Y),ae(se,ce)},[()=>a.has(v(k).id),()=>s(v(k).created_at)]),W("change",U,()=>i(v(k).id)),_(T,R)}),_(E,m)};F(y,E=>{n.length===0?E($):E(S,!1)})}_(c,d)},$$slots:{default:!0}}),he()}class dp{constructor(e){this.value=e,this.error=null}required(e="This field is required."){return!this.error&&(this.value===""||this.value==null)&&(this.error=e),this}email(e="Invalid email format."){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!this.error&&this.value&&!t.test(this.value)&&(this.error=e),this}url(e="Invalid URL."){const t=/^(https?:\/\/)([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(\/[^\s]*)?$/;return!this.error&&this.value&&!t.test(this.value)&&(this.error=e),this}min(e,t){var n;return!this.error&&((n=this.value)==null?void 0:n.length)<e&&(this.error=t||`Minimum ${e} characters required.`),this}max(e,t){var n;return!this.error&&((n=this.value)==null?void 0:n.length)>e&&(this.error=t||`Maximum ${e} characters allowed.`),this}minSelection(e="Please select at least one option."){return!this.error&&(!this.value||this.value.length===0)&&(this.error=e),this}result(){return this.error}}function fp({meta:r,value:e}){var l;if(!(r!=null&&r.component))return null;const{required:t}=r.validation||{},{minCharacters:n,maxCharacters:a}=r.props||{},s=new dp(e),i=()=>t?s.required():s,o={ShortText:()=>i(),DropdownBlock:()=>i(),StarRatings:()=>i(),DatePicker:()=>i(),Number:()=>i(),PhoneNumber:()=>i(),OpinionScale:()=>i(),Signature:()=>i(),Website:()=>i().url(),Scheduler:()=>i(),Email:()=>i().email(),LongText:()=>i().min(n),Select:()=>i().minSelection(),YesNo:()=>i(),CheckboxBlock:()=>i(),Website:()=>i().url()};return((l=o[r.component])==null?void 0:l.call(o).result())||null}var hp=C("<!> <p>test</p>",1),vp=C('<div class="w-full flex justify-center"><!></div>'),gp=C('<button class="w-10 h-10 bg-gray-800 text-white rounded-md hover:bg-gray-700 flex items-center justify-center" title="Previous"><!></button>'),pp=C('<button class="w-10 h-10 bg-gray-800 text-white rounded-md hover:bg-gray-700 flex items-center justify-center" title="Next"><!></button>'),mp=C('<div class="fixed bottom-4 right-4 z-10 flex gap-4 items-center touch-none"><div class="flex gap-2 items-center"><!> <!></div> <a href="https://fabform.io" target="_blank" class="bg-black text-white text-sm flex items-center gap-2 py-1 px-3 rounded-md hover:bg-gray-800">Powered by FabForm</a></div>'),bp=C('<main class="relative w-full h-full min-h-screen svelte-1vetery"><!> <!></main>');function yp(r,e){fe(e,!0);let t="",n=[],a=0,s=!1,i={},o;const l={top:-500,bottom:500};let c={visible:!0,direction:"top"};vt(async()=>{var S;try{o=e.route.result.path.params.id,i=(await is(o)).data.form.meta||{},n=((S=(await wo(o)).data.blocks)==null?void 0:S.slice().sort((T,k)=>T.meta.blockTypeId-k.meta.blockTypeId))||[],a=0}catch(E){console.error(E),t="Failed to load the form. Please try again later."}finally{setTimeout(()=>{},4e3)}});function u(){t="";const S=n[a],E=fp(S);if(E){t=E;return}a===n.length-1?f():(a++,c={...c,visible:!1,direction:"bottom"},setTimeout(()=>c.visible=!0,700))}function d(){a>0&&(a--,c={...c,visible:!1,direction:"top"},setTimeout(()=>c.visible=!0,700))}async function f(){try{const S=n.filter(E=>E.value!=null).map(E=>({blockId:E.id,blockTypeId:E.meta.blockTypeId,answer:E.value}));await Jd(o,S),s=!0,a=-1}catch(S){console.error(S),t="Failed to submit the form."}}var h=bp(),b=x(h);{var g=S=>{var E=hp(),m=D(E);Lo(m,{}),_(S,E)},p=S=>{var E=V(),m=D(E);{var T=k=>{var R=vp(),U=x(R);jo(U,{uiMeta:i,formMode:!0,errorMessage:t,nextBlock:u,get block(){return n[a]},set block(A){n[a]=A}}),Tr(1,R,()=>qh,()=>({y:c.direction==="top"?l.top:l.bottom,opacity:0,duration:700})),Tr(2,R,()=>Io),_(k,R)};F(m,k=>{c.visible&&k(T)},!0)}_(S,E)};F(b,S=>{s?S(g):S(p,!1)})}var y=P(b,2);{var $=S=>{var E=mp(),m=x(E),T=x(m);{var k=A=>{var O=gp(),H=x(O);cf(H,{size:18}),W("click",O,d),W("touchstart",O,d),_(A,O)};F(T,A=>{a>0&&A(k)})}var R=P(T,2);{var U=A=>{var O=pp(),H=x(O);of(H,{size:18}),W("click",O,u),W("touchstart",O,u),_(A,O)};F(R,A=>{a<n.length-1&&A(U)})}_(S,E)};F(y,S=>{!s&&!t&&n.length>0&&S($)})}_(r,h),he()}var _p=C('<p class="text-sm text-red-500 text-center"> </p>'),wp=C('<p class="text-sm text-green-600 text-center"> </p>'),xp=C(`<div class="min-h-screen flex justify-center items-center bg-gray-100"><div class="w-full max-w-sm bg-white p-8 space-y-6 rounded-xl shadow-lg"><h2 class="text-3xl font-bold text-center text-gray-900">Sign into my account</h2> <p class="text-sm text-center text-gray-500">Please sign in to your FabForm account</p> <div class="space-y-5"><input type="email" placeholder="Email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <input type="password" placeholder="Password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <button class="w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"> </button></div> <div class="text-center mt-4"><p class="text-sm text-gray-500">Don't have an account? <a href="/signup" class="text-blue-600 hover:text-blue-700">Sign up</a></p></div> <!></div></div>`);function kp(r,e){fe(e,!1);const t=lr,n=Be(t.state),a=t.loginWithEmail;let s=Be(""),i=Be("");const o=async()=>{if(!v(s)||!v(i)){kr(n,v(n).error="Please enter both email and password.");return}kr(n,v(n).error=null),await a(v(s),v(i))&&kt("/dashboard")};St();var l=xp(),c=x(l),u=P(x(c),4),d=x(u),f=P(d,2),h=P(f,2),b=x(h),g=P(u,4);{var p=$=>{var S=_p(),E=x(S);G(()=>ae(E,v(n).error)),_($,S)},y=$=>{var S=V(),E=D(S);{var m=T=>{var k=wp(),R=x(k);G(()=>ae(R,v(n).message)),_(T,k)};F(E,T=>{v(n).message&&T(m)},!0)}_($,S)};F(g,$=>{v(n).error?$(p):$(y,!1)})}G(()=>{h.disabled=v(n).loading,ae(b,v(n).loading&&v(n).lastAction==="login"&&v(n).lastProvider==="email"?"Logging in…":"Login with Email")}),Ze(d,()=>v(s),$=>j(s,$)),Ze(f,()=>v(i),$=>j(i,$)),W("click",h,o),_(r,l),he()}var $p=C('<p class="text-sm text-red-500 text-center"> </p>'),Sp=C('<p class="text-sm text-green-600 text-center"> </p>'),Ep=C('<div class="min-h-screen flex justify-center items-center bg-gray-100"><div class="w-full max-w-sm bg-white p-8 space-y-6 rounded-xl shadow-lg"><h2 class="text-3xl font-bold text-center text-gray-900">Create an Account</h2> <p class="text-sm text-center text-gray-500">Sign up to start your journey</p> <div class="space-y-5"><input type="email" placeholder="Email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <input type="password" placeholder="Password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <input type="password" placeholder="Confirm Password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <button class="w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"> </button></div> <!></div></div>');function Tp(r,e){fe(e,!1);const t=lr,n=Be(t.state),a=t.createUser;let s=Be(""),i=Be(""),o=Be("");const l=async()=>{if(v(i)!==v(o)){kr(n,v(n).error="Passwords do not match!");return}await a(v(s),v(i))&&kt("/dashboard")};St();var c=Ep(),u=x(c),d=P(x(u),4),f=x(d),h=P(f,2),b=P(h,2),g=P(b,2),p=x(g),y=P(d,2);{var $=E=>{var m=$p(),T=x(m);G(()=>ae(T,v(n).error)),_(E,m)},S=E=>{var m=V(),T=D(m);{var k=R=>{var U=Sp(),A=x(U);G(()=>ae(A,v(n).message)),_(R,U)};F(T,R=>{v(n).message&&R(k)},!0)}_(E,m)};F(y,E=>{v(n).error?E($):E(S,!1)})}G(()=>{g.disabled=v(n).loading,ae(p,v(n).loading&&v(n).lastAction==="signup"?"Signing up…":"Sign Up")}),Ze(f,()=>v(s),E=>j(s,E)),Ze(h,()=>v(i),E=>j(i,E)),Ze(b,()=>v(o),E=>j(o,E)),W("click",g,l),_(r,c),he()}var Pp=C("<h1>Test 12345</h1>");function Cp(r){var e=Pp();_(r,e)}var Ap=C('<div class="min-h-screen bg-gray-50 flex flex-col items-center justify-center px-6 py-12"><div class="w-full max-w-4xl space-y-6 bg-white p-8 rounded-2xl shadow-xl border border-gray-200"><div class="flex flex-col space-y-4 items-center md:items-start"><div class="w-full flex flex-col md:flex-row md:items-center md:space-x-2 space-y-2 md:space-y-0"><input class="w-full md:w-80 px-3 py-2 rounded-md border border-gray-300 text-gray-800 text-sm" type="text" readonly=""> <!></div> <!></div> <div class="relative bg-gray-900 rounded-lg p-4 text-sm font-mono text-white overflow-auto max-h-[300px]"><pre class="whitespace-pre-wrap break-all"> </pre> <button class="absolute bottom-2 right-2 p-1 rounded hover:bg-gray-700 transition" aria-label="Copy code"><!></button></div></div> <!></div>');function Ip(r,e){fe(e,!0);let t=le(J(e.route.result.path.params.id)),n=tr+`/v/${v(t)}`,a=le("Inline Embed"),s=le("");ut(()=>{switch(v(a)){case"Inline Embed":j(s,`<iframe src="${n}" style="width:100%; height:300px;" frameborder="0"></iframe>`);break;case"Popup":j(s,`<button onclick="window.open('${n}', '_blank', 'width=600,height=400')">Open Form</button>`);break;case"Fullpage":j(s,`<a href="${n}" target="_blank">Go to Fullpage Form</a>`);break;default:j(s,"")}});let i=le(!1);async function o(){try{await navigator.clipboard.writeText(v(s)),j(i,!0),setTimeout(()=>j(i,!1),3e3)}catch{}}ea(r,{activeMenuLabel:"Share",get formId(){return v(t)},set formId(l){j(t,J(l))},children:(l,c)=>{var u=Ap(),d=x(u),f=x(d),h=x(f),b=x(h);Ji(b,n);var g=P(b,2);To(g,{link:n});var p=P(h,2);Ct(p,{choices:["Inline Embed","Popup","Fullpage"],get value(){return v(a)},set value(R){j(a,J(R))}});var y=P(f,2),$=x(y),S=x($),E=P($,2),m=x(E);pf(m,{class:"w-5 h-5 text-white"}),at(E,(R,U)=>st==null?void 0:st(R,U),()=>({text:"Copy code",position:"bottom"})),Xe(()=>W("click",E,o));var T=P(d,2);{var k=R=>{Co(R,{message:"Code Copied!",type:"success"})};F(T,R=>{v(i)&&R(k)})}G(()=>ae(S,v(s))),_(l,u)},$$slots:{default:!0}}),he()}var Op=C('<div class="min-h-screen bg-gray-50 flex flex-col items-center justify-center px-6 py-12"><h2>Settings for My Form</h2> <p1>coming soon</p1></div>');function jp(r,e){fe(e,!0);let t=le(J(e.route.result.path.params.id));ea(r,{activeMenuLabel:"Settings",get formId(){return v(t)},set formId(n){j(t,J(n))},children:(n,a)=>{var s=Op();_(n,s)},$$slots:{default:!0}}),he()}const zr=()=>lr.state.user?!0:(kt("/login"),!1),Lp=[{path:"",hooks:{pre:()=>kt("/dashboard")}},{path:"login",component:kp},{path:"signup",component:Tp},{path:"dashboard",component:Yh,hooks:{pre:zr}},{path:"share/(?<id>.*)",component:Ip,hooks:{pre:zr}},{path:"settings/(?<id>.*)",component:jp,hooks:{pre:zr}},{path:"responses/(?<id>.*)",component:up,hooks:{pre:zr}},{path:"form/(?<mode>[^/]+)/(?<id>[^/]+)",component:tp,hooks:{pre:zr}},{path:"v/(?<id>.*)",component:yp},{path:"test",component:Cp}];var Rp=C('<div class="flex items-center justify-center h-full text-gray-600">Loading...</div>'),Np=C('<main class="w-screen h-screen"><!></main>');function Mp(r,e){fe(e,!1);const{getUser:t}=lr;let n=Be(!0);vt(async()=>{await t(),j(n,!1)}),St();var a=Np(),s=x(a);{var i=l=>{var c=Rp();_(l,c)},o=l=>{Mc(l,{routes:Lp})};F(s,l=>{v(n)?l(i):l(o,!1)})}_(r,a),he()}rc(Mp,{target:document.getElementById("app")});export{eo as g};
