var Wo=Object.defineProperty;var ps=r=>{throw TypeError(r)};var Go=(r,e,t)=>e in r?Wo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var le=(r,e,t)=>Go(r,typeof e!="symbol"?e+"":e,t),ms=(r,e,t)=>e.has(r)||ps("Cannot "+t);var Ne=(r,e,t)=>(ms(r,e,"read from private field"),t?t.call(r):e.get(r)),Qt=(r,e,t)=>e.has(r)?ps("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t);var bn=(r,e,t)=>(ms(r,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();const bs=!1;var Un=Array.isArray,Jo=Array.prototype.indexOf,za=Array.from,Ko=Object.defineProperty,Vt=Object.getOwnPropertyDescriptor,vi=Object.getOwnPropertyDescriptors,Yo=Object.prototype,Qo=Array.prototype,qa=Object.getPrototypeOf;function mr(r){return typeof r=="function"}const qt=()=>{};function Xo(r){return r()}function ba(r){for(var e=0;e<r.length;e++)r[e]()}const dt=2,gi=4,cn=8,Fn=16,Et=32,Ir=64,Cn=128,xt=256,An=512,We=1024,Nt=2048,Or=4096,yt=8192,jr=16384,pi=32768,ar=65536,Zo=1<<17,el=1<<19,mi=1<<20,_t=Symbol("$state"),bi=Symbol("legacy props"),tl=Symbol("");function yi(r){return r===this.v}function _i(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function Ha(r){return!_i(r,this.v)}function rl(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function nl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function al(r){throw new Error("https://svelte.dev/e/effect_orphan")}function sl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function il(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function ol(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ll(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function cl(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function ul(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Lr=!1,dl=!1;function fl(){Lr=!0}const Va=1,Wa=2,wi=4,hl=8,vl=16,gl=1,pl=2,xi=4,ml=8,bl=16,yl=1,_l=2,wl=4,xl=1,kl=2,Ye=Symbol(),ki="http://www.w3.org/2000/svg";function Ga(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let xe=null;function ys(r){xe=r}function $l(r){return $i().get(r)}function Sl(r,e){return $i().set(r,e),e}function ce(r,e=!1,t){xe={p:xe,c:null,e:null,m:!1,s:r,x:null,l:null},Lr&&!e&&(xe.l={s:null,u:null,r1:[],r2:Qe(!1)})}function ue(r){const e=xe;if(e!==null){const i=e.e;if(i!==null){var t=be,n=Ae;e.e=null;try{for(var a=0;a<i.length;a++){var s=i[a];it(s.effect),$t(s.reaction),Ze(s.fn)}}finally{it(t),$t(n)}}xe=e.p,e.m=!0}return{}}function $i(r){return xe===null&&Ga(),xe.c??(xe.c=new Map(El(xe)||void 0))}function El(r){let e=r.p;for(;e!==null;){const t=e.c;if(t!==null)return t;e=e.p}return null}function Qe(r,e){var t={f:0,v:r,reactions:null,equals:yi,rv:0,wv:0};return t}function oe(r){return Si(Qe(r))}function Ja(r,e=!1){var n;const t=Qe(r);return e||(t.equals=Ha),Lr&&xe!==null&&xe.l!==null&&((n=xe.l).s??(n.s=[])).push(t),t}function Ue(r,e=!1){return Si(Ja(r,e))}function Si(r){return Ae!==null&&!It&&(Ae.f&dt)!==0&&(wt===null?Dl([r]):wt.push(r)),r}function xr(r,e){return R(r,ht(()=>v(r))),e}function R(r,e){return Ae!==null&&!It&&hn()&&(Ae.f&(dt|Fn))!==0&&(wt===null||!wt.includes(r))&&ul(),ya(r,e)}function ya(r,e){return r.equals(e)||(r.v,r.v=e,r.wv=Bi(),Ei(r,Nt),hn()&&be!==null&&(be.f&We)!==0&&(be.f&(Et|Ir))===0&&(Pt===null?Bl([r]):Pt.push(r))),e}function Ei(r,e){var t=r.reactions;if(t!==null)for(var n=hn(),a=t.length,s=0;s<a;s++){var i=t[s],o=i.f;(o&Nt)===0&&(!n&&i===be||(vt(i,e),(o&(We|xt))!==0&&((o&dt)!==0?Ei(i,Or):Vn(i))))}}let Ti=!1;function W(r,e=null,t){if(typeof r!="object"||r===null||_t in r)return r;const n=qa(r);if(n!==Yo&&n!==Qo)return r;var a=new Map,s=Un(r),i=Qe(0);s&&a.set("length",Qe(r.length));var o;return new Proxy(r,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ol();var d=a.get(c);return d===void 0?(d=Qe(u.value),a.set(c,d)):R(d,W(u.value,o)),!0},deleteProperty(l,c){var u=a.get(c);if(u===void 0)c in l&&a.set(c,Qe(Ye));else{if(s&&typeof c=="string"){var d=a.get("length"),f=Number(c);Number.isInteger(f)&&f<d.v&&R(d,f)}R(u,Ye),_s(i)}return!0},get(l,c,u){var b;if(c===_t)return r;var d=a.get(c),f=c in l;if(d===void 0&&(!f||(b=Vt(l,c))!=null&&b.writable)&&(d=Qe(W(f?l[c]:Ye,o)),a.set(c,d)),d!==void 0){var h=v(d);return h===Ye?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=a.get(c);d&&(u.value=v(d))}else if(u===void 0){var f=a.get(c),h=f==null?void 0:f.v;if(f!==void 0&&h!==Ye)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){var h;if(c===_t)return!0;var u=a.get(c),d=u!==void 0&&u.v!==Ye||Reflect.has(l,c);if(u!==void 0||be!==null&&(!d||(h=Vt(l,c))!=null&&h.writable)){u===void 0&&(u=Qe(d?W(l[c],o):Ye),a.set(c,u));var f=v(u);if(f===Ye)return!1}return d},set(l,c,u,d){var S;var f=a.get(c),h=c in l;if(s&&c==="length")for(var b=u;b<f.v;b+=1){var g=a.get(b+"");g!==void 0?R(g,Ye):b in l&&(g=Qe(Ye),a.set(b+"",g))}f===void 0?(!h||(S=Vt(l,c))!=null&&S.writable)&&(f=Qe(void 0),R(f,W(u,o)),a.set(c,f)):(h=f.v!==Ye,R(f,W(u,o)));var m=Reflect.getOwnPropertyDescriptor(l,c);if(m!=null&&m.set&&m.set.call(d,u),!h){if(s&&typeof c=="string"){var y=a.get("length"),$=Number(c);Number.isInteger($)&&$>=y.v&&R(y,$+1)}_s(i)}return!0},ownKeys(l){v(i);var c=Reflect.ownKeys(l).filter(f=>{var h=a.get(f);return h===void 0||h.v!==Ye});for(var[u,d]of a)d.v!==Ye&&!(u in l)&&c.push(u);return c},setPrototypeOf(){ll()}})}function _s(r,e=1){R(r,r.v+e)}function ws(r){return r!==null&&typeof r=="object"&&_t in r?r[_t]:r}function Tl(r,e){return Object.is(ws(r),ws(e))}var xs,Pi,Ci;function Pl(){if(xs===void 0){xs=window;var r=Element.prototype,e=Node.prototype;Pi=Vt(e,"firstChild").get,Ci=Vt(e,"nextSibling").get,r.__click=void 0,r.__className="",r.__attributes=null,r.__styles=null,r.__e=void 0,Text.prototype.__t=void 0}}function un(r=""){return document.createTextNode(r)}function bt(r){return Pi.call(r)}function zn(r){return Ci.call(r)}function x(r,e){return bt(r)}function D(r,e){{var t=bt(r);return t instanceof Comment&&t.data===""?zn(t):t}}function P(r,e=1,t=!1){let n=r;for(;e--;)n=zn(n);return n}function Cl(r){r.textContent=""}function Ee(r){var e=dt|Nt,t=Ae!==null&&(Ae.f&dt)!==0?Ae:null;return be===null||t!==null&&(t.f&xt)!==0?e|=xt:be.f|=mi,{ctx:xe,deps:null,effects:null,equals:yi,f:e,fn:r,reactions:null,rv:0,v:null,wv:0,parent:t??be}}function qn(r){const e=Ee(r);return e.equals=Ha,e}function Ka(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)ft(e[t])}}function Al(r){for(var e=r.parent;e!==null;){if((e.f&dt)===0)return e;e=e.parent}return null}function Ai(r){var e,t=be;it(Al(r));try{Ka(r),e=Fi(r)}finally{it(t)}return e}function Ii(r){var e=Ai(r),t=(tr||(r.f&xt)!==0)&&r.deps!==null?Or:We;vt(r,t),r.equals(e)||(r.v=e,r.wv=Bi())}function Il(r){Ka(r),en(r,0),vt(r,jr),r.v=r.deps=r.ctx=r.reactions=null}function Oi(r){be===null&&Ae===null&&al(),Ae!==null&&(Ae.f&xt)!==0&&be===null&&nl(),Qa&&rl()}function Ol(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function Rr(r,e,t,n=!0){var a=(r&Ir)!==0,s=be,i={ctx:xe,deps:null,nodes_start:null,nodes_end:null,f:r|Nt,first:null,fn:e,last:null,next:null,parent:a?null:s,prev:null,teardown:null,transitions:null,wv:0};if(t){var o=yr;try{ks(!0),Xa(i),i.f|=pi}catch(u){throw ft(i),u}finally{ks(o)}}else e!==null&&Vn(i);var l=t&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(mi|Cn))===0;if(!l&&!a&&n&&(s!==null&&Ol(i,s),Ae!==null&&(Ae.f&dt)!==0)){var c=Ae;(c.effects??(c.effects=[])).push(i)}return i}function jl(r){const e=Rr(cn,null,!1);return vt(e,We),e.teardown=r,e}function kt(r){Oi();var e=be!==null&&(be.f&Et)!==0&&xe!==null&&!xe.m;if(e){var t=xe;(t.e??(t.e=[])).push({fn:r,effect:be,reaction:Ae})}else{var n=Ze(r);return n}}function Ll(r){return Oi(),dn(r)}function Rl(r){const e=Rr(Ir,r,!0);return(t={})=>new Promise(n=>{t.outro?kr(e,()=>{ft(e),n(void 0)}):(ft(e),n(void 0))})}function Ze(r){return Rr(gi,r,!1)}function dn(r){return Rr(cn,r,!0)}function J(r,e=[],t=Ee){const n=e.map(t);return sr(()=>r(...n.map(v)))}function sr(r,e=0){return Rr(cn|Fn|e,r,!0)}function Lt(r,e=!0){return Rr(cn|Et,r,!0,e)}function ji(r){var e=r.teardown;if(e!==null){const t=Qa,n=Ae;$s(!0),$t(null);try{e.call(null)}finally{$s(t),$t(n)}}}function Li(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){var n=t.next;ft(t,e),t=n}}function Nl(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&Et)===0&&ft(e),e=t}}function ft(r,e=!0){var t=!1;if((e||(r.f&el)!==0)&&r.nodes_start!==null){for(var n=r.nodes_start,a=r.nodes_end;n!==null;){var s=n===a?null:zn(n);n.remove(),n=s}t=!0}Li(r,e&&!t),en(r,0),vt(r,jr);var i=r.transitions;if(i!==null)for(const l of i)l.stop();ji(r);var o=r.parent;o!==null&&o.first!==null&&Ri(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function Ri(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function kr(r,e){var t=[];Ya(r,t,!0),Ni(t,()=>{ft(r),e&&e()})}function Ni(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var a of r)a.out(n)}else e()}function Ya(r,e,t){if((r.f&yt)===0){if(r.f^=yt,r.transitions!==null)for(const i of r.transitions)(i.is_global||t)&&e.push(i);for(var n=r.first;n!==null;){var a=n.next,s=(n.f&ar)!==0||(n.f&Et)!==0;Ya(n,e,s?t:!1),n=a}}}function Zr(r){Mi(r,!0)}function Mi(r,e){if((r.f&yt)!==0){r.f^=yt,(r.f&We)===0&&(r.f^=We),vn(r)&&(vt(r,Nt),Vn(r));for(var t=r.first;t!==null;){var n=t.next,a=(t.f&ar)!==0||(t.f&Et)!==0;Mi(t,a?e:!1),t=n}if(r.transitions!==null)for(const s of r.transitions)(s.is_global||e)&&s.in()}}let _a=!1,wa=[];function Ml(){_a=!1;const r=wa.slice();wa=[],ba(r)}function fn(r){_a||(_a=!0,queueMicrotask(Ml)),wa.push(r)}let Tn=!1,In=!1,On=null,yr=!1,Qa=!1;function ks(r){yr=r}function $s(r){Qa=r}let xa=[],Wr=0;let Ae=null,It=!1;function $t(r){Ae=r}let be=null;function it(r){be=r}let wt=null;function Dl(r){wt=r}let Xe=null,tt=0,Pt=null;function Bl(r){Pt=r}let Di=1,jn=0,tr=!1;function Bi(){return++Di}function hn(){return!Lr||xe!==null&&xe.l===null}function vn(r){var c;var e=r.f;if((e&Nt)!==0)return!0;if((e&Or)!==0){var t=r.deps,n=(e&xt)!==0;if(t!==null){var a,s,i=(e&An)!==0,o=n&&be!==null&&!tr,l=t.length;if(i||o){for(a=0;a<l;a++)s=t[a],(i||!((c=s==null?void 0:s.reactions)!=null&&c.includes(r)))&&(s.reactions??(s.reactions=[])).push(r);i&&(r.f^=An)}for(a=0;a<l;a++)if(s=t[a],vn(s)&&Ii(s),s.wv>r.wv)return!0}(!n||be!==null&&!tr)&&vt(r,We)}return!1}function Ul(r,e){for(var t=e;t!==null;){if((t.f&Cn)!==0)try{t.fn(r);return}catch{t.f^=Cn}t=t.parent}throw Tn=!1,r}function Fl(r){return(r.f&jr)===0&&(r.parent===null||(r.parent.f&Cn)===0)}function Hn(r,e,t,n){if(Tn){if(t===null&&(Tn=!1),Fl(e))throw r;return}t!==null&&(Tn=!0);{Ul(r,e);return}}function Ui(r,e,t=0){var n=r.reactions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];(s.f&dt)!==0?Ui(s,e,t+1):e===s&&(t===0?vt(s,Nt):(s.f&We)!==0&&vt(s,Or),Vn(s))}}function Fi(r){var h;var e=Xe,t=tt,n=Pt,a=Ae,s=tr,i=wt,o=xe,l=It,c=r.f;Xe=null,tt=0,Pt=null,Ae=(c&(Et|Ir))===0?r:null,tr=(c&xt)!==0&&(!yr||(a===null||l)&&r.parent!==null),wt=null,ys(r.ctx),It=!1,jn++;try{var u=(0,r.fn)(),d=r.deps;if(Xe!==null){var f;if(en(r,tt),d!==null&&tt>0)for(d.length=tt+Xe.length,f=0;f<Xe.length;f++)d[tt+f]=Xe[f];else r.deps=d=Xe;if(!tr)for(f=tt;f<d.length;f++)((h=d[f]).reactions??(h.reactions=[])).push(r)}else d!==null&&tt<d.length&&(en(r,tt),d.length=tt);if(hn()&&Pt!==null&&(r.f&(dt|Or|Nt))===0)for(f=0;f<Pt.length;f++)Ui(Pt[f],r);return a!==null&&jn++,u}finally{Xe=e,tt=t,Pt=n,Ae=a,tr=s,wt=i,ys(o),It=l}}function zl(r,e){let t=e.reactions;if(t!==null){var n=Jo.call(t,r);if(n!==-1){var a=t.length-1;a===0?t=e.reactions=null:(t[n]=t[a],t.pop())}}t===null&&(e.f&dt)!==0&&(Xe===null||!Xe.includes(e))&&(vt(e,Or),(e.f&(xt|An))===0&&(e.f^=An),Ka(e),en(e,0))}function en(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)zl(r,t[n])}function Xa(r){var e=r.f;if((e&jr)===0){vt(r,We);var t=be,n=xe;be=r;try{(e&Fn)!==0?Nl(r):Li(r),ji(r);var a=Fi(r);r.teardown=typeof a=="function"?a:null,r.wv=Di;var s=r.deps,i;bs&&dl&&r.f&Nt}catch(o){Hn(o,r,t,n||r.ctx)}finally{be=t}}}function ql(){if(Wr>1e3){Wr=0;try{sl()}catch(r){if(On!==null)Hn(r,On,null);else throw r}}Wr++}function Hl(r){var e=r.length;if(e!==0){ql();var t=yr;yr=!0;try{for(var n=0;n<e;n++){var a=r[n];(a.f&We)===0&&(a.f^=We);var s=[];zi(a,s),Vl(s)}}finally{yr=t}}}function Vl(r){var e=r.length;if(e!==0)for(var t=0;t<e;t++){var n=r[t];if((n.f&(jr|yt))===0)try{vn(n)&&(Xa(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Ri(n):n.fn=null))}catch(a){Hn(a,n,null,n.ctx)}}}function Wl(){if(In=!1,Wr>1001)return;const r=xa;xa=[],Hl(r),In||(Wr=0,On=null)}function Vn(r){In||(In=!0,queueMicrotask(Wl)),On=r;for(var e=r;e.parent!==null;){e=e.parent;var t=e.f;if((t&(Ir|Et))!==0){if((t&We)===0)return;e.f^=We}}xa.push(e)}function zi(r,e){var t=r.first,n=[];e:for(;t!==null;){var a=t.f,s=(a&Et)!==0,i=s&&(a&We)!==0,o=t.next;if(!i&&(a&yt)===0)if((a&cn)!==0){if(s)t.f^=We;else try{vn(t)&&Xa(t)}catch(d){Hn(d,t,null,t.ctx)}var l=t.first;if(l!==null){t=l;continue}}else(a&gi)!==0&&n.push(t);if(o===null){let d=t.parent;for(;d!==null;){if(r===d)break e;var c=d.next;if(c!==null){t=c;continue e}d=d.parent}}t=o}for(var u=0;u<n.length;u++)l=n[u],e.push(l),zi(l,e)}function v(r){var e=r.f,t=(e&dt)!==0;if(t&&(e&jr)!==0){var n=Ai(r);return Il(r),n}if(Ae!==null&&!It){wt!==null&&wt.includes(r)&&cl();var a=Ae.deps;r.rv<jn&&(r.rv=jn,Xe===null&&a!==null&&a[tt]===r?tt++:Xe===null?Xe=[r]:Xe.push(r))}else if(t&&r.deps===null&&r.effects===null){var s=r,i=s.parent;i!==null&&(i.f&xt)===0&&(s.f^=xt)}return t&&(s=r,vn(s)&&Ii(s)),r.v}function ht(r){var e=It;try{return It=!0,r()}finally{It=e}}const Gl=-7169;function vt(r,e){r.f=r.f&Gl|e}function Ss(r,e=1){var t=v(r),n=e===1?t++:t--;return R(r,t),n}function qi(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(_t in r)ka(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&_t in t&&ka(t)}}}function ka(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let n in r)try{ka(r[n],e)}catch{}const t=qa(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const n=vi(t);for(let a in n){const s=n[a].get;if(s)try{s.call(r)}catch{}}}}}function Jl(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const Kl=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Yl(r){return Kl.includes(r)}const Ql={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Xl(r){return r=r.toLowerCase(),Ql[r]??r}const Zl=["touchstart","touchmove"];function ec(r){return Zl.includes(r)}function tc(r,e){if(e){const t=document.body;r.autofocus=!0,fn(()=>{document.activeElement===t&&r.focus()})}}let Es=!1;function rc(){Es||(Es=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var e;if(!r.defaultPrevented)for(const t of r.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Hi(r){var e=Ae,t=be;$t(null),it(null);try{return r()}finally{$t(e),it(t)}}function Za(r,e,t,n=t){r.addEventListener(e,()=>Hi(t));const a=r.__on_r;a?r.__on_r=()=>{a(),n(!0)}:r.__on_r=()=>n(!0),rc()}const Vi=new Set,$a=new Set;function Wi(r,e,t,n={}){function a(s){if(n.capture||Hr.call(e,s),!s.cancelBubble)return Hi(()=>t==null?void 0:t.call(this,s))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?fn(()=>{e.addEventListener(r,a,n)}):e.addEventListener(r,a,n),a}function G(r,e,t,n,a){var s={capture:n,passive:a},i=Wi(r,e,t,s);(e===document.body||e===window||e===document)&&jl(()=>{e.removeEventListener(r,i,s)})}function Nr(r){for(var e=0;e<r.length;e++)Vi.add(r[e]);for(var t of $a)t(r)}function Hr(r){var $;var e=this,t=e.ownerDocument,n=r.type,a=(($=r.composedPath)==null?void 0:$.call(r))||[],s=a[0]||r.target,i=0,o=r.__root;if(o){var l=a.indexOf(o);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var c=a.indexOf(e);if(c===-1)return;l<=c&&(i=l)}if(s=a[i]||r.target,s!==e){Ko(r,"currentTarget",{configurable:!0,get(){return s||t}});var u=Ae,d=be;$t(null),it(null);try{for(var f,h=[];s!==null;){var b=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+n];if(g!==void 0&&!s.disabled)if(Un(g)){var[m,...y]=g;m.apply(s,[r,...y])}else g.call(s,r)}catch(S){f?h.push(S):f=S}if(r.cancelBubble||b===e||b===null)break;s=b}if(f){for(let S of h)queueMicrotask(()=>{throw S});throw f}}finally{r.__root=e,delete r.currentTarget,$t(u),it(d)}}}function es(r){var e=document.createElement("template");return e.innerHTML=r,e.content}function rr(r,e){var t=be;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function A(r,e){var t=(e&xl)!==0,n=(e&kl)!==0,a,s=!r.startsWith("<!>");return()=>{a===void 0&&(a=es(s?r:"<!>"+r),t||(a=bt(a)));var i=n?document.importNode(a,!0):a.cloneNode(!0);if(t){var o=bt(i),l=i.lastChild;rr(o,l)}else rr(i,i);return i}}function nc(r,e,t="svg"){var n=!r.startsWith("<!>"),a=`<${t}>${n?r:"<!>"+r}</${t}>`,s;return()=>{if(!s){var i=es(a),o=bt(i);s=bt(o)}var l=s.cloneNode(!0);return rr(l,l),l}}function aa(r=""){{var e=un(r+"");return rr(e,e),e}}function H(){var r=document.createDocumentFragment(),e=document.createComment(""),t=un();return r.append(e,t),rr(e,t),r}function _(r,e){r!==null&&r.before(e)}let Ln=!0;function Ts(r){Ln=r}function ie(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t==null?"":t+"")}function ac(r,e){return sc(r,e)}const lr=new Map;function sc(r,{target:e,anchor:t,props:n={},events:a,context:s,intro:i=!0}){Pl();var o=new Set,l=d=>{for(var f=0;f<d.length;f++){var h=d[f];if(!o.has(h)){o.add(h);var b=ec(h);e.addEventListener(h,Hr,{passive:b});var g=lr.get(h);g===void 0?(document.addEventListener(h,Hr,{passive:b}),lr.set(h,1)):lr.set(h,g+1)}}};l(za(Vi)),$a.add(l);var c=void 0,u=Rl(()=>{var d=t??e.appendChild(un());return Lt(()=>{if(s){ce({});var f=xe;f.c=s}a&&(n.$$events=a),Ln=i,c=r(d,n)||{},Ln=!0,s&&ue()}),()=>{var b;for(var f of o){e.removeEventListener(f,Hr);var h=lr.get(f);--h===0?(document.removeEventListener(f,Hr),lr.delete(f)):lr.set(f,h)}$a.delete(l),d!==t&&((b=d.parentNode)==null||b.removeChild(d))}});return ic.set(c,u),c}let ic=new WeakMap;function F(r,e,t=!1){var n=r,a=null,s=null,i=Ye,o=t?ar:0,l=!1;const c=(d,f=!0)=>{l=!0,u(f,d)},u=(d,f)=>{i!==(i=d)&&(i?(a?Zr(a):f&&(a=Lt(()=>f(n))),s&&kr(s,()=>{s=null})):(s?Zr(s):f&&(s=Lt(()=>f(n))),a&&kr(a,()=>{a=null})))};sr(()=>{l=!1,e(c),l||u(null,null)},o)}function ze(r,e){return e}function oc(r,e,t,n){for(var a=[],s=e.length,i=0;i<s;i++)Ya(e[i].e,a,!0);var o=s>0&&a.length===0&&t!==null;if(o){var l=t.parentNode;Cl(l),l.append(t),n.clear(),Ut(r,e[0].prev,e[s-1].next)}Ni(a,()=>{for(var c=0;c<s;c++){var u=e[c];o||(n.delete(u.k),Ut(r,u.prev,u.next)),ft(u.e,!o)}})}function Fe(r,e,t,n,a,s=null){var i=r,o={flags:e,items:new Map,first:null},l=(e&wi)!==0;if(l){var c=r;i=c.appendChild(un())}var u=null,d=!1,f=qn(()=>{var h=t();return Un(h)?h:h==null?[]:za(h)});sr(()=>{var h=v(f),b=h.length;if(!(d&&b===0)){d=b===0;{var g=Ae;lc(h,o,i,a,e,(g.f&yt)!==0,n,t)}s!==null&&(b===0?u?Zr(u):u=Lt(()=>s(i)):u!==null&&kr(u,()=>{u=null})),v(f)}})}function lc(r,e,t,n,a,s,i,o){var ae,X,de,_e;var l=(a&hl)!==0,c=(a&(Va|Wa))!==0,u=r.length,d=e.items,f=e.first,h=f,b,g=null,m,y=[],$=[],S,E,p,T;if(l)for(T=0;T<u;T+=1)S=r[T],E=i(S,T),p=d.get(E),p!==void 0&&((ae=p.a)==null||ae.measure(),(m??(m=new Set)).add(p));for(T=0;T<u;T+=1){if(S=r[T],E=i(S,T),p=d.get(E),p===void 0){var k=h?h.e.nodes_start:t;g=uc(k,e,g,g===null?e.first:g.next,S,E,T,n,a,o),d.set(E,g),y=[],$=[],h=g.next;continue}if(c&&cc(p,S,T,a),(p.e.f&yt)!==0&&(Zr(p.e),l&&((X=p.a)==null||X.unfix(),(m??(m=new Set)).delete(p))),p!==h){if(b!==void 0&&b.has(p)){if(y.length<$.length){var C=$[0],j;g=C.prev;var I=y[0],O=y[y.length-1];for(j=0;j<y.length;j+=1)Ps(y[j],C,t);for(j=0;j<$.length;j+=1)b.delete($[j]);Ut(e,I.prev,O.next),Ut(e,g,I),Ut(e,O,C),h=C,g=O,T-=1,y=[],$=[]}else b.delete(p),Ps(p,h,t),Ut(e,p.prev,p.next),Ut(e,p,g===null?e.first:g.next),Ut(e,g,p),g=p;continue}for(y=[],$=[];h!==null&&h.k!==E;)(s||(h.e.f&yt)===0)&&(b??(b=new Set)).add(h),$.push(h),h=h.next;if(h===null)continue;p=h}y.push(p),g=p,h=p.next}if(h!==null||b!==void 0){for(var q=b===void 0?[]:za(b);h!==null;)(s||(h.e.f&yt)===0)&&q.push(h),h=h.next;var ee=q.length;if(ee>0){var se=(a&wi)!==0&&u===0?t:null;if(l){for(T=0;T<ee;T+=1)(de=q[T].a)==null||de.measure();for(T=0;T<ee;T+=1)(_e=q[T].a)==null||_e.fix()}oc(e,q,se,d)}}l&&fn(()=>{var ye;if(m!==void 0)for(p of m)(ye=p.a)==null||ye.apply()}),be.first=e.first&&e.first.e,be.last=g&&g.e}function cc(r,e,t,n){(n&Va)!==0&&ya(r.v,e),(n&Wa)!==0?ya(r.i,t):r.i=t}function uc(r,e,t,n,a,s,i,o,l,c){var u=(l&Va)!==0,d=(l&vl)===0,f=u?d?Ja(a):Qe(a):a,h=(l&Wa)===0?i:Qe(i),b={i:h,v:f,k:s,a:null,e:null,prev:t,next:n};try{return b.e=Lt(()=>o(r,f,h,c),Ti),b.e.prev=t&&t.e,b.e.next=n&&n.e,t===null?e.first=b:(t.next=b,t.e.next=b.e),n!==null&&(n.prev=b,n.e.prev=b.e),b}finally{}}function Ps(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,a=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==n;){var i=zn(s);a.before(s),s=i}}function Ut(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Wn(r,e,t,n,a){var s=r,i="",o;sr(()=>{i!==(i=e()??"")&&(o!==void 0&&(ft(o),o=void 0),i!==""&&(o=Lt(()=>{var l=i+"";t&&(l=`<svg>${l}</svg>`);var c=es(l);if((t||n)&&(c=bt(c)),rr(bt(c),c.lastChild),t||n)for(;bt(c);)s.before(bt(c));else s.before(c)})))})}function Y(r,e,t,n,a){var o;var s=(o=e.$$slots)==null?void 0:o[t],i=!1;s===!0&&(s=e.children,i=!0),s===void 0||s(r,i?()=>n:n)}function Gi(r,e,...t){var n=r,a=qt,s;sr(()=>{a!==(a=e())&&(s&&(ft(s),s=null),s=Lt(()=>a(n,...t)))},ar)}function Gn(r,e,t){var n=r,a,s;sr(()=>{a!==(a=e())&&(s&&(kr(s),s=null),a&&(s=Lt(()=>t(n,a))))},ar)}function dc(r,e,t,n,a,s){var i,o,l=null,c=r,u;sr(()=>{const d=e()||null;var f=ki;d!==i&&(u&&(d===null?kr(u,()=>{u=null,o=null}):d===o?Zr(u):(ft(u),Ts(!1))),d&&d!==o&&(u=Lt(()=>{if(l=document.createElementNS(f,d),rr(l,l),n){var h=l.appendChild(un());n(l,h)}be.nodes_end=l,c.before(l)})),i=d,i&&(o=i),Ts(!0))},ar)}function at(r,e,t){Ze(()=>{var n=ht(()=>e(r,t==null?void 0:t())||{});if(t&&(n!=null&&n.update)){var a=!1,s={};dn(()=>{var i=t();qi(i),a&&_i(s,i)&&(s=i,n.update(i))}),a=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Ji(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=Ji(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function fc(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=Ji(r))&&(n&&(n+=" "),n+=e);return n}function ut(r){return typeof r=="object"?fc(r):r??""}function Ki(r,e){var t=r.__attributes??(r.__attributes={});t.value===(t.value=e??void 0)||r.value===e&&(e!==0||r.nodeName!=="PROGRESS")||(r.value=e??"")}function hc(r,e){var t=r.__attributes??(r.__attributes={});t.checked!==(t.checked=e??void 0)&&(r.checked=e)}function vc(r,e){e?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function ge(r,e,t,n){var a=r.__attributes??(r.__attributes={});a[e]!==(a[e]=t)&&(e==="style"&&"__styles"in r&&(r.__styles={}),e==="loading"&&(r[tl]=t),t==null?r.removeAttribute(e):typeof t!="string"&&Yi(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function $r(r,e,t,n,a=!1,s=!1,i=!1){var o=e||{},l=r.tagName==="OPTION";for(var c in e)c in t||(t[c]=null);t.class&&(t.class=ut(t.class));var u=Yi(r),d=r.__attributes??(r.__attributes={});for(const y in t){let $=t[y];if(l&&y==="value"&&$==null){r.value=r.__value="",o[y]=$;continue}var f=o[y];if($!==f){o[y]=$;var h=y[0]+y[1];if(h!=="$$"){if(h==="on"){const S={},E="$$"+y;let p=y.slice(2);var b=Yl(p);if(Jl(p)&&(p=p.slice(0,-7),S.capture=!0),!b&&f){if($!=null)continue;r.removeEventListener(p,o[E],S),o[E]=null}if($!=null)if(b)r[`__${p}`]=$,Nr([p]);else{let T=function(k){o[y].call(this,k)};o[E]=Wi(p,r,T,S)}else b&&(r[`__${p}`]=void 0)}else if(y==="style"&&$!=null)r.style.cssText=$+"";else if(y==="autofocus")tc(r,!!$);else if(y==="__value"||y==="value"&&$!=null)r.value=r[y]=r.__value=$;else if(y==="selected"&&l)vc(r,$);else{var g=y;a||(g=Xl(g));var m=g==="defaultValue"||g==="defaultChecked";if($==null&&!s&&!m)if(d[y]=null,g==="value"||g==="checked"){let S=r;if(g==="value"){let E=S.defaultValue;S.removeAttribute(g),S.defaultValue=E}else{let E=S.defaultChecked;S.removeAttribute(g),S.defaultChecked=E}}else r.removeAttribute(y);else m||u.includes(g)&&(s||typeof $!="string")?r[g]=$:typeof $!="function"&&ge(r,g,$)}y==="style"&&"__styles"in r&&(r.__styles={})}}}return o}var Cs=new Map;function Yi(r){var e=Cs.get(r.nodeName);if(e)return e;Cs.set(r.nodeName,e=[]);for(var t,n=r,a=Element.prototype;a!==n;){t=vi(n);for(var s in t)t[s].set&&e.push(s);n=qa(n)}return e}function $e(r,e,t){var n=r.__className,a=gc(e);(n!==a||Ti)&&(e==null?r.removeAttribute("class"):r.className=a,r.__className=a)}function gc(r,e){return(r??"")+""}function pc(r,e,t){if(t){if(r.classList.contains(e))return;r.classList.add(e)}else{if(!r.classList.contains(e))return;r.classList.remove(e)}}const mc=()=>performance.now(),Ct={tick:r=>requestAnimationFrame(r),now:()=>mc(),tasks:new Set};function Qi(){const r=Ct.now();Ct.tasks.forEach(e=>{e.c(r)||(Ct.tasks.delete(e),e.f())}),Ct.tasks.size!==0&&Ct.tick(Qi)}function bc(r){let e;return Ct.tasks.size===0&&Ct.tick(Qi),{promise:new Promise(t=>{Ct.tasks.add(e={c:r,f:t})}),abort(){Ct.tasks.delete(e)}}}function yn(r,e){r.dispatchEvent(new CustomEvent(e))}function yc(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function As(r){const e={},t=r.split(";");for(const n of t){const[a,s]=n.split(":");if(!a||s===void 0)break;const i=yc(a.trim());e[i]=s.trim()}return e}const _c=r=>r;function Sr(r,e,t,n){var a=(r&yl)!==0,s=(r&_l)!==0,i=a&&s,o=(r&wl)!==0,l=i?"both":a?"in":"out",c,u=e.inert,d=e.style.overflow,f,h;function b(){var S=Ae,E=be;$t(null),it(null);try{return c??(c=t()(e,(n==null?void 0:n())??{},{direction:l}))}finally{$t(S),it(E)}}var g={is_global:o,in(){var S;if(e.inert=u,!a){h==null||h.abort(),(S=h==null?void 0:h.reset)==null||S.call(h);return}s||f==null||f.abort(),yn(e,"introstart"),f=Sa(e,b(),h,1,()=>{yn(e,"introend"),f==null||f.abort(),f=c=void 0,e.style.overflow=d})},out(S){if(!s){S==null||S(),c=void 0;return}e.inert=!0,yn(e,"outrostart"),h=Sa(e,b(),f,0,()=>{yn(e,"outroend"),S==null||S()})},stop:()=>{f==null||f.abort(),h==null||h.abort()}},m=be;if((m.transitions??(m.transitions=[])).push(g),a&&Ln){var y=o;if(!y){for(var $=m.parent;$&&($.f&ar)!==0;)for(;($=$.parent)&&($.f&Fn)===0;);y=!$||($.f&pi)!==0}y&&Ze(()=>{ht(()=>g.in())})}}function Sa(r,e,t,n,a){var s=n===1;if(mr(e)){var i,o=!1;return fn(()=>{if(!o){var m=e({direction:s?"in":"out"});i=Sa(r,m,t,n,a)}}),{abort:()=>{o=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return a(),{abort:qt,deactivate:qt,reset:qt,t:()=>n};const{delay:l=0,css:c,tick:u,easing:d=_c}=e;var f=[];if(s&&t===void 0&&(u&&u(0,1),c)){var h=As(c(0,1));f.push(h,h)}var b=()=>1-n,g=r.animate(f,{duration:l});return g.onfinish=()=>{var m=(t==null?void 0:t.t())??1-n;t==null||t.abort();var y=n-m,$=e.duration*Math.abs(y),S=[];if($>0){var E=!1;if(c)for(var p=Math.ceil($/16.666666666666668),T=0;T<=p;T+=1){var k=m+y*d(T/p),C=As(c(k,1-k));S.push(C),E||(E=C.overflow==="hidden")}E&&(r.style.overflow="hidden"),b=()=>{var j=g.currentTime;return m+y*d(j/$)},u&&bc(()=>{if(g.playState!=="running")return!1;var j=b();return u(j,1-j),!0})}g=r.animate(S,{duration:$,fill:"forwards"}),g.onfinish=()=>{b=()=>n,u==null||u(n,1-n),a()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=qt)},deactivate:()=>{a=qt},reset:()=>{n===0&&(u==null||u(1,0))},t:()=>b()}}function Ve(r,e,t=e){var n=hn();Za(r,"input",a=>{var s=a?r.defaultValue:r.value;if(s=sa(r)?ia(s):s,t(s),n&&s!==(s=e())){var i=r.selectionStart,o=r.selectionEnd;r.value=s??"",o!==null&&(r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length))}}),ht(e)==null&&r.value&&t(sa(r)?ia(r.value):r.value),dn(()=>{var a=e();sa(r)&&a===ia(r.value)||r.type==="date"&&!a&&!r.value||a!==r.value&&(r.value=a??"")})}function wc(r,e,t=e){Za(r,"change",n=>{var a=n?r.defaultChecked:r.checked;t(a)}),ht(e)==null&&t(r.checked),dn(()=>{var n=e();r.checked=!!n})}function sa(r){var e=r.type;return e==="number"||e==="range"}function ia(r){return r===""?null:+r}function Xi(r,e,t){if(r.multiple)return $c(r,e);for(var n of r.options){var a=Gr(n);if(Tl(a,e)){n.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function xc(r,e){Ze(()=>{var t=new MutationObserver(()=>{var n=r.__value;Xi(r,n)});return t.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function kc(r,e,t=e){var n=!0;Za(r,"change",a=>{var s=a?"[selected]":":checked",i;if(r.multiple)i=[].map.call(r.querySelectorAll(s),Gr);else{var o=r.querySelector(s)??r.querySelector("option:not([disabled])");i=o&&Gr(o)}t(i)}),Ze(()=>{var a=e();if(Xi(r,a,n),n&&a===void 0){var s=r.querySelector(":checked");s!==null&&(a=Gr(s),t(a))}r.__value=a,n=!1}),xc(r)}function $c(r,e){for(var t of r.options)t.selected=~e.indexOf(Gr(t))}function Gr(r){return"__value"in r?r.__value:r.value}function Is(r,e){return r===e||(r==null?void 0:r[_t])===e}function Jn(r={},e,t,n){return Ze(()=>{var a,s;return dn(()=>{a=s,s=[],ht(()=>{r!==t(...s)&&(e(r,...s),a&&Is(t(...a),r)&&e(null,...a))})}),()=>{fn(()=>{s&&Is(t(...s),r)&&e(null,...s)})}}),r}function Er(r){return function(...e){var t=e[0];return t.stopPropagation(),r==null?void 0:r.apply(this,e)}}function Jr(r){return function(...e){var t=e[0];return t.preventDefault(),r==null?void 0:r.apply(this,e)}}function gt(r=!1){const e=xe,t=e.l.u;if(!t)return;let n=()=>qi(e.s);if(r){let a=0,s={};const i=Ee(()=>{let o=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],o=!0);return o&&a++,a});n=()=>v(i)}t.b.length&&Ll(()=>{Os(e,n),ba(t.b)}),kt(()=>{const a=ht(()=>t.m.map(Xo));return()=>{for(const s of a)typeof s=="function"&&s()}}),t.a.length&&kt(()=>{Os(e,n),ba(t.a)})}function Os(r,e){if(r.l.s)for(const t of r.l.s)v(t);e()}function ts(r,e){var s;var t=(s=r.$$events)==null?void 0:s[e.type],n=Un(t)?t.slice():t==null?[]:[t];for(var a of n)a.call(this,e)}let _n=!1;function Sc(r){var e=_n;try{return _n=!1,[r(),_n]}finally{_n=e}}const Ec={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function gn(r,e,t){return new Proxy({props:r,exclude:e},Ec)}const Tc={get(r,e){if(!r.exclude.includes(e))return v(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,t){return e in r.special||(r.special[e]=z({get[e](){return r.props[e]}},e,xi)),r.special[e](t),Ss(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),Ss(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Q(r,e){return new Proxy({props:r,exclude:e,special:{},version:Qe(0)},Tc)}const Pc={get(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(mr(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n)return n[e]}},set(r,e,t){let n=r.props.length;for(;n--;){let a=r.props[n];mr(a)&&(a=a());const s=Vt(a,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(mr(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n){const a=Vt(n,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(r,e){if(e===_t||e===bi)return!1;for(let t of r.props)if(mr(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props){mr(t)&&(t=t());for(const n in t)e.includes(n)||e.push(n)}return e}};function re(...r){return new Proxy({props:r},Pc)}function js(r){for(var e=be,t=be;e!==null&&(e.f&(Et|Ir))===0;)e=e.parent;try{return it(e),r()}finally{it(t)}}function z(r,e,t,n){var k;var a=(t&gl)!==0,s=!Lr||(t&pl)!==0,i=(t&ml)!==0,o=(t&bl)!==0,l=!1,c;i?[c,l]=Sc(()=>r[e]):c=r[e];var u=_t in r||bi in r,d=i&&(((k=Vt(r,e))==null?void 0:k.set)??(u&&e in r&&(C=>r[e]=C)))||void 0,f=n,h=!0,b=!1,g=()=>(b=!0,h&&(h=!1,o?f=ht(n):f=n),f);c===void 0&&n!==void 0&&(d&&s&&il(),c=g(),d&&d(c));var m;if(s)m=()=>{var C=r[e];return C===void 0?g():(h=!0,b=!1,C)};else{var y=js(()=>(a?Ee:qn)(()=>r[e]));y.f|=Zo,m=()=>{var C=v(y);return C!==void 0&&(f=void 0),C===void 0?f:C}}if((t&xi)===0)return m;if(d){var $=r.$$legacy;return function(C,j){return arguments.length>0?((!s||!j||$||l)&&d(j?m():C),C):m()}}var S=!1,E=!1,p=Ja(c),T=js(()=>Ee(()=>{var C=m(),j=v(p);return S?(S=!1,E=!0,j):(E=!1,p.v=C)}));return a||(T.equals=Ha),function(C,j){if(arguments.length>0){const I=j?v(T):s&&i?W(C):C;return T.equals(I)||(S=!0,R(p,I),b&&f!==void 0&&(f=I),ht(()=>v(T))),C}return v(T)}}function ot(r){xe===null&&Ga(),Lr&&xe.l!==null?Ac(xe).m.push(r):kt(()=>{const e=ht(r);if(typeof e=="function")return e})}function Cc(r){xe===null&&Ga(),ot(()=>()=>ht(r))}function Ac(r){var e=r.l;return e.u??(e.u={a:[],b:[],m:[]})}const Ic="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ic);fl();const Z={string:"string",number:"number",boolean:"boolean",null:"null",undefined:"undefined",regexp:"regexp",function:"function",object:"object",array:"array",promise:"promise",unknown:"unknown"},oa=r=>r===null?Z.null:r===void 0?Z.undefined:r instanceof RegExp?Z.regexp:typeof r=="string"?Z.string:typeof r=="number"?Z.number:typeof r=="boolean"?Z.boolean:Array.isArray(r)?Z.array:typeof r=="function"?Z.function:typeof r=="object"?Z.object:Z.unknown,Ot=r=>{var e;if(typeof r=="string"){if(r.match(/^[\d.-]+$/))return Number.isNaN(Number.parseFloat(r))?Number.isNaN(Number.parseInt(r))?{identity:Z.string,value:r}:{identity:Z.number,value:Number.parseInt(r)}:{identity:Z.number,value:Number.parseFloat(r)};if(!r.includes(",")&&(r.includes("&")||r.includes("="))){const t=r.split(/[&,]/),n={};for(const a of t){if(!a.includes("="))continue;const[s,i]=a.split("="),o=s.replace(/\[\d*\]$/,""),l=Ot(i);if(s.includes("[")){Array.isArray(n[o])||(n[o]=[]);const c=(e=s.match(/\[(\d+)\]/))==null?void 0:e[1];c?(Array.isArray(n[o])||(n[o]=[]),n[o].push([parseInt(c),l.value])):n[o].push(l.value)}else n[o]=l.value}for(const[a,s]of Object.entries(n))Array.isArray(s)&&s.length>0&&Array.isArray(s[0])&&(n[a]=s.sort((i,o)=>i[0]-o[0]).map(([,i])=>i));return{identity:Z.object,value:n}}else if(r.includes("&")&&r.includes("=")){const t={};for(const n of r.split("&")){if(!n.includes("="))continue;const[a,s]=n.split("=");t[a]=s}return{identity:Z.object,value:t}}else if(r.match(/^[0-9a-z]+\[\d+\]=.+$/)){const[,t,n]=r.match(/^[0-9a-z]+\[(\d+)\]=(.+)$/)||[];if(t!==void 0&&n!==void 0){const a=[],s=Ot(n);return a[parseInt(t,10)]=s.value,{identity:Z.array,value:a}}}else if(r.match(/^[0-9a-z]+\[\]$/))return{identity:Z.array,value:r};return r.match(/^true$/i)?{identity:Z.boolean,value:!0}:r.match(/^false$/i)?{identity:Z.boolean,value:!1}:{identity:Z.string,value:r}}else{if(typeof r=="number")return{identity:Z.number,value:r};if(r instanceof RegExp)return{identity:Z.regexp,value:r};if(typeof r=="boolean")return{identity:Z.boolean,value:r};if(r===null)return{identity:Z.null,value:null};if(r===void 0)return{identity:Z.undefined,value:void 0};if(Array.isArray(r))return{identity:Z.array,value:r};if(typeof r=="object"){const t=Object.entries(r).reduce((n,[a,s])=>{var i;return n[a]=(i=Ot(s))==null?void 0:i.value,n},{});return{identity:Z.object,value:t}}else{if(typeof r=="function")return{identity:Z.function,value:r};if(r instanceof Promise)return{identity:Z.promise,value:r}}}throw new Error(`unable to marshal value: ${r} (it is neither a string, number, boolean, nor a regular expression)`)},la=["exact-match","base-match","default-match","permitted-no-conditions"];var tn;(function(r){r.any={[Z.string]:(e,t)=>e===t,[Z.number]:(e,t)=>e===t,[Z.boolean]:(e,t)=>e===t,[Z.promise]:(e,t)=>e===t,[Z.function]:(e,t)=>e===t,[Z.null]:(e,t)=>e===t,[Z.undefined]:(e,t)=>e===t,[Z.unknown]:(e,t)=>e===t,[Z.array]:(e,t)=>Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((n,a)=>r.any[oa(n)](n,t[a])),[Z.object]:(e,t)=>{if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(e),a=Object.keys(t);return n.length!==a.length?!1:n.every(s=>r.any[oa(e[s])](e[s],t[s]))},[Z.regexp]:(e,t)=>{const n=e.exec(t);return n?n.groups?Ot(n.groups).value:n.length===1&&n[0]===n.input?!0:Ot(n.slice(1)[0]).value:!1}},r.valid={[Z.string]:e=>e.length>0,[Z.boolean]:e=>e===!1,[Z.number]:e=>!isNaN(e),[Z.array]:e=>Array.isArray(e)&&e.length>0,[Z.object]:e=>{if(typeof e!="object"||e===null)return!0;const t=Object.keys(e);return t.length===0?!0:t.every(a=>{const s=e[a],i=oa(s);return r.valid[i](s)})},[Z.regexp]:e=>e instanceof RegExp,[Z.function]:e=>typeof e=="function",[Z.null]:()=>!1,[Z.undefined]:()=>!1}})(tn||(tn={}));const St=(r,e)=>{const t=new URL(r,window.location.origin);e&&Object.entries(e).forEach(([n,a])=>{t.searchParams.set(n,a)}),window.history.pushState({},"",t.toString())};class Rn{constructor(e){le(this,"params",{});le(this,"original");if(typeof e=="string"&&(this.original=e),e){const t=Ot(e);t.value&&(this.params=t.value)}}get(e,t){return this.params[e]||t}set(e,t){}delete(e){delete this.params[e]}clear(){this.params={}}goto(e){St(e,this.params)}test(e){if(typeof e=="object"){const t={};for(const[n,a]of Object.entries(e.params))if(this.params[n]){const s=Ot(this.params[n]);if(a instanceof RegExp){const i=tn.any[Z.regexp](a,this.params[n]);if(i)t[n]=i;else return{condition:"no-match"}}else s.identity===Z.number?s.value===this.params[n]&&(t[n]=s.value):s.identity===Z.string?t[n]=s.value===this.params[n]:s.identity===Z.boolean?t[n]=s.value===!!this.params[n]:s.identity===Z.array&&(t[n]=s.value.includes(this.params[n]))}else return{condition:"no-match"};return Object.keys(t).length===Object.keys(e).length&&tn.valid[Z.object](t)?{condition:"exact-match",matches:Ot(t).value}:{condition:Object.keys(t).length>1&&Object.keys(e).length!==Object.keys(t).length?"exact-match":"no-match",matches:t}}}toString(){const e=t=>Array.isArray(t)?t.map(n=>e(n)).join(","):typeof t=="object"&&t!==null?Object.entries(t).map(([n,a])=>`${n}:${e(a)}`).join(","):encodeURIComponent(t);return Object.entries(this.params).map(([t,n])=>`${encodeURIComponent(t)}=${e(n)}`).join("&")}toJSON(e){return Object.fromEntries(Object.entries(this.params).map(([t,n])=>[t,n.toString()]))}}var Nn;(function(r){r.parse=e=>{if(e){const[t,n=""]=e.split("#"),[a,s=""]=n.split("?");return{path:a,query:new Rn(s),hash:n}}}})(Nn||(Nn={}));const Mn=r=>(r&&!r.startsWith("/")&&(r="/"+r),r);var Tr;(function(r){r.parse=e=>{if(e===void 0||e.length===0)throw new Error(`invalid URL: ${e}`);if(e.includes("://")){const[n,a]=e.split("://"),s=a.match(/^([^/:]+)(?::(\d+))?(.*)$/),[i,o,l]=(s==null?void 0:s.slice(1))??[],[c,u=""]=(l||"").split("?"),d=Nn.parse(e);return{protocol:n,host:i,port:o,path:Mn(c)||"/",query:new Rn(u),hash:d}}else{const[n,a=""]=e.split("?"),s=Nn.parse(e);return{protocol:window.location.protocol.replace(":",""),host:window.location.hostname,port:window.location.port,path:Mn(n)||"/",query:new Rn(a),hash:s}}},r.path=e=>e.split("?")[0]})(Tr||(Tr={}));const Ls=(r,e,t)=>{var a,s,i,o,l,c,u,d,f,h,b,g,m,y,$,S;const n=Tr.parse(location.toString());(r.path===n.path||r.path===n.hash.path||r.hash.path===n.path||!((a=e.active)!=null&&a.absolute)&&n.path.startsWith(r.path))&&((s=e.active)!=null&&s.querystring||((i=e.active)==null?void 0:i.querystring)===void 0)&&(r.query.original==""||r.query.original===location.search.replace("?","")||r.query.original===n.hash.query.original)?(Array.isArray((o=e.active)==null?void 0:o.class)?t.classList.add(...(l=e.active)==null?void 0:l.class):t.classList.add((c=e.active)==null?void 0:c.class),(u=e.default)!=null&&u.class&&t.classList.remove(...(d=e.default)==null?void 0:d.class)):Array.isArray((f=e.active)==null?void 0:f.class)?(t.classList.remove(...(h=e.active)==null?void 0:h.class),(b=e.default)!=null&&b.class&&t.classList.add(...(g=e.default)==null?void 0:g.class)):((m=e.active)!=null&&m.class&&t.classList.remove((y=e.active)==null?void 0:y.class),($=e.default)!=null&&$.class&&t.classList.add(...(S=e.default)==null?void 0:S.class))},He=(r,e={})=>{let t=Tr.parse(r.href);const n=()=>{Ls(t,e,r)},a=s=>{s.preventDefault(),window.history.pushState({},"",r.href),Ls(t,e,r)};return n(),r.addEventListener("click",a),window.addEventListener("pushState",n),{destroy(){r.removeEventListener("click",a),window.removeEventListener("pushState",n)}}};var ct;(function(r){r.config=e=>{var t,n,a;return{tracing:(e==null?void 0:e.tracing)||void 0||!1,logging:{level:((t=e==null?void 0:e.logging)==null?void 0:t.level)||void 0||4,console:((n=e==null?void 0:e.logging)==null?void 0:n.console)||void 0,sink:((a=e==null?void 0:e.logging)==null?void 0:a.sink)||void 0}}},r.current=r.config()})(ct||(ct={}));var rn;(function(r){let e;(function(t){t[t.FATAL=-1]="FATAL",t[t.ERROR=1]="ERROR",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.TRACE=4]="TRACE",t[t.DISABLED=5]="DISABLED"})(e=r.LogLevel||(r.LogLevel={})),r.info=(...t)=>{r.log(e.INFO,...t)},r.debug=(...t)=>{r.log(e.DEBUG,...t)},r.error=(...t)=>{r.log(e.ERROR,...t)},r.trace=(...t)=>{r.log(e.TRACE,...t)},r.fatal=(...t)=>{throw r.log(e.FATAL,...t),new Error("Fatal error")},r.log=(t,...n)=>{t<=ct.current.logging.level&&t!==e.DISABLED&&(ct.current.logging.console&&(n.some(a=>a==null?void 0:a.toConsole)?n.forEach(a=>{var s;return(s=a==null?void 0:a.toConsole)==null?void 0:s.call(a,ct.current.logging.level)}):ct.current.logging.console&&console.log(...n)),ct.current.logging.sink&&ct.current.logging.sink(n))}})(rn||(rn={}));function Oc(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}const Rs=async r=>Oc(r)?await r():r();var nt,wr,Pn;class rs extends Map{constructor(){super(...arguments);Qt(this,wr);Qt(this,nt,oe(!1))}get size(){return v(Ne(this,nt)),super.size}add(t,n){if(this.has(t))throw new Error(`key ${t} already exists`);return this.set(t,n)}get(t){return v(Ne(this,nt)),super.get(t)}set(t,n){const a=super.set(t,n);return bn(this,wr,Pn).call(this),a}delete(t){const n=super.delete(t);return n&&bn(this,wr,Pn).call(this),n}clear(){const t=super.clear();return bn(this,wr,Pn).call(this),t}keys(){return v(Ne(this,nt)),super.keys()}values(){return v(Ne(this,nt)),super.values()}entries(){return v(Ne(this,nt)),super.entries()}forEach(t){return v(Ne(this,nt)),super.forEach(t)}[Symbol.iterator](){return v(Ne(this,nt)),super[Symbol.iterator]()}}nt=new WeakMap,wr=new WeakSet,Pn=function(){R(Ne(this,nt),!v(Ne(this,nt)))};var an;class jc{constructor(e,t){le(this,"prefix");le(this,"id");le(this,"date");le(this,"name");le(this,"description");le(this,"metadata");Qt(this,an,oe(W(new rs)));this.prefix=t,this.name=e.name,this.id=e.id||Math.random().toString(36).substring(2,25),this.description=e.description,this.metadata=e.metadata,this.date=e.date||new Date}get traces(){return v(Ne(this,an))}set traces(e){R(Ne(this,an),W(e))}trace(e,t){const n=e.id||Math.random().toString(36).substring(2,25);return e=new Lc(e,this.traces.size+1,this,t),this.traces.set(n,e),rn.trace(t,e),e}get(){return this.traces.values()}}an=new WeakMap;class Lc{constructor(e,t,n,a){le(this,"prefix");le(this,"id");le(this,"index");le(this,"date");le(this,"name");le(this,"description");le(this,"metadata");le(this,"span");this.id=e.id||Math.random().toString(36).substring(2,25),this.index=t,this.date=e.date||new Date,this.name=e.name,this.description=e.description,this.metadata=e.metadata,this.span=n,this.prefix=e.prefix}toConsole(e){var n,a,s;const t=["%c%s %cspan:%c%s:%ctrace:%c%s%c:%c%s %c%s","color: #505050",(n=this.date)==null?void 0:n.toISOString(),"color: #7A7A7A","color: #915CF2; font-weight: bold",((a=this.span)==null?void 0:a.name)||this.id,"color: #7A7A7A; font-weight: bold","color: #C3F53B; font-weight: bold",this.index,"color: #7A7A7A; font-weight: bold","color: #3BAEF5; font-weight: bold",`${(s=this.metadata)!=null&&s.router?`[${this.metadata.router.id}] `:""}${this.name}`,"color: #06E96C",this.description];this.prefix&&(t[0]=`${this.prefix} %c%s %cspan:%c%s:%ctrace:%c%s%c:%c%s %c%s`),ct.current.tracing.level===rn.LogLevel.TRACE?(t[0]+=`
%c%s`,t.push("color: #6B757F",`attached trace metadata:

${JSON.stringify({span:this.span.metadata,trace:this.metadata},null,2)}`)):ct.current.tracing.level===rn.LogLevel.DEBUG&&(this.span&&t.push(this.span.metadata),this.metadata&&t.push(this.metadata)),console.log(...t)}}const Rc=new rs,Zi=(r,e)=>{if(ct.current.tracing){const t=new jc({name:r,metadata:e});return Rc.set(r,t),t}};var Ea;(function(r){r.base=(e,t)=>t.match(new RegExp(`^${e}(/|$)`))!==null})(Ea||(Ea={}));var Dn;(function(r){r.from=e=>{if(typeof e=="string")return new RegExp(e);if(e instanceof RegExp)return new RegExp(e.source);throw new Error("invalid regexp expression")},r.can=e=>/[[\]{}()*+?.,\\^$|#\s]|\\[wWdDsS]|\(\?[:!=<]?/.test(e)})(Dn||(Dn={}));class ca{constructor(e){le(this,"router");le(this,"route");le(this,"result");this.router=e.router,this.route=e.route,this.result=e.result}absolute(e=this.router.config.basePath){return e?`${e}${this.result.path.original}`:this.result.path.original}toString(){return`${this.absolute()}${this.result.querystring.original?`?${this.result.querystring.original}`:""}`}}var sn;const vs=class vs{constructor(e){le(this,"name");le(this,"basePath");le(this,"path");le(this,"querystring");le(this,"component");le(this,"props");le(this,"hooks");le(this,"children");le(this,"status");Qt(this,sn,oe(W([])));var t;this.name=e.name,this.basePath=e.basePath,this.path=typeof e.path=="string"?Mn(e.path):e.path,e.querystring&&(this.querystring=new Rn(e.querystring)),this.component=e.component,this.props=e.props,this.hooks=e.hooks,this.status=e.status,this.children=(t=e.children)==null?void 0:t.map(n=>new vs(n))}get traces(){return v(Ne(this,sn))}set traces(e){R(Ne(this,sn),W(e))}test(e){const t=Tr.path(e.toString());if(typeof this.path=="string")if(Dn.can(this.path)){const n=Dn.from(this.path).exec(t);if(n)return{condition:"exact-match",params:n.groups}}else{if(this.path===t)return{condition:"exact-match",params:this.path};if(Ea.base(this.path,t))return{condition:"base-match",params:{}}}else if(this.path instanceof RegExp){const n=tn.any[Z.regexp](this.path,t);if(n)return{condition:"exact-match",params:n}}else if(typeof this.path=="number"&&this.path===Ot(t).value)throw new Error("numbered route match not supported at the route.path level");return{condition:"no-match",params:{}}}absolute(){return this.basePath?`${this.basePath}${this.path}`:this.path.toString()}};sn=new WeakMap;let Ta=vs;class Nc{constructor(e){le(this,"id");le(this,"basePath");le(this,"routes");le(this,"hooks");le(this,"initialPath");le(this,"notFoundComponent");le(this,"children");le(this,"statuses");le(this,"renavigation");this.id=e.id||Math.random().toString(36).substring(2,15),this.basePath=e.basePath,this.hooks=e.hooks,this.initialPath=e.initialPath,this.notFoundComponent=e.notFoundComponent,this.statuses=e.statuses,this.routes=e.routes}}var Ft;(function(r){r[r.OK=200]="OK",r[r.PermanentRedirect=301]="PermanentRedirect",r[r.TemporaryRedirect=302]="TemporaryRedirect",r[r.BadRequest=400]="BadRequest",r[r.Unauthorized=401]="Unauthorized",r[r.Forbidden=403]="Forbidden",r[r.NotFound=404]="NotFound",r[r.InternalServerError=500]="InternalServerError"})(Ft||(Ft={}));var on,ln;class Mc{constructor(e,t){le(this,"id");le(this,"routes",new Set);le(this,"handlers");le(this,"config");le(this,"applyFn");Qt(this,on,oe(!1));Qt(this,ln,oe());this.id=e.id||Math.random().toString(36).substring(2,15),this.config=e,this.applyFn=t,this.handlers={pushStateHandler:()=>this.handleStateChange(location.toString()),replaceStateHandler:()=>this.handleStateChange(location.toString()),popStateHandler:()=>this.handleStateChange(location.toString()),hashChangeHandler:()=>this.handleStateChange(location.toString())},window.addEventListener("pushState",this.handlers.pushStateHandler),window.addEventListener("replaceState",this.handlers.replaceStateHandler),window.addEventListener("popstate",this.handlers.popStateHandler),window.addEventListener("hashchange",this.handlers.hashChangeHandler);for(let n of e.routes)this.routes.add(new Ta({...n,basePath:n.basePath||this.config.basePath}))}get navigating(){return v(Ne(this,on))}set navigating(e){R(Ne(this,on),W(e))}get current(){return v(Ne(this,ln))}set current(e){R(Ne(this,ln),W(e))}async handleStateChange(e,t){var i,o,l,c,u,d;const{path:n,query:a}=Tr.parse(e);this.navigating=!0,t||(t=Zi("detected history change event")),t==null||t.trace({prefix:"",name:"router-instance.handleStateChange",description:`attempting to handle a new state change for path "${n}"`,metadata:{router:{id:this.config.id,basePath:this.config.basePath},location:"/src/lib/router-instance.svelte:handleStateChange()",basePath:this.config.basePath,path:n,query:a,url:e}});const s=await this.get(n,a,t);if(s&&la.includes(s.result.path.condition)){if(t==null||t.trace({prefix:"",name:"router-instance.handleStateChange",description:`route found for path "${n}"`,metadata:{location:"/src/lib/router-instance.svelte:handleStateChange()",router:{id:this.config.id,basePath:this.config.basePath},path:n,query:(a==null?void 0:a.params)||!1,route:s,url:e}}),(i=this.config.hooks)!=null&&i.pre&&!await this.evaluateHooks(s,this.config.hooks.pre)){this.navigating=!1;return}if((l=(o=s.route)==null?void 0:o.hooks)!=null&&l.pre&&!await this.evaluateHooks(s,s.route.hooks.pre)){this.navigating=!1;return}if(this.applyFn(s,t),s&&((u=(c=s.route)==null?void 0:c.hooks)!=null&&u.post)&&!await this.evaluateHooks(s,s.route.hooks.post)){this.navigating=!1;return}(d=this.config.hooks)!=null&&d.post&&await this.evaluateHooks(s,this.config.hooks.post),this.current=s}this.navigating=!1}async evaluateHooks(e,t){if(Array.isArray(t))for(const n of t){if(!await Rs(()=>n(e)))return!1;await new Promise(a=>setTimeout(a,50))}else if(!await Rs(()=>t(e)))return!1;return!0}async get(e,t,n){var o;e=e.replace("/#","");const a=Mn(e.replace(this.config.basePath||"/","")),s=l=>{const c=Array.from(this.routes).find(u=>!u.path||u.path===""||u.path==="/");if(n==null||n.trace({prefix:c?"":"",name:"router-instance.getDefaultRoute",description:`get default route because "${l}"`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,route:c}}),c)return new ca({router:this,route:c,result:{path:{condition:"default-match",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},component:c.component,status:Ft.OK}})};if(n==null||n.trace({prefix:"",name:"router-instance.get",description:`${this.config.id} with base path "${this.config.basePath||"/"}" is attempting to get a route for path "${e}"`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a}}),this.config.basePath===e)return s("base path is the same as the path");let i;for(const l of this.routes){const c=l.test(a);if(c&&la.includes(c.condition))if(n==null||n.trace({prefix:"",name:"router-instance.get:routesloop",description:`${c.condition} for inbound path "${e}"${l.name?` (named: "${l.name}")`:""}`,metadata:{location:"/src/lib/router-instance.svelte:get():forloop",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,route:l,evaluation:{path:c}}}),l.querystring&&t){const u=t.test(l.querystring);la.includes(u==null?void 0:u.condition)&&(n==null||n.trace({prefix:"",name:"router-instance.get.evaluateQuery",description:`${u==null?void 0:u.condition} evaluating querystring "${t==null?void 0:t.toString()}" for the route "${e}"${l.name?` (named: "${l.name}")`:""}`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,evaluation:{path:c,querystring:u}}}),i=new ca({router:this,route:l,result:{path:{...c,original:a},querystring:{...u,original:t.toJSON()},component:l.component,status:Ft.OK}}))}else i=new ca({router:this,route:l,result:{path:{...c,original:a},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},component:l.component,status:Ft.OK}})}if(e==="/")return s("no routes match, last resort is to find a default route");if(!i&&((o=this.config.statuses)!=null&&o[404])){const l=this.config.statuses[404];return typeof l=="function"?{result:{...l({router:this,result:{path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Ft.NotFound}},n),path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Ft.NotFound},router:this}:{result:{...l,path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Ft.NotFound},router:this}}return i}deregister(e){window.removeEventListener("pushState",this.handlers.pushStateHandler),window.removeEventListener("replaceState",this.handlers.replaceStateHandler),window.removeEventListener("popstate",this.handlers.popStateHandler),window.removeEventListener("hashchange",this.handlers.hashChangeHandler),eo.deregister(this.config.id,e)}}on=new WeakMap,ln=new WeakMap;class Dc{constructor(){le(this,"instances",new rs);if(window.__SVELTE_SPA_ROUTER_REGISTERED__)return window.__SVELTE_SPA_ROUTER_REGISTERED__;window.__SVELTE_SPA_ROUTER_REGISTERED__=this;const{pushState:e,replaceState:t}=window.history;window.history.pushState=function(...n){e.apply(window.history,n),window.dispatchEvent(new Event("pushState"))},window.history.replaceState=function(...n){t.apply(window.history,n),window.dispatchEvent(new Event("replaceState"))}}register(e,t,n){if(this.instances.has(e.id))throw new Error(`router instance with id ${e.id} already registered`);const a=new Mc(e,t);return n&&n.trace({prefix:"",name:"registry.register",description:"registering a new router instance",metadata:{router:{id:e.id,basePath:e.basePath},location:"/src/lib/registry.svelte:register()",config:e}}),this.instances.set(e.id,a),a}deregister(e,t){const n=this.instances.get(e);if(t&&t.trace({prefix:n?"":"",name:"registry.deregister",description:"deregistering a router instance",metadata:{router:{id:e,basePath:n.config.basePath},location:"/src/lib/registry.svelte:deregister()",config:n.config}}),n)this.instances.delete(e);else throw new Error(`router instance with id ${e} not found`)}get(e){return this.instances.get(e)}}const eo=window.__SVELTE_SPA_ROUTER_REGISTRY__||new Dc;function Bc(r,e){ce(e,!0);let t=z(e,"instance",15),n=gn(e,["$$slots","$$events","$$legacy","instance"]);const a=Zi(e.id?`[${e.id}]`:"router");let s=oe(null),i,o=oe(void 0);const l=async(d,f)=>{if(R(o,W(d)),f==null||f.trace({prefix:"",name:"apply",description:`<Router${i.config.id?` id="${i.config.id}"`:""}/> applying route ${d.result.path.original} (${d.result.path.condition})`,metadata:{location:"/src/lib/router.svelte:apply()",router:{id:i.config.id,basePath:i.config.basePath},result:d}}),typeof d.result.component=="function"&&d.result.component.constructor.name==="AsyncFunction"){const h=await d.result.component();R(s,W(h.default||h))}else R(s,W(d.result.component))};i=eo.register(new Nc(n),l,a),a==null||a.trace({prefix:"",name:"<Router/> Component",description:"new component mounted",metadata:{router:{id:i.config.id,basePath:i.config.basePath},location:"/src/lib/router.svelte:mount()"}}),t(i),a&&(a.metadata={router:i.config.id}),i.handleStateChange(location.toString(),a),Cc(()=>{i.deregister(a)});var c=H(),u=D(c);Gn(u,()=>v(s),(d,f)=>{f(d,{get route(){return v(o)}})}),_(r,c),ue()}const Uc="modulepreload",Fc=function(r){return"/"+r},Ns={},Pr=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let i=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=i(t.map(c=>{if(c=Fc(c),c in Ns)return;Ns[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Uc,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,b)=>{f.addEventListener("load",h),f.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},zc=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Pr(async()=>{const{default:n}=await Promise.resolve().then(()=>Mr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class ns extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class qc extends ns{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hc extends ns{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vc extends ns{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pa;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Pa||(Pa={}));var Wc=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Gc{constructor(e,{headers:t={},customFetch:n,region:a=Pa.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=zc(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Wc(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:i}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(o["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(o["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:c}).catch(b=>{throw new qc(b)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Hc(u);if(!u.ok)throw new Vc(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(a){return{data:null,error:a}}})}}function to(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Jc(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var Me={},cr={},ur={},dr={},fr={},hr={},Kc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cr=Kc();const Yc=Cr.fetch,ro=Cr.fetch.bind(Cr),no=Cr.Headers,Qc=Cr.Request,Xc=Cr.Response,Mr=Object.freeze(Object.defineProperty({__proto__:null,Headers:no,Request:Qc,Response:Xc,default:ro,fetch:Yc},Symbol.toStringTag,{value:"Module"})),Zc=Jc(Mr);var wn={},Ms;function ao(){if(Ms)return wn;Ms=1,Object.defineProperty(wn,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return wn.default=r,wn}var Ds;function so(){if(Ds)return hr;Ds=1;var r=hr&&hr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(hr,"__esModule",{value:!0});const e=r(Zc),t=r(ao());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=Object.assign({},this.headers),this.headers[s]=i,this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f;let h=null,b=null,g=null,m=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const p=await c.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=p:b=JSON.parse(p))}const S=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),E=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");S&&E&&E.length>1&&(g=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(h={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,g=null,m=406,y="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const S=await c.text();try{h=JSON.parse(S),Array.isArray(h)&&c.status===404&&(b=[],h=null,m=200,y="OK")}catch{c.status===404&&S===""?(m=204,y="No Content"):h={message:S}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,m=200,y="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:b,count:g,status:m,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return hr.default=n,hr}var Bs;function io(){if(Bs)return fr;Bs=1;var r=fr&&fr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fr,"__esModule",{value:!0});const e=r(so());class t extends e.default{select(a){let s=!1;const i=(a??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(c,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const d=[a?"analyze":null,s?"verbose":null,i?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`,c==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return fr.default=t,fr}var Us;function as(){if(Us)return dr;Us=1;var r=dr&&dr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dr,"__esModule",{value:!0});const e=r(io());class t extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const i=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:i,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${l}fts${c}.${s}`),this}match(a){return Object.entries(a).forEach(([s,i])=>{this.url.searchParams.append(s,`eq.${i}`)}),this}not(a,s,i){return this.url.searchParams.append(a,`not.${s}.${i}`),this}or(a,{foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,s,i){return this.url.searchParams.append(a,`${s}.${i}`),this}}return dr.default=t,dr}var Fs;function oo(){if(Fs)return ur;Fs=1;var r=ur&&ur.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ur,"__esModule",{value:!0});const e=r(as());class t{constructor(a,{headers:s={},schema:i,fetch:o}){this.url=a,this.headers=s,this.schema=i,this.fetch=o}select(a,{head:s=!1,count:i}={}){const o=s?"HEAD":"GET";let l=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),i&&(this.headers.Prefer=`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:s,defaultToNull:i=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(a)){const c=a.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:o,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${i?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(a)){const d=a.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:s}={}){const i="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const s="DELETE",i=[];return a&&i.push(`count=${a}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ur.default=t,ur}var Ur={},Fr={},zs;function eu(){return zs||(zs=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.version=void 0,Fr.version="0.0.0-automated"),Fr}var qs;function tu(){if(qs)return Ur;qs=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.DEFAULT_HEADERS=void 0;const r=eu();return Ur.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Ur}var Hs;function ru(){if(Hs)return cr;Hs=1;var r=cr&&cr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(cr,"__esModule",{value:!0});const e=r(oo()),t=r(as()),n=tu();class a{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${i}`);let h;l||c?(d=l?"HEAD":"GET",Object.entries(o).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{f.searchParams.append(g,m)})):(d="POST",h=o);const b=Object.assign({},this.headers);return u&&(b.Prefer=`count=${u}`),new t.default({method:d,url:f,headers:b,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return cr.default=a,cr}var Vs;function nu(){if(Vs)return Me;Vs=1;var r=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Me,"__esModule",{value:!0}),Me.PostgrestError=Me.PostgrestBuilder=Me.PostgrestTransformBuilder=Me.PostgrestFilterBuilder=Me.PostgrestQueryBuilder=Me.PostgrestClient=void 0;const e=r(ru());Me.PostgrestClient=e.default;const t=r(oo());Me.PostgrestQueryBuilder=t.default;const n=r(as());Me.PostgrestFilterBuilder=n.default;const a=r(io());Me.PostgrestTransformBuilder=a.default;const s=r(so());Me.PostgrestBuilder=s.default;const i=r(ao());return Me.PostgrestError=i.default,Me.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:i.default},Me}var au=nu();const su=to(au),{PostgrestClient:iu,PostgrestQueryBuilder:Wp,PostgrestFilterBuilder:Gp,PostgrestTransformBuilder:Jp,PostgrestBuilder:Kp,PostgrestError:Yp}=su,ou="2.11.2",lu={"X-Client-Info":`realtime-js/${ou}`},cu="1.0.0",lo=1e4,uu=1e3;var _r;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(_r||(_r={}));var rt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(rt||(rt={}));var lt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(lt||(lt={}));var Ca;(function(r){r.websocket="websocket"})(Ca||(Ca={}));var er;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(er||(er={}));class du{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const a=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+a));i=i+a;const l=n.decode(e.slice(i,i+s));i=i+s;const c=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class co{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Pe||(Pe={}));const Ws=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,i)=>(s[i]=fu(i,r,e,a),s),{})},fu=(r,e,t,n)=>{const a=e.find(o=>o.name===r),s=a==null?void 0:a.type,i=t[r];return s&&!n.includes(s)?uo(s,i):Aa(i)},uo=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return pu(e,t)}switch(r){case Pe.bool:return hu(e);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return vu(e);case Pe.json:case Pe.jsonb:return gu(e);case Pe.timestamp:return mu(e);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return Aa(e);default:return Aa(e)}},Aa=r=>r,hu=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},vu=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},gu=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},pu=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let s;const i=r.slice(1,t);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>uo(e,o))}return r},mu=r=>typeof r=="string"?r.replace(" ","T"):r,fo=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ua{constructor(e,t,n={},a=lo){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Gs;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Gs||(Gs={}));class Kr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kr.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=Kr.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Kr.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const s=this.cloneDeep(e),i=this.transformState(t),o={},l={};return this.map(s,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const d=s[c];if(d){const f=u.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),b=u.filter(m=>h.indexOf(m.presence_ref)<0),g=d.filter(m=>f.indexOf(m.presence_ref)<0);b.length>0&&(o[c]=b),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},n,a)}static syncDiff(e,t,n,a){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[o].unshift(...f)}n(o,u,l)}),this.map(i,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,a(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Js;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Js||(Js={}));var Ks;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ks||(Ks={}));var Tt;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Tt||(Tt={}));class ss{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ua(this,lt.join,this.params,this.timeout),this.rejoinTimer=new co(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lt.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Kr(this),this.broadcastEndpointURL=fo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Tt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Tt.CLOSED));const l={},c={broadcast:s,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Tt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,b=[];for(let g=0;g<h;g++){const m=f[g],{filter:{event:y,schema:$,table:S,filter:E}}=m,p=u&&u[g];if(p&&p.event===y&&p.schema===$&&p.table===S&&p.filter===E)b.push(Object.assign(Object.assign({},m),{id:p.id}));else{this.unsubscribe(),e==null||e(Tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Tt.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new ua(this,lt.leave,{},e);a.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(s),i}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ua(this,e,t,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,s;const i=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=lt;if(n&&[o,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,t,n);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var b,g,m;return((b=h.filter)===null||b===void 0?void 0:b.event)==="*"||((m=(g=h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===i}).map(h=>h.callback(f,n)):(s=this.bindings[i])===null||s===void 0||s.filter(h=>{var b,g,m,y,$,S;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const E=h.id,p=(b=h.filter)===null||b===void 0?void 0:b.event;return E&&((g=t.ids)===null||g===void 0?void 0:g.includes(E))&&(p==="*"||(p==null?void 0:p.toLocaleLowerCase())===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const E=($=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return E==="*"||E===((S=t==null?void 0:t.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:g,table:m,commit_timestamp:y,type:$,errors:S}=b;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:y,eventType:$,new:{},old:{},errors:S}),this._getPayloadRecords(b))}h.callback(f,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),s={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ss.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(lt.close,{},e)}_onError(e){this._on(lt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ws(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ws(e.columns,e.old_record)),t}}const bu=()=>{},yu=typeof WebSocket<"u",_u=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wu{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=lu,this.params={},this.timeout=lo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=bu,this.conn=null,this.sendBuffer=[],this.serializer=new du,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Pr(async()=>{const{default:l}=await Promise.resolve().then(()=>Mr);return{default:l}},void 0).then(({default:l})=>l(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${e}/${Ca.websocket}`,this.httpEndpoint=fo(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,i)=>i(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new co(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(yu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Pr(async()=>{const{default:e}=await import("./browser-ziL3cmK1.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cu}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _r.connecting:return er.Connecting;case _r.open:return er.Open;case _r.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}channel(e,t={config:{}}){const n=new ss(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:a,ref:s}=e,i=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(a=>{t&&a.updateJoinPayload({access_token:t}),a.joinedOnce&&a._isJoined()&&a._push(lt.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(uu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:a,payload:s,ref:i}=t;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,s),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,s,i)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(lt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([_u],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class xu{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=_r.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class is extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function De(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class ku extends is{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ia extends is{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var $u=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const ho=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Pr(async()=>{const{default:n}=await Promise.resolve().then(()=>Mr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Su=()=>$u(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pr(()=>Promise.resolve().then(()=>Mr),void 0)).Response:Response}),Oa=r=>{if(Array.isArray(r))return r.map(t=>Oa(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=Oa(n)}),e};var ir=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const da=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Eu=(r,e,t)=>ir(void 0,void 0,void 0,function*(){const n=yield Su();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(a=>{e(new ku(da(a),r.status||500))}).catch(a=>{e(new Ia(da(a),a))}):e(new Ia(da(r),r))}),Tu=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),t))};function pn(r,e,t,n,a,s){return ir(this,void 0,void 0,function*(){return new Promise((i,o)=>{r(t,Tu(e,n,a,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Eu(l,o,n))})})}function Bn(r,e,t,n){return ir(this,void 0,void 0,function*(){return pn(r,"GET",e,t,n)})}function zt(r,e,t,n,a){return ir(this,void 0,void 0,function*(){return pn(r,"POST",e,n,a,t)})}function Pu(r,e,t,n,a){return ir(this,void 0,void 0,function*(){return pn(r,"PUT",e,n,a,t)})}function Cu(r,e,t,n){return ir(this,void 0,void 0,function*(){return pn(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function vo(r,e,t,n,a){return ir(this,void 0,void 0,function*(){return pn(r,"DELETE",e,n,a,t)})}var Ke=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Au={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ys={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Iu{constructor(e,t={},n,a){this.url=e,this.headers=t,this.bucketId=n,this.fetch=ho(a)}uploadOrUpdate(e,t,n,a){return Ke(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},Ys),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(De(s))return{data:null,error:s};throw s}})}upload(e,t,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return Ke(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Ys.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(De(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=yield zt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new is("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}update(e,t,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Ke(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}copy(e,t,n){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return Ke(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield zt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return Ke(this,void 0,void 0,function*(){try{const a=yield zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}download(e,t){return Ke(this,void 0,void 0,function*(){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Bn(this.fetch,`${this.url}/${a}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}})}info(e){return Ke(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Bn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Oa(n),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}exists(e){return Ke(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Cu(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(De(n)&&n instanceof Ia){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&a.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return Ke(this,void 0,void 0,function*(){try{return{data:yield vo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}list(e,t,n){return Ke(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Au),t),{prefix:e||""});return{data:yield zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Ou="2.7.1",ju={"X-Client-Info":`storage-js/${Ou}`};var vr=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Lu{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},ju),t),this.fetch=ho(n)}listBuckets(){return vr(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(De(e))return{data:null,error:e};throw e}})}getBucket(e){return vr(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return vr(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return vr(this,void 0,void 0,function*(){try{return{data:yield Pu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}emptyBucket(e){return vr(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}deleteBucket(e){return vr(this,void 0,void 0,function*(){try{return{data:yield vo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}}class Ru extends Lu{constructor(e,t={},n){super(e,t,n)}from(e){return new Iu(this.url,this.headers,e,this.fetch)}}const Nu="2.49.8";let Vr="";typeof Deno<"u"?Vr="deno":typeof document<"u"?Vr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vr="react-native":Vr="node";const Mu={"X-Client-Info":`supabase-js-${Vr}/${Nu}`},Du={headers:Mu},Bu={schema:"public"},Uu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fu={};var zu=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const qu=r=>{let e;return r?e=r:typeof fetch>"u"?e=ro:e=fetch,(...t)=>e(...t)},Hu=()=>typeof Headers>"u"?no:Headers,Vu=(r,e,t)=>{const n=qu(t),a=Hu();return(s,i)=>zu(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let c=new a(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},i),{headers:c}))})};var Wu=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};function Gu(r){return r.endsWith("/")?r:r+"/"}function Ju(r,e){var t,n;const{db:a,auth:s,realtime:i,global:o}=r,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(t=d==null?void 0:d.headers)!==null&&t!==void 0?t:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Wu(this,void 0,void 0,function*(){return""})};return r.accessToken?f.accessToken=r.accessToken:delete f.accessToken,f}const go="2.69.1",br=30*1e3,ja=3,fa=ja*br,Ku="http://localhost:9999",Yu="supabase.auth.token",Qu={"X-Client-Info":`gotrue-js/${go}`},La="X-Supabase-Api-Version",po={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zu=6e5;class os extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function he(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class ed extends os{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function td(r){return he(r)&&r.name==="AuthApiError"}class mo extends os{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Wt extends os{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class Dt extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rd(r){return he(r)&&r.name==="AuthSessionMissingError"}class ha extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xn extends Wt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kn extends Wt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nd(r){return he(r)&&r.name==="AuthImplicitGrantRedirectError"}class Qs extends Wt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ra extends Wt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function va(r){return he(r)&&r.name==="AuthRetryableFetchError"}class Xs extends Wt{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Yr extends Wt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ei=` 	
\r=`.split(""),ad=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<ei.length;e+=1)r[ei[e].charCodeAt(0)]=-2;for(let e=0;e<Zs.length;e+=1)r[Zs[e].charCodeAt(0)]=e;return r})();function bo(r,e,t){const n=ad[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function ti(r){const e=[],t=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{od(i,n,t)};for(let i=0;i<r.length;i+=1)bo(r.charCodeAt(i),a,s);return e.join("")}function sd(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function id(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}sd(n,e)}}function od(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ld(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)bo(r.charCodeAt(a),t,n);return new Uint8Array(e)}function cd(r){const e=[];return id(r,t=>e.push(t)),new Uint8Array(e)}function ud(r){return Math.round(Date.now()/1e3)+r}function dd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const pt=()=>typeof window<"u"&&typeof document<"u",Xt={tested:!1,writable:!1},Qr=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xt.tested)return Xt.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Xt.tested=!0,Xt.writable=!0}catch{Xt.tested=!0,Xt.writable=!1}return Xt.writable};function fd(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const yo=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Pr(async()=>{const{default:n}=await Promise.resolve().then(()=>Mr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},hd=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",_o=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},$n=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Sn=async(r,e)=>{await r.removeItem(e)};class Kn{constructor(){this.promise=new Kn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Kn.promiseConstructor=Promise;function ga(r){const e=r.split(".");if(e.length!==3)throw new Yr("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Xu.test(e[n]))throw new Yr("JWT not in base64url format");return{header:JSON.parse(ti(e[0])),payload:JSON.parse(ti(e[1])),signature:ld(e[2]),raw:{header:e[0],payload:e[1]}}}async function vd(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function gd(r,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await r(s);if(!e(s,null,i)){n(i);return}}catch(i){if(!e(s,i)){a(i);return}}})()})}function pd(r){return("0"+r.toString(16)).substr(-2)}function md(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let s=0;s<56;s++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,pd).join("")}async function bd(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function yd(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await bd(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gr(r,e,t=!1){const n=md();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await _o(r,`${e}-code-verifier`,a);const s=await yd(n);return[s,n===s?"plain":"s256"]}const _d=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wd(r){const e=r.headers.get(La);if(!e||!e.match(_d))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xd(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function kd(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var $d=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const Zt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Sd=[502,503,504];async function ri(r){var e;if(!hd(r))throw new Ra(Zt(r),0);if(Sd.includes(r.status))throw new Ra(Zt(r),r.status);let t;try{t=await r.json()}catch(s){throw new mo(Zt(s),s)}let n;const a=wd(r);if(a&&a.getTime()>=po["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Xs(Zt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Dt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new Xs(Zt(t),r.status,t.weak_password.reasons);throw new ed(Zt(t),r.status||500,n)}const Ed=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function pe(r,e,t,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[La]||(s[La]=po["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Td(r,e,t+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Td(r,e,t,n,a,s){const i=Ed(e,n,a,s);let o;try{o=await r(t,Object.assign({},i))}catch(l){throw console.error(l),new Ra(Zt(l),0)}if(o.ok||await ri(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await ri(l)}}function Bt(r){var e;let t=null;Id(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=ud(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function ni(r){const e=Bt(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ht(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Pd(r){return{data:r,error:null}}function Cd(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:s}=r,i=$d(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function Ad(r){return r}function Id(r){return r.access_token&&r.refresh_token&&r.expires_in}var Od=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};class jd{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=yo(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ht})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Od(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Cd,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(he(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ht})}catch(t){if(he(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Ad});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(b.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(he(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ht})}catch(t){if(he(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ht})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ht})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(he(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(he(t))return{data:null,error:t};throw t}}}const Ld={getItem:r=>Qr()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Qr()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Qr()&&globalThis.localStorage.removeItem(r)}};function ai(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Rd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pr={debug:!!(globalThis&&Qr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nd extends wo{}async function Md(r,e,t){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Nd(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(pr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Rd();const Dd={url:Ku,storageKey:Yu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function si(r,e,t){return await t()}class nn{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nn.nextInstanceID,nn.nextInstanceID+=1,this.instanceID>0&&pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Dd),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new jd({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=yo(a.fetch),this.lock=a.lock||si,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:pt()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Md:this.lock=si,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Qr()?this.storage=Ld:(this.memoryStorage={},this.storage=ai(this.memoryStorage)):(this.memoryStorage={},this.storage=ai(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${go}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=fd(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),pt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),nd(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return he(t)?{error:t}:{error:new mo("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Bt}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,a;try{let s;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,b=null;this.flowType==="pkce"&&([h,b]=await gr(this.storage,this.storageKey)),s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:b},xform:Bt})}else if("phone"in e){const{phone:u,password:d,options:f}=e;s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Bt})}else throw new xn("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:i,options:o}=e;t=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ni})}else if("phone"in e){const{phone:s,password:i,options:o}=e;t=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ni})}else throw new xn("You must provide either an email or phone number and a password");const{data:n,error:a}=t;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ha}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await $n(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{const{data:s,error:i}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Bt});if(await Sn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ha}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(he(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:s,nonce:i}=e,o=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Bt}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ha}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,a,s,i;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await gr(this.storage,this.storageKey));const{error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new xn("You must provide either an email or phone number.")}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let a,s;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Bt});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await gr(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:Pd})}catch(s){if(he(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Dt;const{error:a}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(he(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:i}=await pe(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:i,error:o}=await pe(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new xn("You must provide either an email or phone number and a type")}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await $n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<fa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ht}):await this._useSession(async t=>{var n,a,s;const{data:i,error:o}=t;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Ht})})}catch(t){if(he(t))return rd(t)&&(await this._removeSession(),await Sn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Dt;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await gr(this.storage,this.storageKey));const{data:c,error:u}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:Ht});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Dt;const t=Date.now()/1e3;let n=t,a=!0,s=null;const{payload:i}=ga(e.access_token);if(i.exp&&(n=i.exp,a=n<=t),a){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(he(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:i,error:o}=t;if(o)throw o;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Dt;const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!pt())throw new kn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Qs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kn("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qs("No code detected.");const{data:$,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!i||!c)throw new kn("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const b=f-d;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,u);const{data:g,error:m}=await this._getUser(s);if(m)throw m;const y={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:d,expires_at:f,refresh_token:i,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(he(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await $n(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:s}=t;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,e);if(o&&!(td(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Sn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=dd(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:s},error:i}=t;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await gr(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(he(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(he(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,l,c,u;const{data:d,error:f}=s;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return pt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(he(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:s,error:i}=t;if(i)throw i;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(he(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await gd(async a=>(a>0&&await vd(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bt})),(a,s)=>{const i=200*Math.pow(2,a);return s&&va(s)&&Date.now()+i-n<br})}catch(n){if(this._debug(t,"error",n),he(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),pt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await $n(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<fa;if(this._debug(t,`session has${a?"":" not"} expired with margin of ${fa}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),va(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Kn;const{data:s,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!s.session)throw new Dt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),he(s)){const i={session:null,error:s};return va(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _o(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Sn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),br);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${br}ms, refresh threshold is ${ja} ticks`),a<=ja&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wo)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await gr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;return s?{data:null,error:s}:await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(he(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:s,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(he(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(he(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;return s?{data:null,error:s}:await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(he(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ga(a.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(i=>i.kid===e);if(n||(n=this.jwks.keys.find(i=>i.kid===e),n&&this.jwks_cached_at+Zu>Date.now()))return n;const{data:a,error:s}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new Yr("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(i=>i.kid===e),!n)throw new Yr("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:h,error:b}=await this.getSession();if(b||!h.session)return{data:null,error:b};n=h.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:l}}=ga(n);if(xd(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:s,header:a,signature:i},error:null}}const c=kd(a.alg),u=await this.fetchJwk(a.kid,t),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,i,cd(`${o}.${l}`)))throw new Yr("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}nn.nextInstanceID=0;const Bd=nn;class Ud extends Bd{constructor(e){super(e)}}var Fd=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class zd{constructor(e,t,n){var a,s,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Gu(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Bu,realtime:Fu,auth:Object.assign(Object.assign({},Uu),{storageKey:c}),global:Du},d=Ju(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Vu(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new iu(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Gc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ru(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Fd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,storageKey:s,flowType:i,lock:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ud({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,flowType:i,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new wu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qd=(r,e,t)=>new zd(r,e,t),Hd="https://lbwtzoxtlssyjeututrs.supabase.co",Vd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxid3R6b3h0bHNzeWpldXR1dHJzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4OTg2OTksImV4cCI6MjA3MDQ3NDY5OX0.GdbcTzNRo5dcuBSCr9_e_HWiXXBJWNm_IYkdwxfbDgI",ke=qd(Hd,Vd),or=(()=>{const r=W({user:null,loading:!1,error:null,message:null,lastAction:null,lastProvider:null});return{state:r,getUser:async()=>{r.loading=!0,r.error=null;try{const{data:{session:i},error:o}=await ke.auth.getSession();if(o)throw new Error(o.message);r.user=(i==null?void 0:i.user)||null}catch(i){r.error=i.message,r.user=null}finally{r.loading=!1}return r.user},createUser:async(i,o)=>{r.loading=!0,r.error=null,r.message=null,r.lastAction="signup",r.lastProvider="email";try{const{data:l,error:c}=await ke.auth.signUp({email:i,password:o});return c?(r.error=c.message,!1):!l.session||!l.user?(r.message="Check your email to confirm your account.",!1):(r.user=l.user,r.message="Signup successful! Redirecting...",!0)}catch(l){return r.error=l.message,!1}finally{r.loading=!1}},loginWithEmail:async(i,o)=>{r.loading=!0,r.error=null,r.message=null,r.lastAction="login",r.lastProvider="email";try{const{data:l,error:c}=await ke.auth.signInWithPassword({email:i,password:o});return c?(r.error=c.message,!1):(r.user=l.user,r.message="Login successful! Redirecting...",!0)}catch(l){return r.error=l.message,!1}finally{r.loading=!1}},loginWithGoogle:async()=>{r.loading=!0,r.error=null,r.message=null,r.lastAction="login",r.lastProvider="google";try{const{error:i}=await ke.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/login`}});return i?(r.error=i.message,r.loading=!1,!1):!0}catch(i){return r.error=i.message,r.loading=!1,!1}},logout:async()=>{await ke.auth.signOut(),r.user=null}}})(),Dr=r=>({success:!0,data:r}),Rt=r=>({success:!1,error:(r==null?void 0:r.message)||"Unknown error"});async function Wd(r){const{data:e,error:t}=await ke.from("forms").insert(r).select().single();return t?Rt(t):Dr({id:e.id})}async function Gd(r){const{data:e,error:t}=await ke.from("forms").select("*").eq("user_id",r).order("created_at",{ascending:!1});return t?Rt(t):Dr({forms:e})}async function Na(r){if(!(r!=null&&r.id))return Rt("Form ID is required");const{data:e,error:t}=await ke.from("forms").update(r).eq("id",r.id).select().single();return t?Rt(t):Dr({form:e})}async function Jd(r){var n;const{data:e,error:t}=await ke.from("forms").delete().eq("id",r).select();return t?Rt(t):Dr({id:(n=e[0])==null?void 0:n.id})}async function Kd(r){const{data:e,error:t}=await ke.from("forms").select("*").eq("id",r).single();if(t)return Rt(t);const{id:n,created_at:a,...s}=e,{data:i,error:o}=await ke.from("forms").insert([{...s,created_at:new Date}]).select().single();return o?Rt(o):Dr({form:i})}async function ls(r){if(!r)return Rt("Form ID is required");const{data:e,error:t}=await ke.from("forms").select("*").eq("id",r).single();return t?Rt(t):Dr({form:e})}/**
 * @license lucide-svelte v0.482.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const Yd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Qd=nc("<svg><!><!></svg>");function ne(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]),n=Q(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);ce(e,!1);let a=z(e,"name",8,void 0),s=z(e,"color",8,"currentColor"),i=z(e,"size",8,24),o=z(e,"strokeWidth",8,2),l=z(e,"absoluteStrokeWidth",8,!1),c=z(e,"iconNode",24,()=>[]);const u=(...g)=>g.filter((m,y,$)=>!!m&&$.indexOf(m)===y).join(" ");gt();var d=Qd();let f;var h=x(d);Fe(h,1,c,ze,(g,m)=>{let y=()=>v(m)[0],$=()=>v(m)[1];var S=H(),E=D(S);dc(E,y,!0,(p,T)=>{let k;J(()=>k=$r(p,k,{...$()},void 0,p.namespaceURI===ki,p.nodeName.includes("-")))}),_(g,S)});var b=P(h);Y(b,e,"default",{}),J((g,m)=>f=$r(d,f,{...Yd,...n,width:i(),height:i(),stroke:s(),"stroke-width":g,class:m},void 0,!0),[()=>l()?Number(o())*24/Number(i()):o(),()=>u("lucide-icon","lucide",a()?`lucide-${a()}`:"",t.class)],qn),_(r,d),ue()}function Xd(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"align-center"},()=>t,{iconNode:[["path",{d:"M17 12H7"}],["path",{d:"M19 18H5"}],["path",{d:"M21 6H3"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Zd(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"align-left"},()=>t,{iconNode:[["path",{d:"M15 12H3"}],["path",{d:"M17 18H3"}],["path",{d:"M21 6H3"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function ef(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"arrow-down"},()=>t,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function tf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"arrow-left"},()=>t,{iconNode:[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function rf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"arrow-up"},()=>t,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function nf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"calendar-1"},()=>t,{iconNode:[["path",{d:"M11 14h1v4"}],["path",{d:"M16 2v4"}],["path",{d:"M3 10h18"}],["path",{d:"M8 2v4"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function cs(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"calendar"},()=>t,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function af(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"chart-no-axes-column"},()=>t,{iconNode:[["line",{x1:"18",x2:"18",y1:"20",y2:"10"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function sf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"check"},()=>t,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function xo(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"chevron-down"},()=>t,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function of(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"circle-alert"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function lf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"circle-check-big"},()=>t,{iconNode:[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function cf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"circle-dot"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"1"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function uf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"clipboard"},()=>t,{iconNode:[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function ii(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"cloud-upload"},()=>t,{iconNode:[["path",{d:"M12 13v8"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"m8 17 4-4 4 4"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function df(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"copy"},()=>t,{iconNode:[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function ff(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"credit-card"},()=>t,{iconNode:[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function hf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"download"},()=>t,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"7 10 12 15 17 10"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function ko(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"ellipsis-vertical"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function $o(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"external-link"},()=>t,{iconNode:[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function So(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"file-text"},()=>t,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function vf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"gauge"},()=>t,{iconNode:[["path",{d:"m12 14 4-4"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function gf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"ghost"},()=>t,{iconNode:[["path",{d:"M9 10h.01"}],["path",{d:"M15 10h.01"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function pf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"hammer"},()=>t,{iconNode:[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9"}],["path",{d:"m18 15 4-4"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function mf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"hash"},()=>t,{iconNode:[["line",{x1:"4",x2:"20",y1:"9",y2:"9"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function bf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"inbox"},()=>t,{iconNode:[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function yf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"info"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function _f(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"layout-dashboard"},()=>t,{iconNode:[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Yn(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"link"},()=>t,{iconNode:[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function wf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"log-in"},()=>t,{iconNode:[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}],["polyline",{points:"10 17 15 12 10 7"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function xf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"log-out"},()=>t,{iconNode:[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function kf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"mail"},()=>t,{iconNode:[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function $f(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"pen-tool"},()=>t,{iconNode:[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18"}],["path",{d:"m2.3 2.3 7.286 7.286"}],["circle",{cx:"11",cy:"11",r:"2"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Sf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"phone"},()=>t,{iconNode:[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Ef(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"plus"},()=>t,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Tf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"rectangle-vertical"},()=>t,{iconNode:[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Pf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"rectangle-horizontal"},()=>t,{iconNode:[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Cf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"refresh-cw"},()=>t,{iconNode:[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Af(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"rocket"},()=>t,{iconNode:[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function If(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"scroll-text"},()=>t,{iconNode:[["path",{d:"M15 12h-5"}],["path",{d:"M15 8h-5"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Of(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"share-2"},()=>t,{iconNode:[["circle",{cx:"18",cy:"5",r:"3"}],["circle",{cx:"6",cy:"12",r:"3"}],["circle",{cx:"18",cy:"19",r:"3"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function jf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"signature"},()=>t,{iconNode:[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284"}],["path",{d:"M3 21h18"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Lf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"smile"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Rf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"sparkle"},()=>t,{iconNode:[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Nf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"square-check"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m9 12 2 2 4-4"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function oi(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"square-pen"},()=>t,{iconNode:[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Mf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"square-plus"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Eo(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"star"},()=>t,{iconNode:[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Df(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"toggle-left"},()=>t,{iconNode:[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6"}],["circle",{cx:"8",cy:"12",r:"2"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function us(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"trash-2"},()=>t,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function To(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"trash"},()=>t,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Bf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"triangle-alert"},()=>t,{iconNode:[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Uf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"upload"},()=>t,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"17 8 12 3 7 8"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function Ff(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"user"},()=>t,{iconNode:[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}function zf(r,e){const t=Q(e,["children","$$slots","$$events","$$legacy"]);ne(r,re({name:"x"},()=>t,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(a,s)=>{var i=H(),o=D(i);Y(o,e,"default",{}),_(a,i)},$$slots:{default:!0}}))}const Qn=r=>({success:!0,data:r}),Xn=r=>({success:!1,error:(r==null?void 0:r.message)||"Unknown error"});async function qf(r,e){const{data:t,error:n}=await ke.from("responses").insert({form_id:r,meta:e}).select();return n?Xn(n):Qn({responseIds:t.map(a=>a.id)})}async function Hf(r){const{data:e,error:t}=await ke.from("responses").select("id, meta, created_at").eq("form_id",r).order("created_at",{ascending:!1});return t?Xn(t):Qn({responses:e})}async function Vf(r){const{count:e,error:t}=await ke.from("responses").select("*",{count:"exact",head:!0}).eq("form_id",r);return t?Xn(t):Qn({count:e})}async function Wf(r){const{error:e}=await ke.from("responses").delete().eq("id",r);return e?Xn(e):Qn({deletedId:r})}var Gf=A("<label><!></label>");function Oe(r,e){const t=z(e,"size",3,"Medium"),n=z(e,"forId",3,""),a=z(e,"color",3,"#000000"),s={Small:"1.25rem",Medium:"1.5rem",Large:"2rem","Extra Large":"2.5rem"},i=Ee(()=>()=>`color: ${a()}; font-size: ${s[t()]??s.Medium}; font-weight: 600;`);var o=Gf(),l=x(o);Gi(l,()=>e.children??qt),J(c=>{ge(o,"for",n()),ge(o,"style",c)},[()=>v(i)()]),_(r,o)}var Jf=A("<input>");function mt(r,e){let t=z(e,"value",15),n=gn(e,["$$slots","$$events","$$legacy","value","props"]);var a=Jf();let s;J(()=>s=$r(a,s,{autofocus:!0,...n,class:"my-4 bg-gray-50 border  border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),Ve(a,t),_(r,a)}var Kf=A("<textarea></textarea>");function Ma(r,e){let t=z(e,"value",15),n=gn(e,["$$slots","$$events","$$legacy","value"]);var a=Kf();let s;J(()=>s=$r(a,s,{autofocus:!0,...n,rows:"4",class:"my-2 block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),Ve(a,t),_(r,a)}function st(r,{text:e="",position:t="top"}){const n=document.createElement("div");n.classList.add("absolute","invisible","bg-gray-700","text-white","text-xs","rounded","py-1","px-2","opacity-0","transition-opacity","duration-300","transform","whitespace-nowrap","z-50"),n.innerText=e,document.body.appendChild(n);let a=!1;const s=()=>{a||(n.style.visibility="visible",n.style.opacity="1",l(),n.classList.add("animate-tada"))},i=()=>{n.style.visibility="hidden",n.style.opacity="0",n.classList.remove("animate-tada")},o=(d,f,h)=>Math.max(f,Math.min(h,d)),l=()=>{const{top:d,left:f,width:h,height:b}=r.getBoundingClientRect(),{offsetWidth:g,offsetHeight:m}=n;let y,$;switch(t){case"top":y=f+h/2-g/2,$=d-m-5;break;case"bottom":y=f+h/2-g/2,$=d+b+5;break;case"left":y=f-g-5,$=d+b/2-m/2;break;case"right":y=f+h+5,$=d+b/2-m/2;break}const S=8,E=window.innerWidth-g-S,p=window.innerHeight-m-S;n.style.left=`${o(y,S,E)}px`,n.style.top=`${o($,S,p)}px`},c=()=>{i(),a=!0},u=()=>{i(),a=!1};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",u),r.addEventListener("click",c),{destroy(){r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",u),r.removeEventListener("click",c),document.body.removeChild(n)}}}var Yf=A('<button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button>');function li(r,e){let n=z(e,"largeIcon",3,!1)()?"w-8 h-8":"w-5 h-5";var a=Yf(),s=x(a);Mf(s,{class:n}),at(a,(i,o)=>st==null?void 0:st(i,o),()=>({text:"Add Block",position:"bottom"})),Ze(()=>G("click",a,function(...i){var o;(o=e.clickHandler)==null||o.apply(this,i)})),_(r,a)}function ds(r,e){let t=z(e,"blockId",3,0);const n=[Rf,Pf,Tf,cf,sf,xo,Eo,cs,mf,vf,Sf,If,jf,Yn,nf,Uf,kf,Df,Nf,Lf,ff],a=n.length,s=n[Math.min(t(),a-1)];s(r,{class:"w-5 h-5 text-blue-600"})}var Qf=A("<button> </button>");function Da(r,e){let t=gn(e,["$$slots","$$events","$$legacy","text"]);var n=Qf();let a;var s=x(n);J(()=>{a=$r(n,a,{type:"button",class:"text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-bold rounded-lg text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700",...t}),ie(s,e.text)}),_(r,n)}var Xf=A('<label class="flex items-center space-x-2 cursor-pointer select-none"><input type="checkbox" class="w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"></label>');function Ba(r,e){let t=z(e,"checked",15,!1);var n=Xf(),a=x(n);wc(a,t),_(r,n)}var Zf=A('<div class="flex items-center space-x-2"><button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button> <!></div>');function Po(r,e){let t=z(e,"link",3,""),n=oe(!1);async function a(){if(t())try{await navigator.clipboard.writeText(t()),R(n,!0),setTimeout(()=>R(n,!1),2e3)}catch(u){console.error("Failed to copy:",u)}}var s=Zf(),i=x(s),o=x(i);Yn(o,{class:"w-5 h-5"}),at(i,(u,d)=>st==null?void 0:st(u,d),()=>({text:"Copy form link",position:"bottom"})),Ze(()=>G("click",i,a));var l=P(i,2);{var c=u=>{Ao(u,{message:"Link copied!"})};F(l,u=>{v(n)&&u(c)})}J(()=>i.disabled=!t()),_(r,s)}var eh=A("<option> </option>"),th=A('<select class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white dark:bg-gray-800 dark:text-white dark:border-gray-600"></select>');function At(r,e){ce(e,!0);let t=z(e,"choices",19,()=>[]),n=z(e,"value",15);kt(()=>{e.choiceSelected(n())});var a=th();Fe(a,21,t,ze,(s,i)=>{var o=eh(),l={},c=x(o);J(()=>{l!==(l=v(i))&&(o.value=(o.__value=v(i))==null?"":v(i)),ie(c,v(i))}),_(s,o)}),kc(a,n),_(r,a),ue()}var rh=A('<button class="w-full flex items-center gap-2 text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"><!> </button>'),nh=A('<div class="absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-[9999] overflow-visible"></div>'),ah=A('<div class="relative inline-block text-left overflow-visible"><button class="w-7 h-7 flex items-center justify-center rounded-full hover:bg-gray-100 transition" aria-label="More options"><!></button> <!></div>');function Co(r,e){let t=z(e,"dropdownItems",24,()=>[]),n=Ue(!1);const a=()=>{R(n,!v(n))},s={Duplicate:df,Delete:To,Rename:oi,RenameLink:oi,OpenForm:$o,CopyLink:Yn};let i;function o(){i=setTimeout(()=>{R(n,!1)},200)}function l(){clearTimeout(i)}var c=ah(),u=x(c),d=x(u);ko(d,{class:"w-4 h-4 text-gray-500 hover:text-black cursor-pointer"});var f=P(u,2);{var h=b=>{var g=nh();Fe(g,5,t,ze,(m,y)=>{let $=()=>v(y).icon,S=()=>v(y).label,E=()=>v(y).onClick;var p=rh(),T=x(p);{var k=j=>{v(qn(()=>s[$()]))(j,{class:"w-4 h-4 text-gray-500"})};F(T,j=>{s[$()]&&j(k)})}var C=P(T);J(()=>ie(C,` ${S()??""}`)),G("click",p,async()=>{await E()(),R(n,!1)}),_(m,p)}),_(b,g)};F(f,b=>{v(n)&&b(h)})}G("click",u,a),G("mouseenter",c,l),G("mouseleave",c,o),_(r,c)}var sh=A('<div class="relative rounded-2xl overflow-visible border border-neutral-300 bg-gradient-to-br from-neutral-100 via-white to-neutral-200 shadow-xl transition-all duration-300 ease-in-out transform hover:-translate-y-1 hover:rotate-[-0.5deg] hover:shadow-2xl max-w-[288px] backdrop-blur-md"><div class="p-4 cursor-pointer hover:bg-white/40 transition duration-200"><h2 class="text-base font-bold text-black tracking-tight drop-shadow-sm"> </h2></div> <div class="h-[1px] bg-gradient-to-r from-transparent via-neutral-400 to-transparent animate-pulse"></div> <div class="relative flex items-center justify-between px-3 py-2 bg-white/30 text-sm text-black backdrop-blur-md rounded-b-2xl"><button class="bg-black hover:bg-neutral-800 text-white text-xs px-2 py-[2px] rounded shadow-sm transition"> </button> <div class="relative z-20"><!></div></div></div>');function ih(r,e){ce(e,!0);const t=z(e,"responseCount",3,0);var n=sh(),a=x(n),s=x(a),i=x(s),o=P(a,4),l=x(o),c=x(l),u=P(l,2),d=x(u);const f=Ee(()=>[{label:"Open Form",icon:"OpenForm",onClick:e.onOpen},{label:"Copy Form Link",icon:"CopyLink",onClick:e.onCopy},{label:"Rename Form",icon:"Rename",onClick:e.onRename},{label:"Rename Link",icon:"CopyLink",onClick:e.onRenameFormLink},{label:"Duplicate",icon:"Duplicate",onClick:e.onDuplicate},{label:"Delete",icon:"Delete",onClick:e.onDelete}]);Co(d,{get dropdownItems(){return v(f)}}),J(()=>{ie(i,e.form.name),ie(c,`${t()??""} Response${(t()===1?"":"s")??""}`)}),G("click",a,Er(()=>St("/form/build/"+e.form.id))),G("click",l,Er(()=>St("/responses/"+e.form.id))),_(r,n),ue()}var oh=A('<button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button>');function lh(r,e){let t=z(e,"url",3,"");var n=oh(),a=x(n);$o(a,{class:"w-5 h-5"}),at(n,(s,i)=>st==null?void 0:st(s,i),()=>({text:"Open form link",position:"bottom"})),Ze(()=>G("click",n,()=>t()&&window.open(t(),"_blank"))),_(r,n)}var ch=A('<div role="alert"><div class="flex items-center gap-2"><!> <span class="text-sm"> </span></div> <button class="text-white font-bold text-xl leading-none hover:opacity-75" aria-label="Close">&times;</button></div>');function Ao(r,e){let t=z(e,"message",8,""),n=z(e,"type",8,"info"),a=z(e,"duration",8,4e3),s=Ue(!0);const i={success:{color:"bg-green-500 text-white",Icon:lf},error:{color:"bg-red-500 text-white",Icon:of},info:{color:"bg-blue-500 text-white",Icon:yf}},{color:o,Icon:l}=i[n()];setTimeout(()=>{R(s,!1)},a());var c=H(),u=D(c);{var d=f=>{var h=ch();$e(h,`fixed top-12 right-12 px-4 py-3 rounded shadow-lg flex items-center justify-between gap-4 transition-opacity duration-500 ease-in-out ${o}`);var b=x(h),g=x(b);l(g,{class:"w-5 h-5"});var m=P(g,2),y=x(m),$=P(b,2);J(()=>ie(y,t())),G("click",$,()=>R(s,!1)),_(f,h)};F(u,f=>{v(s)&&f(d)})}_(r,c)}var uh=A('<div class="w-screen min-h-screen flex items-center justify-center bg-neutral-50 text-gray-800 animate-fadeIn svelte-7unkar"><div class="flex flex-col items-center gap-2 svelte-7unkar"><div class="text-sm text-gray-600 font-light tracking-wide animate-fadeIn delay-100 svelte-7unkar">Powered By</div> <div class="flex items-center gap-2 animate-slideUp delay-200 svelte-7unkar"><!> <span class="text-xl font-semibold tracking-tight animate-bounce-slow svelte-7unkar">FabForm</span></div> <div class="w-48 h-2.5 mt-3 bg-neutral-300 rounded-full overflow-hidden animate-slideIn delay-300 svelte-7unkar"><div class="h-full bg-pink-500 transition-all duration-700 ease-out svelte-7unkar"></div></div></div></div>');function dh(r,e){ce(e,!1);let t=Ue(0);ot(()=>{const c=setInterval(()=>{v(t)<100?R(t,v(t)+1):clearInterval(c)},20)}),gt();var n=uh(),a=x(n),s=P(x(a),2),i=x(s);Af(i,{class:"w-8 h-8 text-pink-500 drop-shadow animate-pulse-slow"});var o=P(s,2),l=x(o);J(()=>ge(l,"style",`width: ${v(t)??""}%`)),_(r,n),ue()}var fh=A('<figure class="loader svelte-d62oge"><div class="dot white svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div></figure>');function hh(r){var e=fh();_(r,e)}var vh=A('<div class="group relative inline-block m-1"><button class="cursor-pointer"><!></button></div>');function gh(r,e){ce(e,!1);function t(){St("/dashboard")}gt();var n=vh(),a=x(n),s=x(a);tf(s,{class:`w-8 h-8 stroke-current fill-none 
      hover:scale-125 duration-200 hover:stroke-blue-500`,"stroke-width":"2"}),G("click",a,t),_(r,n),ue()}var ph=A('<div role="main" aria-label="Page not found error message" class="relative flex items-center justify-center min-h-screen bg-gradient-to-tr from-zinc-950 via-zinc-900 to-zinc-950 text-white overflow-hidden svelte-1i8xg84"><canvas class="absolute inset-0 w-full h-full z-0 pointer-events-none svelte-1i8xg84" aria-hidden="true"></canvas> <div class="absolute inset-0 flex items-center justify-center pointer-events-none z-0 svelte-1i8xg84" aria-hidden="true"><div class="w-40 h-40 bg-purple-600 rounded-full blur-3xl opacity-30 svelte-1i8xg84"></div></div> <div class="text-center animate-fade-in-up z-10 relative svelte-1i8xg84"><!> <h1 class="text-6xl sm:text-7xl font-extrabold mt-6 mb-4 tracking-tight text-white drop-shadow-xl svelte-1i8xg84" tabindex="0">Oops!</h1> <p class="text-2xl sm:text-3xl text-zinc-400 font-medium svelte-1i8xg84" tabindex="0">Page not found <span class="text-purple-400 svelte-1i8xg84" aria-hidden="true">:(</span></p></div></div>');function mh(r,e){ce(e,!1);let t=Ue(),n,a=[],s={x:null,y:null};function i(m,y){return Math.random()*(y-m)+m}function o(){a=[];for(let m=0;m<60;m++)a.push({x:Math.random()*v(t).width,y:Math.random()*v(t).height,r:i(1,3),baseR:i(1,3),dx:(Math.random()-.5)*.6,dy:(Math.random()-.5)*.6,opacity:i(.2,.6),pulseDir:Math.random()<.5?1:-1,hueShift:i(-20,20)})}function l(m){for(let $=0;$<a.length;$++)for(let S=$+1;S<a.length;S++){const E=a[$],p=a[S],T=Math.hypot(E.x-p.x,E.y-p.y);if(T<120){const k=.2*(1-T/120);m.strokeStyle=`rgba(168, 85, 247, ${k})`,m.lineWidth=1,m.beginPath(),m.moveTo(E.x,E.y),m.lineTo(p.x,p.y),m.stroke()}}}function c(m){if(s.x===null||s.y===null)return;const y=100,$=m.x-s.x,S=m.y-s.y,E=Math.hypot($,S);if(E<y&&E>0){const p=(y-E)/y*.5;m.dx+=$/E*p,m.dy+=S/E*p}}function u(m){m.clearRect(0,0,v(t).width,v(t).height),a.forEach(y=>{y.r+=.02*y.pulseDir,(y.r>y.baseR+.5||y.r<y.baseR-.5)&&(y.pulseDir*=-1),c(y),y.dx*=.98,y.dy*=.98,y.x+=y.dx,y.y+=y.dy,y.x<0&&(y.x=0,y.dx*=-1),y.x>v(t).width&&(y.x=v(t).width,y.dx*=-1),y.y<0&&(y.y=0,y.dy*=-1),y.y>v(t).height&&(y.y=v(t).height,y.dy*=-1),m.beginPath(),m.shadowColor=`hsla(${275+y.hueShift}, 80%, 70%, 0.6)`,m.shadowBlur=8,m.arc(y.x,y.y,y.r,0,Math.PI*2),m.fillStyle=`hsla(${275+y.hueShift}, 70%, 60%, ${y.opacity})`,m.fill(),m.shadowBlur=0}),l(m),n=requestAnimationFrame(()=>u(m))}function d(){xr(t,v(t).width=window.innerWidth),xr(t,v(t).height=window.innerHeight),o()}ot(()=>{const m=v(t).getContext("2d");d(),u(m);function y(){document.hidden?cancelAnimationFrame(n):u(m)}window.addEventListener("resize",d),document.addEventListener("visibilitychange",y);function $(E){s.x=E.clientX,s.y=E.clientY}function S(){s.x=null,s.y=null}return window.addEventListener("mousemove",$),window.addEventListener("mouseout",S),()=>{window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",y),window.removeEventListener("mousemove",$),window.removeEventListener("mouseout",S),cancelAnimationFrame(n)}}),gt();var f=ph(),h=x(f);Jn(h,m=>R(t,m),()=>v(t));var b=P(h,4),g=x(b);gf(g,{class:"w-24 h-24 mx-auto text-purple-400 drop-shadow-xl animate-float","aria-hidden":"true",focusable:"false"}),_(r,f),ue()}var pa={exports:{}},ci;function bh(){return ci||(ci=1,function(r){(function(){function e(g,m){document.addEventListener?g.addEventListener("scroll",m,!1):g.attachEvent("scroll",m)}function t(g){document.body?g():document.addEventListener?document.addEventListener("DOMContentLoaded",function m(){document.removeEventListener("DOMContentLoaded",m),g()}):document.attachEvent("onreadystatechange",function m(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",m),g())})}function n(g){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(g)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function a(g,m){g.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+m+";"}function s(g){var m=g.g.offsetWidth,y=m+100;return g.j.style.width=y+"px",g.i.scrollLeft=y,g.h.scrollLeft=g.h.scrollWidth+100,g.l!==m?(g.l=m,!0):!1}function i(g,m){function y(){var S=$;s(S)&&S.g.parentNode!==null&&m(S.l)}var $=g;e(g.h,y),e(g.i,y),s(g)}function o(g,m,y){m=m||{},y=y||window,this.family=g,this.style=m.style||"normal",this.weight=m.weight||"normal",this.stretch=m.stretch||"normal",this.context=y}var l=null,c=null,u=null,d=null;function f(g){return c===null&&(h(g)&&/Apple/.test(window.navigator.vendor)?(g=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!g&&603>parseInt(g[1],10)):c=!1),c}function h(g){return d===null&&(d=!!g.document.fonts),d}function b(g,m){var y=g.style,$=g.weight;if(u===null){var S=document.createElement("div");try{S.style.font="condensed 100px sans-serif"}catch{}u=S.style.font!==""}return[y,$,u?g.stretch:"","100px",m].join(" ")}o.prototype.load=function(g,m){var y=this,$=g||"BESbswy",S=0,E=m||3e3,p=new Date().getTime();return new Promise(function(T,k){if(h(y.context)&&!f(y.context)){var C=new Promise(function(I,O){function q(){new Date().getTime()-p>=E?O(Error(""+E+"ms timeout exceeded")):y.context.document.fonts.load(b(y,'"'+y.family+'"'),$).then(function(ee){1<=ee.length?I():setTimeout(q,25)},O)}q()}),j=new Promise(function(I,O){S=setTimeout(function(){O(Error(""+E+"ms timeout exceeded"))},E)});Promise.race([j,C]).then(function(){clearTimeout(S),T(y)},k)}else t(function(){function I(){var me;(me=ae!=-1&&X!=-1||ae!=-1&&de!=-1||X!=-1&&de!=-1)&&((me=ae!=X&&ae!=de&&X!=de)||(l===null&&(me=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!me&&(536>parseInt(me[1],10)||parseInt(me[1],10)===536&&11>=parseInt(me[2],10))),me=l&&(ae==_e&&X==_e&&de==_e||ae==ye&&X==ye&&de==ye||ae==Ie&&X==Ie&&de==Ie)),me=!me),me&&(we.parentNode!==null&&we.parentNode.removeChild(we),clearTimeout(S),T(y))}function O(){if(new Date().getTime()-p>=E)we.parentNode!==null&&we.parentNode.removeChild(we),k(Error(""+E+"ms timeout exceeded"));else{var me=y.context.document.hidden;(me===!0||me===void 0)&&(ae=q.g.offsetWidth,X=ee.g.offsetWidth,de=se.g.offsetWidth,I()),S=setTimeout(O,50)}}var q=new n($),ee=new n($),se=new n($),ae=-1,X=-1,de=-1,_e=-1,ye=-1,Ie=-1,we=document.createElement("div");we.dir="ltr",a(q,b(y,"sans-serif")),a(ee,b(y,"serif")),a(se,b(y,"monospace")),we.appendChild(q.g),we.appendChild(ee.g),we.appendChild(se.g),y.context.document.body.appendChild(we),_e=q.g.offsetWidth,ye=ee.g.offsetWidth,Ie=se.g.offsetWidth,O(),i(q,function(me){ae=me,I()}),a(q,b(y,'"'+y.family+'",sans-serif')),i(ee,function(me){X=me,I()}),a(ee,b(y,'"'+y.family+'",serif')),i(se,function(me){de=me,I()}),a(se,b(y,'"'+y.family+'",monospace'))})})},r.exports=o})()}(pa)),pa.exports}var yh=bh();const _h=to(yh);var wh=A("<div><!></div>"),xh=A("<div><!></div>");function kh(r,e){ce(e,!0);let t=z(e,"fontName",3,"Roboto"),n=z(e,"fontScale",3,"medium"),a=z(e,"fallback",3,"sans-serif");const s={small:"1rem",medium:"1.5rem",large:"2rem"};let i=Ee(()=>s[n()]||"1.5rem"),o=oe(!1);function l(h){const b=h.replace(/ /g,"+");if(!document.getElementById(`gf-${b}`)){const g=document.createElement("link");g.id=`gf-${b}`,g.rel="stylesheet",g.href=`https://fonts.googleapis.com/css2?family=${b}&display=swap`,document.head.appendChild(g)}}ot(()=>{l(t()),new _h(t()).load(null,1e4).then(()=>{R(o,!0)}).catch(()=>{R(o,!1)})});var c=H(),u=D(c);{var d=h=>{var b=wh(),g=x(b);Y(g,e,"default",{}),J(()=>ge(b,"style",`font-family: '${t()??""}', ${a()??""}; font-size: ${v(i)??""}; transition: opacity 0.3s;`)),_(h,b)},f=h=>{var b=xh(),g=x(b);Y(g,e,"default",{}),J(()=>ge(b,"style",`font-family: ${a()??""}; font-size: ${v(i)??""}; opacity: 0.5;`)),_(h,b)};F(u,h=>{v(o)?h(d):h(f,!1)})}_(r,c),ue()}const Gt=(()=>{/*!
* Copyright (c) 2021-2024 Momo Bassit.
* Licensed under the MIT License (MIT)
* https://github.com/mdbassit/Coloris
* Version: 0.24.0
* NPM: https://github.com/melloware/coloris-npm
*/return((r,e,t,n)=>{const a=e.createElement("canvas").getContext("2d"),s={r:0,g:0,b:0,h:0,s:0,v:0,a:1};let i,o,l,c,u,d,f,h,b,g,m,y,$,S,E,p,T={};const k={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:()=>n,a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},C={};let j="",I={},O=!1;function q(w){if(typeof w=="object")for(const M in w)switch(M){case"el":de(w.el),w.wrap!==!1&&Ie(w.el);break;case"parent":i=w.parent instanceof HTMLElement?w.parent:e.querySelector(w.parent),i&&(i.appendChild(o),k.parent=w.parent,i===e.body&&(i=n));break;case"themeMode":k.themeMode=w.themeMode,w.themeMode==="auto"&&r.matchMedia&&r.matchMedia("(prefers-color-scheme: dark)").matches&&(k.themeMode="dark");case"theme":w.theme&&(k.theme=w.theme),o.className=`clr-picker clr-${k.theme} clr-${k.themeMode}`,k.inline&&ye();break;case"rtl":k.rtl=!!w.rtl,Array.from(e.getElementsByClassName("clr-field")).forEach(te=>te.classList.toggle("clr-rtl",k.rtl));break;case"margin":w.margin*=1,k.margin=isNaN(w.margin)?k.margin:w.margin;break;case"wrap":w.el&&w.wrap&&Ie(w.el);break;case"formatToggle":k.formatToggle=!!w.formatToggle,qe("clr-format").style.display=k.formatToggle?"block":"none",k.formatToggle&&(k.format="auto");break;case"swatches":if(Array.isArray(w.swatches)){const te=qe("clr-swatches"),ve=e.createElement("div");te.textContent="",w.swatches.forEach((je,Ge)=>{const Se=e.createElement("button");Se.setAttribute("type","button"),Se.setAttribute("id",`clr-swatch-${Ge}`),Se.setAttribute("aria-labelledby",`clr-swatch-label clr-swatch-${Ge}`),Se.style.color=je,Se.textContent=je,ve.appendChild(Se)}),w.swatches.length&&te.appendChild(ve),k.swatches=w.swatches.slice()}break;case"swatchesOnly":k.swatchesOnly=!!w.swatchesOnly,o.setAttribute("data-minimal",k.swatchesOnly);break;case"alpha":k.alpha=!!w.alpha,o.setAttribute("data-alpha",k.alpha);break;case"inline":if(k.inline=!!w.inline,o.setAttribute("data-inline",k.inline),k.inline){const te=w.defaultColor||k.defaultColor;S=U(te),ye(),Be(te)}break;case"clearButton":typeof w.clearButton=="object"&&(w.clearButton.label&&(k.clearLabel=w.clearButton.label,f.innerHTML=k.clearLabel),w.clearButton=w.clearButton.show),k.clearButton=!!w.clearButton,f.style.display=k.clearButton?"block":"none";break;case"clearLabel":k.clearLabel=w.clearLabel,f.innerHTML=k.clearLabel;break;case"closeButton":k.closeButton=!!w.closeButton,k.closeButton?o.insertBefore(h,u):u.appendChild(h);break;case"closeLabel":k.closeLabel=w.closeLabel,h.innerHTML=k.closeLabel;break;case"a11y":const B=w.a11y;let K=!1;if(typeof B=="object")for(const te in B)B[te]&&k.a11y[te]&&(k.a11y[te]=B[te],K=!0);if(K){const te=qe("clr-open-label"),ve=qe("clr-swatch-label");te.innerHTML=k.a11y.open,ve.innerHTML=k.a11y.swatch,h.setAttribute("aria-label",k.a11y.close),f.setAttribute("aria-label",k.a11y.clear),b.setAttribute("aria-label",k.a11y.hueSlider),m.setAttribute("aria-label",k.a11y.alphaSlider),d.setAttribute("aria-label",k.a11y.input),l.setAttribute("aria-label",k.a11y.instruction)}break;default:k[M]=w[M]}}function ee(w,M){typeof w=="string"&&typeof M=="object"&&(C[w]=M,O=!0)}function se(w){delete C[w],Object.keys(C).length===0&&(O=!1,w===j&&X())}function ae(w){if(O){const M=["el","wrap","rtl","inline","defaultColor","a11y"];for(let B in C){const K=C[B];if(w.matches(B)){j=B,I={},M.forEach(te=>delete K[te]);for(let te in K)I[te]=Array.isArray(k[te])?k[te].slice():k[te];q(K);break}}}}function X(){Object.keys(I).length>0&&(q(I),j="",I={})}function de(w){w instanceof HTMLElement&&(w=[w]),Array.isArray(w)?w.forEach(M=>{Te(M,"click",_e),Te(M,"input",me)}):(Te(e,"click",w,_e),Te(e,"input",w,me))}function _e(w){k.inline||(ae(w.target),$=w.target,E=$.value,S=U(E),o.classList.add("clr-open"),ye(),Be(E),(k.focusInput||k.selectInput)&&(d.focus({preventScroll:!0}),d.setSelectionRange($.selectionStart,$.selectionEnd)),k.selectInput&&d.select(),(p||k.swatchesOnly)&&gs().shift().focus(),$.dispatchEvent(new Event("open",{bubbles:!0})))}function ye(){if(!o||!$&&!k.inline)return;const w=i,M=r.scrollY,B=o.offsetWidth,K=o.offsetHeight,te={left:!1,top:!1};let ve,je,Ge,Se={x:0,y:0};if(w&&(ve=r.getComputedStyle(w),je=parseFloat(ve.marginTop),Ge=parseFloat(ve.borderTopWidth),Se=w.getBoundingClientRect(),Se.y+=Ge+M),!k.inline){const Je=$.getBoundingClientRect();let Mt=Je.x,Yt=M+Je.y+Je.height+k.margin;w?(Mt-=Se.x,Yt-=Se.y,Mt+B>w.clientWidth&&(Mt+=Je.width-B,te.left=!0),Yt+K>w.clientHeight-je&&K+k.margin<=Je.top-(Se.y-M)&&(Yt-=Je.height+K+k.margin*2,te.top=!0),Yt+=w.scrollTop):(Mt+B>e.documentElement.clientWidth&&(Mt+=Je.width-B,te.left=!0),Yt+K-M>e.documentElement.clientHeight&&K+k.margin<=Je.top&&(Yt=M+Je.y-K-k.margin,te.top=!0)),o.classList.toggle("clr-left",te.left),o.classList.toggle("clr-top",te.top),o.style.left=`${Mt}px`,o.style.top=`${Yt}px`,Se.x+=o.offsetLeft,Se.y+=o.offsetTop}T={width:l.offsetWidth,height:l.offsetHeight,x:l.offsetLeft+Se.x,y:l.offsetTop+Se.y}}function Ie(w){w instanceof HTMLElement?we(w):Array.isArray(w)?w.forEach(we):e.querySelectorAll(w).forEach(we)}function we(w){const M=w.parentNode;if(!M.classList.contains("clr-field")){const B=e.createElement("div");let K="clr-field";(k.rtl||w.classList.contains("clr-rtl"))&&(K+=" clr-rtl"),B.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',M.insertBefore(B,w),B.className=K,B.style.color=w.value,B.appendChild(w)}}function me(w){const M=w.target.parentNode;M.classList.contains("clr-field")&&(M.style.color=w.target.value)}function Re(w){if($&&!k.inline){const M=$;w&&($=n,E!==M.value&&(M.value=E,M.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(()=>{E!==M.value&&M.dispatchEvent(new Event("change",{bubbles:!0}))}),o.classList.remove("clr-open"),O&&X(),M.dispatchEvent(new Event("close",{bubbles:!0})),k.focusInput&&M.focus({preventScroll:!0}),$=n}}function Be(w){const M=Uo(w),B=Bo(M);V(B.s,B.v),Kt(M,B),b.value=B.h,o.style.color=`hsl(${B.h}, 100%, 50%)`,g.style.left=`${B.h/360*100}%`,c.style.left=`${T.width*B.s/100}px`,c.style.top=`${T.height-T.height*B.v/100}px`,m.value=B.a*100,y.style.left=`${B.a*100}%`}function U(w){const M=w.substring(0,3).toLowerCase();return M==="rgb"||M==="hsl"?M:"hex"}function L(w){w=w!==n?w:d.value,$&&($.value=w,$.dispatchEvent(new Event("input",{bubbles:!0}))),k.onChange&&k.onChange.call(r,w,$),e.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:w,currentEl:$}}))}function N(w,M){const B={h:b.value*1,s:w/T.width*100,v:100-M/T.height*100,a:m.value/100},K=Mo(B);V(B.s,B.v),Kt(K,B),L()}function V(w,M){let B=k.a11y.marker;w=w.toFixed(1)*1,M=M.toFixed(1)*1,B=B.replace("{s}",w),B=B.replace("{v}",M),c.setAttribute("aria-label",B)}function fe(w){return{pageX:w.changedTouches?w.changedTouches[0].pageX:w.pageX,pageY:w.changedTouches?w.changedTouches[0].pageY:w.pageY}}function et(w){const M=fe(w);let B=M.pageX-T.x,K=M.pageY-T.y;i&&(K+=i.scrollTop),Br(B,K),w.preventDefault(),w.stopPropagation()}function Jt(w,M){let B=c.style.left.replace("px","")*1+w,K=c.style.top.replace("px","")*1+M;Br(B,K)}function Br(w,M){w=w<0?0:w>T.width?T.width:w,M=M<0?0:M>T.height?T.height:M,c.style.left=`${w}px`,c.style.top=`${M}px`,N(w,M),c.focus()}function Kt(w,M){w===void 0&&(w={}),M===void 0&&(M={});let B=k.format;for(const ve in w)s[ve]=w[ve];for(const ve in M)s[ve]=M[ve];const K=Fo(s),te=K.substring(0,7);switch(c.style.color=te,y.parentNode.style.color=te,y.style.color=K,u.style.color=K,l.style.display="none",l.offsetHeight,l.style.display="",y.nextElementSibling.style.display="none",y.nextElementSibling.offsetHeight,y.nextElementSibling.style.display="",B==="mixed"?B=s.a===1?"hex":"rgb":B==="auto"&&(B=S),B){case"hex":d.value=K;break;case"rgb":d.value=zo(s);break;case"hsl":d.value=qo(Do(s));break}e.querySelector(`.clr-format [value="${B}"]`).checked=!0}function ta(){const w=b.value*1,M=c.style.left.replace("px","")*1,B=c.style.top.replace("px","")*1;o.style.color=`hsl(${w}, 100%, 50%)`,g.style.left=`${w/360*100}%`,N(M,B)}function ra(){const w=m.value/100;y.style.left=`${w*100}%`,Kt({a:w}),L()}function Mo(w){const M=w.s/100,B=w.v/100;let K=M*B,te=w.h/60,ve=K*(1-t.abs(te%2-1)),je=B-K;K=K+je,ve=ve+je;const Ge=t.floor(te)%6,Se=[K,ve,je,je,ve,K][Ge],Je=[ve,K,K,ve,je,je][Ge],Mt=[je,je,ve,K,K,ve][Ge];return{r:t.round(Se*255),g:t.round(Je*255),b:t.round(Mt*255),a:w.a}}function Do(w){const M=w.v/100,B=M*(1-w.s/100/2);let K;return B>0&&B<1&&(K=t.round((M-B)/t.min(B,1-B)*100)),{h:w.h,s:K||0,l:t.round(B*100),a:w.a}}function Bo(w){const M=w.r/255,B=w.g/255,K=w.b/255,te=t.max(M,B,K),ve=t.min(M,B,K),je=te-ve,Ge=te;let Se=0,Je=0;return je&&(te===M&&(Se=(B-K)/je),te===B&&(Se=2+(K-M)/je),te===K&&(Se=4+(M-B)/je),te&&(Je=je/te)),Se=t.floor(Se*60),{h:Se<0?Se+360:Se,s:t.round(Je*100),v:t.round(Ge*100),a:w.a}}function Uo(w){const M=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i;let B,K;return a.fillStyle="#000",a.fillStyle=w,B=M.exec(a.fillStyle),B?K={r:B[3]*1,g:B[4]*1,b:B[5]*1,a:B[6]*1}:(B=a.fillStyle.replace("#","").match(/.{2}/g).map(te=>parseInt(te,16)),K={r:B[0],g:B[1],b:B[2],a:1}),K}function Fo(w){let M=w.r.toString(16),B=w.g.toString(16),K=w.b.toString(16),te="";if(w.r<16&&(M="0"+M),w.g<16&&(B="0"+B),w.b<16&&(K="0"+K),k.alpha&&(w.a<1||k.forceAlpha)){const ve=w.a*255|0;te=ve.toString(16),ve<16&&(te="0"+te)}return"#"+M+B+K+te}function zo(w){return!k.alpha||w.a===1&&!k.forceAlpha?`rgb(${w.r}, ${w.g}, ${w.b})`:`rgba(${w.r}, ${w.g}, ${w.b}, ${w.a})`}function qo(w){return!k.alpha||w.a===1&&!k.forceAlpha?`hsl(${w.h}, ${w.s}%, ${w.l}%)`:`hsla(${w.h}, ${w.s}%, ${w.l}%, ${w.a})`}function Ho(){e.getElementById("clr-picker")||(i=n,o=e.createElement("div"),o.setAttribute("id","clr-picker"),o.className="clr-picker",o.innerHTML=`<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="${k.a11y.input}"><div id="clr-color-area" class="clr-gradient" role="application" aria-label="${k.a11y.instruction}"><div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue"><input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="${k.a11y.hueSlider}"><div id="clr-hue-marker"></div></div><div class="clr-alpha"><input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="${k.a11y.alphaSlider}"><div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented"><legend>${k.a11y.format}</legend><input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div><button type="button" id="clr-clear" class="clr-clear" aria-label="${k.a11y.clear}">${k.clearLabel}</button><div id="clr-color-preview" class="clr-preview"><button type="button" id="clr-close" class="clr-close" aria-label="${k.a11y.close}">${k.closeLabel}</button></div><span id="clr-open-label" hidden>${k.a11y.open}</span><span id="clr-swatch-label" hidden>${k.a11y.swatch}</span>`,e.body.appendChild(o),l=qe("clr-color-area"),c=qe("clr-color-marker"),f=qe("clr-clear"),h=qe("clr-close"),u=qe("clr-color-preview"),d=qe("clr-color-value"),b=qe("clr-hue-slider"),g=qe("clr-hue-marker"),m=qe("clr-alpha-slider"),y=qe("clr-alpha-marker"),de(k.el),Ie(k.el),Te(o,"mousedown",w=>{o.classList.remove("clr-keyboard-nav"),w.stopPropagation()}),Te(l,"mousedown",w=>{Te(e,"mousemove",et)}),Te(l,"contextmenu",w=>{w.preventDefault()}),Te(l,"touchstart",w=>{e.addEventListener("touchmove",et,{passive:!1})}),Te(c,"mousedown",w=>{Te(e,"mousemove",et)}),Te(c,"touchstart",w=>{e.addEventListener("touchmove",et,{passive:!1})}),Te(d,"change",w=>{const M=d.value;if($||k.inline){const B=M===""?M:Be(M);L(B)}}),Te(f,"click",w=>{L(""),Re()}),Te(h,"click",w=>{L(),Re()}),Te(qe("clr-format"),"click",".clr-format input",w=>{S=w.target.value,Kt(),L()}),Te(o,"click",".clr-swatches button",w=>{Be(w.target.textContent),L(),k.swatchesOnly&&Re()}),Te(e,"mouseup",w=>{e.removeEventListener("mousemove",et)}),Te(e,"touchend",w=>{e.removeEventListener("touchmove",et)}),Te(e,"mousedown",w=>{p=!1,o.classList.remove("clr-keyboard-nav"),Re()}),Te(e,"keydown",w=>{const M=w.key,B=w.target,K=w.shiftKey;if(M==="Escape"?Re(!0):["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(M)&&(p=!0,o.classList.add("clr-keyboard-nav")),M==="Tab"&&B.matches(".clr-picker *")){const ve=gs(),je=ve.shift(),Ge=ve.pop();K&&B===je?(Ge.focus(),w.preventDefault()):!K&&B===Ge&&(je.focus(),w.preventDefault())}}),Te(e,"click",".clr-field button",w=>{O&&X(),w.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),Te(c,"keydown",w=>{const M={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(M).includes(w.key)&&(Jt(...M[w.key]),w.preventDefault())}),Te(l,"click",et),Te(b,"input",ta),Te(m,"input",ra))}function gs(){return Array.from(o.querySelectorAll("input, button")).filter(B=>!!B.offsetWidth)}function qe(w){return e.getElementById(w)}function Te(w,M,B,K){const te=Element.prototype.matches||Element.prototype.msMatchesSelector;typeof B=="string"?w.addEventListener(M,ve=>{te.call(ve.target,B)&&K.call(ve.target,ve)}):(K=B,w.addEventListener(M,K))}function mn(w,M){M=M!==n?M:[],e.readyState!=="loading"?w(...M):e.addEventListener("DOMContentLoaded",()=>{w(...M)})}NodeList!==n&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function Vo(w,M){$=M,E=$.value,ae(M),S=U(w),ye(),Be(w),L(),E!==w&&$.dispatchEvent(new Event("change",{bubbles:!0}))}const na=(()=>{const w={init:Ho,set:q,wrap:Ie,close:Re,setInstance:ee,setColor:Vo,removeInstance:se,updatePosition:ye,ready:mn};function M(B){mn(()=>{B&&(typeof B=="string"?de(B):q(B))})}for(const B in w)M[B]=function(){for(var K=arguments.length,te=new Array(K),ve=0;ve<K;ve++)te[ve]=arguments[ve];mn(w[B],te)};return mn(()=>{r.addEventListener("resize",B=>{M.updatePosition()}),r.addEventListener("scroll",B=>{M.updatePosition()})}),M})();return na.coloris=na,na})(window,document,Math)})(),$h=Gt.coloris,Sh=Gt.init;Gt.set;Gt.wrap;Gt.close;Gt.setInstance;Gt.removeInstance;Gt.updatePosition;var Eh=A('<div class="flex flex-col gap-2 w-fit m-5"><label for="coloris" class="text-sm font-medium text-gray-700 dark:text-gray-300"></label> <input id="coloris" type="text" class="border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none w-40 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"> </div>');function zr(r,e){ce(e,!0);let t=z(e,"color",15);ot(()=>{Sh(),$h({el:"#coloris",theme:"default",themeMode:"auto",alpha:!1,swatches:["#264653","#2a9d8f","#e9c46a","#f4a261","#e76f51"]})});function n(o){t(o.target.value),e.colorChanged()}var a=Eh(),s=P(x(a),2),i=P(s);J(()=>ie(i,` ${t()??""}`)),Ve(s,t),G("input",s,n),_(r,a),ue()}const Ce=W({show:!1,title:"",message:"",cancelLabel:"Cancel",confirmLabel:"Yes",component:null,props:null,resolve:null});function Ua(r,e,t,n,a,s){return new Promise(i=>{Ce.title=r,Ce.message=e,Ce.cancelLabel=t,Ce.confirmLabel=n,Ce.show=!0,Ce.component=a,Ce.props=s,Ce.resolve=i})}function ma(r){Ce.resolve&&(Ce.resolve(r),Ce.resolve=null,Ce.component=null),Ce.show=!1}const Th=r=>r;function Io(r){const e=r-1;return e*e*e+1}function ui(r){const e=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[r,"px"]}function Oo(r,{delay:e=0,duration:t=400,easing:n=Th}={}){const a=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*a}`}}function Ph(r,{delay:e=0,duration:t=400,easing:n=Io,x:a=0,y:s=0,opacity:i=0}={}){const o=getComputedStyle(r),l=+o.opacity,c=o.transform==="none"?"":o.transform,u=l*(1-i),[d,f]=ui(a),[h,b]=ui(s);return{delay:e,duration:t,easing:n,css:(g,m)=>`
			transform: ${c} translate(${(1-g)*d}${f}, ${(1-g)*h}${b});
			opacity: ${l-u*m}`}}function fs(r,{delay:e=0,duration:t=400,easing:n=Io,start:a=0,opacity:s=0}={}){const i=getComputedStyle(r),o=+i.opacity,l=i.transform==="none"?"":i.transform,c=1-a,u=o*(1-s);return{delay:e,duration:t,easing:n,css:(d,f)=>`
			transform: ${l} scale(${1-c*f});
			opacity: ${o-u*f}
		`}}var Ch=A('<h2 class="text-xl font-semibold text-black mb-2"> </h2>'),Ah=A('<p class="text-gray-700 mb-4"> </p>'),Ih=A('<div class="fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50" tabindex="0"><div class="bg-white p-6 rounded-lg shadow-lg text-center max-w-sm w-full" role="dialog" aria-modal="true"><!> <!> <!> <div class="mt-4 flex justify-center space-x-4"><button class="px-4 py-2 bg-white text-gray-700 rounded border border-gray-300 hover:bg-gray-100"> </button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"> </button></div></div></div>');function jo(r,e){ce(e,!1),gt();var t=H(),n=D(t);{var a=s=>{var i=Ih(),o=x(i),l=x(o);{var c=S=>{var E=Ch(),p=x(E);J(()=>ie(p,Ce.title)),_(S,E)};F(l,S=>{Ce.title&&S(c)})}var u=P(l,2);{var d=S=>{var E=Ah(),p=x(E);J(()=>ie(p,Ce.message)),_(S,E)};F(u,S=>{Ce.message&&S(d)})}var f=P(u,2);{var h=S=>{var E=H(),p=D(E);Gn(p,()=>Ce.component,(T,k)=>{k(T,{get props(){return Ce.props}})}),_(S,E)};F(f,S=>{Ce.component&&S(h)})}var b=P(f,2),g=x(b),m=x(g),y=P(g,2),$=x(y);J(()=>{ie(m,Ce.cancelLabel),ie($,Ce.confirmLabel)}),G("click",g,()=>ma(!1)),G("click",y,()=>ma((Ce==null?void 0:Ce.props)??!0)),G("click",o,Er(function(S){ts.call(this,e,S)})),Sr(3,o,()=>fs,()=>({duration:200})),G("click",i,()=>ma(!1)),Sr(3,i,()=>Oo),_(s,i)};F(n,s=>{Ce.show&&s(a)})}_(r,t),ue()}var Oh=A('<input placeholder="Rename form name" class="border p-2 w-full">');function jh(r,e){ce(e,!0);let t=z(e,"props",15);var n=Oh();Ve(n,()=>t().name,a=>t(t().name=a,!0)),_(r,n),ue()}const nr="https://app.fabform.io";var Lh=A('<a><!> <span class="text-xs mt-0.5"> </span></a>'),Rh=A('<div class="w-full fixed top-0 left-0 z-50 bg-white border-b border-gray-200 shadow-sm"><nav class="w-full flex items-center justify-between px-4 py-2"><div class="flex items-center space-x-2"><!> <p class="ml-4 font-semibold "> </p></div> <div class="flex items-center space-x-6"></div> <div class="flex items-center gap-2"><!> <!></div></nav></div>');function Nh(r,e){let t=z(e,"formName",3,""),n=z(e,"activeMenuLabel",3,""),a=z(e,"currentFormId",3,"");z(e,"formId",3,"");const s=[{icon:pf,label:"Build",url:`/form/build/${a()}`},{icon:$f,label:"Design",url:`/form/design/${a()}`},{icon:Yn,label:"Integrate",url:"/integrate"},{icon:Of,label:"Share",url:`/share/${a()}`},{icon:af,label:"Responses",url:`/responses/${a()}`}];var i=Rh(),o=x(i),l=x(o),c=x(l);gh(c,{});var u=P(c,2),d=x(u),f=P(l,2);Fe(f,21,()=>s,ze,($,S)=>{let E=()=>v(S).icon,p=()=>v(S).label,T=()=>v(S).url;var k=Lh(),C=x(k);Gn(C,E,(O,q)=>{q(O,{size:24})});var j=P(C,2),I=x(j);at(k,O=>He==null?void 0:He(O)),J(()=>{ge(k,"href",T()),$e(k,`flex flex-col items-center transition-all duration-200 cursor-pointer
                  ${p()===n()?"text-blue-600 font-semibold scale-110":"text-gray-600 hover:text-blue-500"}`),ie(I,p())}),_($,k)});var h=P(f,2),b=x(h);const g=Ee(()=>`${nr}/v/${a()}`);lh(b,{get url(){return v(g)}});var m=P(b,2);const y=Ee(()=>`${nr}/v/${a()}`);Po(m,{get link(){return v(y)}}),J(()=>ie(d,t())),_(r,i)}function jt(r,e){const t=n=>{r.contains(n.target)||e==null||e()};return document.addEventListener("mousedown",t,!0),{update(n){e=n},destroy(){document.removeEventListener("mousedown",t,!0)}}}var Mh=A('<a href="/dashboard" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition"><!> Dashboard</a> <div class="px-4 py-2 text-sm text-gray-500 border-t border-gray-100"> </div> <button class="flex w-full text-left items-center gap-2 px-4 py-2 text-red-600 hover:bg-gray-100 hover:text-red-700 transition"><!> Logout</button>',1),Dh=A('<a href="/login" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition"><!> Login</a> <a href="/signup" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-purple-600 transition"><!> Signup</a>',1),Bh=A('<div class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-2 z-50"><!></div>'),Uh=A('<nav class="bg-white border-b border-gray-200 shadow-sm px-6 py-4 font-sans"><div class="flex justify-between items-center"><a href="/" class="flex items-center"><img src="/logo.png" alt="FabForm Logo" class="h-8 w-auto hover:opacity-80 transition"></a> <a target="_blank" rel="noopener noreferrer" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-2xl shadow-md flex items-center gap-2 transition duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2"><svg class="w-5 h-5 text-white/80" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Buy Pro</a> <div class="relative"><button class="focus:outline-none"><!></button> <!></div></div></nav>');function Fh(r,e){ce(e,!1);const{state:t,logout:n}=or;let a=Ue(!1);const s=async()=>{R(a,!1),await n(),St("/login")},i=()=>R(a,!v(a));gt();var o=Uh(),l=x(o),c=x(l);at(c,m=>He==null?void 0:He(m));var u=P(c,2);ge(u,"href",`${nr}/pricing/`);var d=P(u,2),f=x(d),h=x(f);ko(h,{class:"w-6 h-6 text-gray-600 hover:text-indigo-600 transition"});var b=P(f,2);{var g=m=>{var y=Bh(),$=x(y);{var S=p=>{var T=Mh(),k=D(T),C=x(k);_f(C,{class:"w-4 h-4"}),at(k,ee=>He==null?void 0:He(ee)),Ze(()=>G("click",k,()=>R(a,!1)));var j=P(k,2),I=x(j),O=P(j,2),q=x(O);xf(q,{class:"w-4 h-4"}),J(()=>ie(I,t.user.email)),G("click",O,s),_(p,T)},E=p=>{var T=Dh(),k=D(T),C=x(k);wf(C,{class:"w-4 h-4"}),at(k,O=>He==null?void 0:He(O)),Ze(()=>G("click",k,()=>R(a,!1)));var j=P(k,2),I=x(j);Ff(I,{class:"w-4 h-4"}),at(j,O=>He==null?void 0:He(O)),Ze(()=>G("click",j,()=>R(a,!1))),_(p,T)};F($,p=>{t.user?p(S):p(E,!1)})}at(y,(p,T)=>jt==null?void 0:jt(p,T),()=>()=>R(a,!1)),_(m,y)};F(b,m=>{v(a)&&m(g)})}G("click",f,i),_(r,o),ue()}function hs(r,e){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>r(...n),e)}}var zh=A('<div class="flex items-center justify-center h-screen"><!></div>'),qh=A('<main class="h-screen flex flex-col"><!> <!></main>');function Zn(r,e){ce(e,!0);let t=z(e,"form",15),n=z(e,"formId",7),a=oe("loading");const s=hs(u=>{R(a,W(u))},500);ot(async()=>{const u=await ls(n());u.success||R(a,"notfound"),t(u.data.form),s("ok")});var i=H(),o=D(i);{var l=u=>{var d=zh(),f=x(d);hh(f),_(u,d)},c=u=>{var d=H(),f=D(d);{var h=g=>{mh(g,{})},b=g=>{var m=qh(),y=x(m);Nh(y,{get activeMenuLabel(){return e.activeMenuLabel},get formName(){return t().name},get currentFormId(){return n()},set currentFormId(S){n(S)}});var $=P(y,2);Gi($,()=>e.children??qt),_(g,m)};F(f,g=>{v(a)==="notfound"?g(h):g(b,!1)},!0)}_(u,d)};F(o,u=>{v(a)==="loading"?u(l):u(c,!1)})}_(r,i),ue()}var Hh=A('<p class="text-gray-500 font-semibold mt-2 mb-1">Welcome Screen</p>'),Vh=A('<p class="text-gray-500 font-semibold mt-2 mb-1">Thank You Screen</p>'),Wh=A('<p class="text-gray-500 font-semibold mt-2 mb-1">Blocks</p> <!>',1),Gh=A('<!> <div><div class="flex items-center gap-1 flex-1 text-sm text-gray-800"><div class="shrink-0"><!></div> <span class="truncate mx-2 block"> </span></div> <div class="shrink-0 pointer-events-auto relative opacity-0 group-hover:opacity-100 transition-opacity duration-300"><!></div></div>',1),Jh=A('<section class="p-2 space-y-1 min-h-[100px] pb-20 overflow-hidden"></section>');function Kh(r,e){ce(e,!0);let t=z(e,"blockNo",15,null);function n(i,o){t(o),e.changeBlock(o)}let a=!1;var s=Jh();Fe(s,23,()=>e.blocks,i=>i.id,(i,o,l)=>{var c=Gh(),u=D(c);{var d=T=>{var k=Hh();_(T,k)},f=T=>{var k=H(),C=D(k);{var j=O=>{var q=Vh();_(O,q)},I=O=>{var q=H(),ee=D(q);{var se=ae=>{var X=Wh(),de=P(D(X),2);Wn(de,()=>(a=!0,""),!1,!1),_(ae,X)};F(ee,ae=>{a||ae(se)},!0)}_(O,q)};F(C,O=>{v(o).meta.blockTypeId===99?O(j):O(I,!1)},!0)}_(T,k)};F(u,T=>{v(o).meta.blockTypeId===1?T(d):T(f,!1)})}var h=P(u,2),b=x(h),g=x(b),m=x(g);const y=Ee(()=>+v(o).meta.blockTypeId-1);ds(m,{get blockId(){return v(y)}});var $=P(g,2),S=x($),E=P(b,2),p=x(E);Co(p,{dropdownItems:[{label:"Duplicate",icon:"Duplicate",onClick:()=>e.duplicateBlock(v(o).id)},{label:"Delete",icon:"Delete",onClick:()=>e.deleteBlock(v(o).id)}]}),J(()=>{$e(h,ut(["block-draggable w-full sm:w-72 flex items-center justify-between gap-2 p-2 rounded-md transition-all h-16 group",v(o).meta.bgColor??"",t()===v(l)?"border-2 shadow-lg scale-105":"border border-gray-300 shadow-sm my-2"])),ie(S,v(o).meta.title||v(o).meta.question)}),G("click",h,()=>n(v(o).id,v(l))),_(i,c)}),_(r,s),ue()}const Le=["bg-red-100","bg-orange-100","bg-yellow-100","bg-green-100","bg-blue-100","bg-indigo-100","bg-purple-100","bg-pink-100","bg-fuchsia-100","bg-rose-100","bg-teal-100","bg-emerald-100","bg-cyan-100","bg-lime-100","bg-amber-100","bg-sky-100","bg-violet-100","bg-rose-200","bg-pink-200","bg-fuchsia-200","bg-violet-200","bg-indigo-200","bg-orange-200","bg-yellow-200","bg-green-200"];let Xr=[{blockTypeId:1,label:"Welcome",title:"Hello There ",description:"Mind giving this form a quick fill?",embed:"",buttonText:"Lets Start",component:"Welcome",textAlign:"center",coverImageProps:{coverImage:"",layout:""},bgColor:Le[0]},{blockTypeId:2,label:"Short Text Block",question:"Your question here...",description:"",component:"ShortText",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:Le[1]},{blockTypeId:3,label:"Long Text Block",question:"Your question here...",description:"",component:"LongText",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here...",maxCharacters:"",size:"Medium"},textAlign:"left",coverImageProps:{coverImage:"",layout:""},bgColor:Le[2]},{blockTypeId:4,label:"Single Select Option",question:"Which do you prefer?",description:"",component:"Select",buttonText:"Next",validation:{required:!1},props:{choices:[],multiple:!1},coverImageProps:{coverImage:"",layout:""},bgColor:Le[3]},{blockTypeId:5,label:"Multi Select Option",question:"Please choose at least one option",description:"",component:"Select",buttonText:"Next",validation:{required:!1},props:{choices:["Lions","Tigers","Bears","Fish"],multiple:!0},coverImageProps:{coverImage:"",layout:""},bgColor:Le[4]},{blockTypeId:6,label:"Dropdown",question:"Please choose ",description:"",component:"DropdownBlock",buttonText:"Next",validation:{required:!1},props:{choices:["One","Two","Three"]},coverImageProps:{coverImage:"",layout:""},bgColor:Le[5]},{blockTypeId:7,label:"StarRating",question:"How would you rate your experience?",description:"",component:"StarRating",buttonText:"Next",validation:{required:!1},props:{maxRating:"5"},coverImageProps:{coverImage:"",layout:""},bgColor:Le[6]},{blockTypeId:8,label:"DatePicker",question:"Please select a date",description:"",component:"DatePicker",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[7]},{blockTypeId:9,label:"Number",question:"Please enter a number",description:"",component:"Number",buttonText:"Next",validation:{required:!1},props:{placeholder:""},coverImageProps:{coverImage:"",layout:""},bgColor:Le[8]},{blockTypeId:10,label:"OpinionScale",question:"How likely are you to recommend us?",description:"",component:"OpinionScale",buttonText:"Next",validation:{required:!1},props:{start:"1",end:"10",leftLabel:"Good",rightLabel:"Bad"},coverImageProps:{coverImage:"",layout:""},bgColor:Le[9]},{blockTypeId:11,label:"PhoneNumber",question:"Please enter a phone number",description:"",component:"PhoneNumber",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[10]},{blockTypeId:12,label:"Statement",title:"This is The Statement Block",description:"This is where you would put your statement text here",component:"Statement",buttonText:"Next",props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[11]},{blockTypeId:13,label:"Signature",question:"",description:"",component:"Signature",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[12]},{blockTypeId:14,label:"Website URL",question:"Please enter a URL",description:"",component:"Website",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[13]},{blockTypeId:15,label:"Scheduler URL",question:"",description:"",component:"Scheduler",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[14]},{blockTypeId:16,label:"FileUploader",question:"",description:"",component:"FileUploader",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:Le[15]},{blockTypeId:17,label:"Email",question:"Your your email address?",description:"",component:"Email",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:Le[16]},{blockTypeId:18,label:"Checkox",question:"Please check if....",description:"",component:"CheckboxBlock",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:Le[17]},{blockTypeId:19,label:"MoodMeter",question:"How did we make you feel?",description:"",component:"MoodMeter",buttonText:"Next",validation:{required:!1},coverImageProps:{coverImage:"",layout:""},bgColor:Le[18]},{blockTypeId:99,label:"ThankYou",title:"Thanks ",description:"Thanks",embed:"",component:"ThankYou",textAlign:"center",coverImageProps:{coverImage:"",layout:""},bgColor:Le[20]}];const ea=r=>({success:!0,data:r}),Ar=r=>({success:!1,error:(r==null?void 0:r.message)||"Unknown error"});async function Yh(r){var n;const{data:e,error:t}=await ke.from("blocks").delete().eq("id",r).select();return t?Ar(t):ea({id:(n=e[0])==null?void 0:n.id})}async function Fa(r,e){const{...t}=e,{count:n,error:a}=await ke.from("blocks").select("*",{count:"exact",head:!0}).eq("form_id",r);if(a)return Ar(a);const s=n??0,{data:i,error:o}=await ke.from("blocks").insert({form_id:r,position:s,meta:t}).select().single();return o?Ar(o):ea({blockId:i.id})}async function Lo(r){const{data:e,error:t}=await ke.from("blocks").select("*").eq("form_id",r).order("position",{ascending:!0});return t?Ar(t):ea({blocks:e})}async function di(r){const{id:e,meta:t,position:n}=r;if(!e)return Ar("Missing block ID");const{data:a,error:s}=await ke.from("blocks").update({meta:t,position:n}).eq("id",e).select().single();return s?Ar(s):ea({block:a})}var Qh=A('<div class="flex flex-col items-center justify-center py-20 bg-gray-100 rounded-lg text-center space-y-4"><!> <h2 class="text-xl font-semibold text-gray-700">No forms created yet</h2> <p class="text-gray-500">Start by creating a new form to get started.</p> <button class="bg-black text-white px-6 py-2 rounded-xl hover:bg-neutral-800 transition">Create New Form</button></div>'),Xh=A('<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6"></div>'),Zh=A('<!> <div class="p-6 bg-white text-black min-h-screen"><!> <div class="flex justify-between items-center mb-6"><h1 class="text-2xl font-bold">My Forms</h1> <button class="flex items-center gap-2 px-4 py-2 bg-black text-white rounded-xl hover:bg-neutral-800 transition"><!> <span>New Form</span></button></div> <!></div>',1);function ev(r,e){ce(e,!1);let t=Ue([]),n=Ue({});const{state:a}=or,s={backgroundImage:"",backgroundColor:"#f9fafb",questionColor:"#1f2937",answerColor:"#374151",buttonColor:"#2563eb",buttonTextColor:"#ffffff",starRatingColor:"#facc15",font:"Inter",logo:null,roundedCorner:!0,fontSize:"Medium"};ot(i);async function i(){var I;const C=(I=a.user)==null?void 0:I.id;if(!C)return;const j=await Gd(C);R(t,j.success?j.data.forms:[]);for(let O of v(t))await o(O.id)}async function o(C){const{success:j,data:I}=await Vf(C);xr(n,v(n)[C]=j?I.count:0)}async function l(C){const j=await Ua("Rename form","","Cancel","Rename",jh,{name:"Untitled"});j&&j.name&&(await Na({id:C,name:j.name})).success&&i()}async function c(C){await Ua("Delete Confirmation","Are you sure you want to delete this form?","No, keep it","Yes, delete it")&&(await Jd(C)).success&&await i()}async function u(){var O;const C=(O=a.user)==null?void 0:O.id;if(!C){console.error("User ID is missing");return}const j={name:"Untitled Form",user_id:C,meta:{...s}},I=await Wd(j);if(I.success){await i();const q=I.data.id;Xr[0]?(await Fa(q,Xr[0]),await Fa(q,Xr[19])):console.warn("blockTemplates[0] is undefined.")}else console.error("Failed to create form:",I.error)}function d(C){const j=nr+`/v/${C}`;navigator.clipboard.writeText(j)}function f(C){const j=nr+`/v/${C}`;St(j)}async function h(C){const{success:j,data:I}=await Kd(C);j?(alert("Form duplicated successfully!"),i()):alert("Failed to duplicate form: "+I.error)}gt();var b=Zh(),g=D(b);Fh(g,{});var m=P(g,2),y=x(m);jo(y,{});var $=P(y,2),S=P(x($),2),E=x(S);Ef(E,{class:"w-5 h-5"});var p=P($,2);{var T=C=>{var j=Qh(),I=x(j);So(I,{class:"w-16 h-16 text-gray-400"});var O=P(I,6);G("click",O,u),_(C,j)},k=C=>{var j=Xh();Fe(j,5,()=>v(t),ze,(I,O)=>{ih(I,{get form(){return v(O)},get responseCount(){return v(n)[v(O).id]},onOpen:()=>f(v(O).id),onCopy:()=>d(v(O).id),onRename:()=>l(v(O).id),onRenameLink:()=>renameLink(v(O).id),onDuplicate:()=>h(v(O).id),onDelete:()=>c(v(O).id)})}),_(C,j)};F(p,C=>{v(t).length===0?C(T):C(k,!1)})}G("click",S,u),_(r,b),ue()}var tv=A('<button><!> <span class="text-center font-semibold svelte-1r71yjz"> </span></button>'),rv=A(`<div class="fixed inset-0 flex items-center justify-center z-50 bg-black/30 svelte-1r71yjz" tabindex="0" role="dialog" aria-modal="true"><div class="bg-white rounded-2xl w-[92vw] max-w-5xl p-6 shadow-2xl
             flex flex-col gap-6 items-center animate-fade-scale-in
             max-h-[90vh] overflow-hidden svelte-1r71yjz"><div class="w-full flex justify-between items-center shrink-0 svelte-1r71yjz"><h2 class="text-2xl font-semibold tracking-tight text-gray-900 select-none svelte-1r71yjz">Choose your block</h2> <button aria-label="Close" class="p-2 hover:bg-gray-200 rounded-md transition-colors duration-200 svelte-1r71yjz"><!></button></div> <div class="w-full grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-5
               overflow-y-auto pr-1 svelte-1r71yjz" style="max-height: calc(90vh - 80px);"></div></div></div>`);function nv(r,e){ce(e,!0);const t=$l("blockPickerClick")??(()=>{});function n(l,c){t(c),e.close()}function a(l){l.key==="Escape"&&e.close()}var s=H(),i=D(s);{var o=l=>{var c=rv(),u=x(c),d=x(u),f=P(x(d),2),h=x(f);zf(h,{class:"w-6 h-6 text-gray-700 hover:text-gray-900"});var b=P(d,2);Fe(b,21,()=>Xr,ze,(g,m,y)=>{var $=tv(),S=x($);ds(S,{blockId:y,class:"mb-2 w-7 h-7"});var E=P(S,2),p=x(E);J(()=>{$e($,`${`relative flex flex-col items-center justify-center
                    p-5 rounded-xl cursor-pointer select-none border-2
                    min-h-[115px] min-w-[115px] text-gray-900 text-sm
                    transition-all duration-300 ease-in-out
                    ${v(m).bgColor}
                    border-gray-300 hover:shadow-[0_4px_15px_rgba(0,0,0,0.1)]
                    hover:scale-105 hover:border-indigo-400`??""} svelte-1r71yjz`),ie(p,v(m).label)}),G("click",$,()=>n(v(m).label,y)),_(g,$)}),G("click",f,()=>{e.close()}),G("click",u,Er(function(g){ts.call(this,e,g)})),G("click",c,()=>{e.close()}),G("keydown",c,a),_(l,c)};F(i,l=>{e.show&&l(o)})}_(r,s),ue()}var av=A('<div><div class="flex flex-col justify-center items-center"><!></div></div>'),sv=A('<div><div></div> <div class="flex flex-col justify-center items-center"><!></div></div>'),iv=A('<div><div class="w-1/2 bg-cover bg-center"></div> <div class="w-1/2 flex flex-col justify-center items-center"><!></div></div>'),ov=A('<div><div class="w-1/2 flex flex-col justify-center items-center"><!></div> <div class="w-1/2 bg-cover bg-center"></div></div>'),lv=A("<div><!></div>");function Ro(r,e){ce(e,!0);let t=z(e,"block",15),n=z(e,"uiMeta",23,()=>({})),a=z(e,"formMode",3,!1),s=z(e,"nextBlock",19,()=>({})),i=z(e,"errorMessage",3,"");const o=Ee(()=>{var g,m,y;return(y=(m=(g=t())==null?void 0:g.meta)==null?void 0:m.coverImageProps)==null?void 0:y.coverImage}),l=Ee(()=>{var g,m,y;return(y=(m=(g=t())==null?void 0:g.meta)==null?void 0:m.coverImageProps)==null?void 0:y.layout}),c=Ee(()=>{var g;return n()&&n().backgroundImage&&n().backgroundImage.startsWith("http")?`background-image: url(${n().backgroundImage}); background-size: cover; background-repeat: no-repeat; background-position: center;`:`background-color: ${(g=n())==null?void 0:g.backgroundColor}`}),u=Ee(()=>{var g;return`color: ${(g=n())==null?void 0:g.questionColor}`}),d=Ee(()=>`${v(u)}; ${v(c)}`),f=a()?"h-screen w-screen":"h-full w-full";var h=lv();$e(h,`flex items-center justify-center ${f??""}`);var b=x(h);kh(b,{fontName:"Special Elite",fontScale:"large",children:(g,m)=>{var y=H(),$=D(y);{var S=p=>{var T=av(),k=x(T),C=x(k);En(C,{get uiMeta(){return n()},get formMode(){return a()},get clickHandler(){return s()},get errorMessage(){return i()},get block(){return t()},set block(j){t(j)}}),J(()=>{$e(T,ut([f,"flex items-center justify-center",v(o)&&"bg-cover  bg-center"])),ge(T,"style",v(o)&&`background-image: url('${v(o)}')`)}),_(p,T)},E=p=>{var T=H(),k=D(T);{var C=I=>{var O=sv();$e(O,ut([f,"flex justify-end.reverse items-center flex-col"]));var q=x(O),ee=P(q,2),se=x(ee);En(se,{get uiMeta(){return n()},get formMode(){return a()},block:blocks[blockNo],get clickHandler(){return s()},get errorMessage(){return i()}}),J(()=>{ge(O,"style",v(c)),$e(q,ut(["flex w-96 h-64 m-10",v(o)&&"bg-cover  bg-center"])),ge(q,"style",v(o)&&`background-image: url('${v(o)}')`)}),_(I,O)},j=I=>{var O=H(),q=D(O);{var ee=ae=>{var X=iv();$e(X,ut([f,"flex"]));var de=x(X),_e=P(de,2),ye=x(_e);En(ye,{get uiMeta(){return n()},get formMode(){return a()},get block(){return t()},get clickHandler(){return s()},get errorMessage(){return i()}}),J(()=>ge(de,"style",`background-image: url('${v(o)}')`)),_(ae,X)},se=ae=>{var X=H(),de=D(X);{var _e=ye=>{var Ie=ov();$e(Ie,ut([f,"flex"]));var we=x(Ie),me=x(we);En(me,{get formMode(){return a()},get clickHandler(){return s()},get errorMessage(){return i()},get uiMeta(){return n()},set uiMeta(Be){n(Be)},get block(){return t()},set block(Be){t(Be)}});var Re=P(we,2);J(()=>ge(Re,"style",`background-image: url('${v(o)}')`)),_(ye,Ie)};F(de,ye=>{v(l)==="Split-right"&&ye(_e)},!0)}_(ae,X)};F(q,ae=>{v(l)==="Split-left"?ae(ee):ae(se,!1)},!0)}_(I,O)};F(k,I=>{v(l)==="Stack"?I(C):I(j,!1)},!0)}_(p,T)};F($,p=>{v(l)==="Wallpaper"||!v(l)?p(S):p(E,!1)})}_(g,y)},$$slots:{default:!0}}),J(()=>ge(h,"style",v(d))),_(r,h),ue()}function cv(r){}var uv=A('<span class="absolute left-0 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"><!></span>'),dv=A('<span class="absolute bottom-0 left-0 h-0.5 w-0 bg-indigo-500 transition-all duration-300 peer-focus:w-full"></span>'),fv=A('<div class="relative w-full m-0 p-0"><!> <input type="text"> <!></div>');function fi(r,e){ce(e,!0);let t=z(e,"value",15),n=z(e,"formMode",3,!1),{icon:a=null}=e.props??{},s=oe(W(t()??""));function i(h){R(s,W(h.target.value)),t(h.target.value)}var o=fv(),l=x(o);{var c=h=>{var b=uv(),g=x(b);Wn(g,()=>a,!1,!1),_(h,b)};F(l,h=>{a&&h(c)})}var u=P(l,2),d=P(u,2);{var f=h=>{var b=dv();_(h,b)};F(d,h=>{n()&&h(f)})}J(()=>{ge(u,"placeholder",e.props.placeholder),ge(u,"tabindex",n()?0:-1),$e(u,`peer block w-full bg-transparent border-0 border-b-2 text-xl py-2 px-0 outline-none transition-all duration-300
      ${a?"pl-8":""}
      ${n()?"text-gray-900 border-gray-400 focus:border-indigo-500":"text-gray-400 border-gray-200 cursor-not-allowed"}
    `)}),Ve(u,()=>v(s),h=>R(s,h)),G("input",u,i),_(r,o),ue()}var hv=A('<p class="text-sm text-gray-600 mt-2 ml-1 italic"></p>'),vv=A('<div class="w-full px-4 py-2"><textarea></textarea> <!></div>');function gv(r,e){ce(e,!0);let t=z(e,"value",15),n=z(e,"formMode",3,!1),{message:a=""}=e.props??{},s=oe(W(t()??"")),i=Ee(()=>{var h;return((h=e.props)==null?void 0:h.size)??"Medium"});const o={Small:"w-80 h-32",Medium:"w-96 h-40",Large:"w-[32rem] h-48","Extra Large":"w-[32rem] h-64"};function l(h){n()&&(R(s,W(h.target.value)),t(h.target.value))}var c=vv(),u=x(c),d=P(u,2);{var f=h=>{var b=hv();b.textContent=a,_(h,b)};F(d,h=>{a&&h(f)})}J(()=>{ge(u,"placeholder",e.props.placeholder),$e(u,`border rounded-xl p-4 resize-none text-base shadow-sm focus:outline-none
      ${o[v(i)]}
      ${n()?"text-gray-900 border-gray-400 focus:border-indigo-500":"text-gray-400 border-gray-200 cursor-not-allowed"}
    `)}),Ve(u,()=>v(s),h=>R(s,h)),G("input",u,l),_(r,c),ue()}var pv=A('<div class="flex items-center border border-gray-300 rounded-lg px-3 py-2 bg-white shadow-sm"><input type="date" class="appearance-none text-gray-700 text-lg outline-none bg-transparent flex-grow svelte-tkp40j"> <button type="button" class="ml-2 p-1 rounded-md hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500" aria-label="Open calendar"><!></button></div>');function mv(r,e){let t=z(e,"value",15),n=z(e,"formMode",3,!1),a=z(e,"props",19,()=>({})),{label:s="Pick a date"}=a(),i=oe(W(t()||"")),o;function l(b){R(i,W(b.target.value)),t(v(i))}function c(){n()&&(o!=null&&o.showPicker?o.showPicker():o==null||o.focus())}var u=pv(),d=x(u);Jn(d,b=>o=b,()=>o);var f=P(d,2),h=x(f);cs(h,{class:"w-5 h-5 text-indigo-600"}),J(()=>{pc(u,"cursor-not-allowed",!n()),Ki(d,v(i)),d.readOnly=!n(),ge(d,"tabindex",n()?0:-1),f.disabled=!n()}),G("input",d,l),G("click",d,Er(()=>n()&&c())),G("click",f,c),_(r,u)}var bv=A('<span class="text-gray-700"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg></span>'),yv=A('<li role="option" tabindex="0"><span> </span> <!></li>'),_v=A('<div class="absolute right-0 mt-2 w-full rounded-lg bg-white border border-gray-300 shadow-lg z-50" role="listbox" tabindex="-1"><div class="relative max-h-60 overflow-y-auto rounded-lg pr-2"><div class="absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-white to-transparent pointer-events-none z-10"></div> <div class="absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-white to-transparent pointer-events-none z-10"></div> <ul class="p-2 space-y-1 relative z-20"></ul></div></div>'),wv=A('<div class="relative inline-block w-64 font-sans"><button class="w-full flex justify-between items-center px-5 py-3 rounded-lg bg-white border border-gray-300 shadow-sm text-gray-700 font-medium hover:shadow-md focus:outline-none focus:ring-2 focus:ring-gray-400 transition-all duration-200" aria-haspopup="listbox"><span class="truncate flex-grow text-left"> </span> <!></button> <!></div>');function xv(r,e){ce(e,!0);let t=z(e,"value",15),{choices:n=[],label:a=""}=e.props,s=oe(!1),i=oe(W(t()||null)),o=oe(null);const l=hs(()=>{R(s,!1),R(o,null)},300);function c(){e.formMode&&R(s,!v(s))}function u(S,E){e.formMode&&(R(i,W(S)),t(S),R(o,W(E)),l())}var d=wv(),f=x(d),h=x(f),b=x(h),g=P(h,2);const m=Ee(()=>`w-5 h-5 ml-2 transition-transform duration-300 text-gray-500 ${v(s)?"rotate-180":""}`);xo(g,{get class(){return v(m)}});var y=P(f,2);{var $=S=>{var E=_v(),p=x(E),T=P(x(p),4);Fe(T,21,()=>n,ze,(k,C,j)=>{var I=yv(),O=x(I),q=x(O),ee=P(O,2);{var se=ae=>{var X=bv();Sr(3,X,()=>fs,()=>({duration:200})),_(ae,X)};F(ee,ae=>{v(i)===v(C)&&ae(se)})}J(()=>{$e(I,`${`flex justify-between items-center px-4 py-2 rounded-md cursor-pointer select-none transition-colors duration-200
                ${v(o)===j?"bg-gray-100 animate-pulse":v(i)===v(C)?"bg-gray-200 font-semibold text-gray-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`??""} svelte-3az2sw`),ge(I,"aria-selected",v(i)===v(C)),ie(q,v(C))}),G("click",I,()=>u(v(C),j)),_(k,I)}),_(S,E)};F(y,S=>{v(s)&&e.formMode&&S($)})}at(d,(S,E)=>jt==null?void 0:jt(S,E),()=>()=>{e.formMode&&R(s,!1)}),J(()=>{ge(f,"style",e.formMode?"":"pointer-events: none;"),ge(f,"aria-expanded",v(s)),ie(b,v(i)||a)}),G("click",f,c),_(r,d),ue()}function kv(r,e,t){const n=r.target.value.replace(/\D/g,"");R(e,W(n)),t(n)}function $v(r,e){if(!e()){r.preventDefault();return}r.data&&/\D/.test(r.data)&&r.preventDefault()}var Sv=A('<div><label class="text-gray-700 text-base font-medium"> </label> <input type="text" inputmode="numeric" pattern="\\d*"></div>');function Ev(r,e){ce(e,!0);let t=z(e,"value",15),n=z(e,"formMode",3,!1),a=oe(W(t()??""));var s=Sv(),i=x(s),o=x(i),l=P(i,2);l.__input=[kv,a,t],l.__beforeinput=[$v,n],J(()=>{var c;$e(s,`${`flex flex-col space-y-2 w-full max-w-xs wrapper ${n()?"":"disabled-cursor"}`??""} svelte-1eb19ou`),ie(o,((c=e.props)==null?void 0:c.label)??""),ge(l,"placeholder",e.props.placeholder),ge(l,"tabindex",n()?0:-1),l.readOnly=!n(),$e(l,`${`w-full bg-transparent text-lg text-center border-b-2 focus:outline-none
      ${n()?"text-gray-800 border-gray-300 focus:border-indigo-500 cursor-text":"text-gray-400 border-gray-200 disabled"}
    `??""} svelte-1eb19ou`)}),Ve(l,()=>v(a),c=>R(a,c)),_(r,s),ue()}Nr(["input","beforeinput"]);var Tv=(r,e,t)=>e(v(t)),Pv=A("<button> </button>"),Cv=A('<div class="w-full max-w-3xl mx-auto space-y-6 svelte-16qk2zm"><div class="flex justify-center gap-3 px-2  svelte-16qk2zm"></div> <div class="flex justify-between text-sm text-gray-500 font-medium px-2 svelte-16qk2zm"><span class="svelte-16qk2zm"> </span> <span class="svelte-16qk2zm"> </span></div></div>');function Av(r,e){ce(e,!0);let t=z(e,"formMode",3,!1),n=z(e,"value",15),a=Ee(()=>Number(e.props.start??0)),s=Ee(()=>Number(e.props.end??10)),i=oe(W(n())),o=oe(!1);function l(m){t()&&(R(i,W(m)),n(m),R(o,!1),requestAnimationFrame(()=>R(o,!0)))}kt(()=>{n()!==v(i)&&R(i,W(n()))});var c=Cv(),u=x(c);Fe(u,21,()=>Array(v(s)-v(a)+1).entries(),ze,(m,y)=>{let $=()=>v(y)[0];var S=Pv();const E=Ee(()=>v(a)+$());S.__click=[Tv,l,E];var p=x(S);J(()=>{$e(S,`${`w-10 h-10 sm:w-12 sm:h-12 rounded font-semibold text-sm transition duration-300 transform
          flex items-center justify-center
          ${t()?"cursor-pointer":"pointer-events-none"}
          ${v(i)===v(E)?`bg-indigo-600 text-white shadow-lg ${v(o)?"pop":""}`:"bg-white text-gray-800 border border-gray-300 hover:bg-indigo-100 hover:text-indigo-700"}
        `??""} svelte-16qk2zm`),ie(p,v(E))}),_(m,S)});var d=P(u,2),f=x(d),h=x(f),b=P(f,2),g=x(b);J(()=>{ie(h,e.props.leftLabel),ie(g,e.props.rightLabel)}),_(r,c),ue()}Nr(["click"]);const hi=[{name:"Afghanistan",code:"+93",flag:""},{name:"Albania",code:"+355",flag:""},{name:"Algeria",code:"+213",flag:""},{name:"Andorra",code:"+376",flag:""},{name:"Angola",code:"+244",flag:""},{name:"Antigua and Barbuda",code:"+1-268",flag:""},{name:"Argentina",code:"+54",flag:""},{name:"Armenia",code:"+374",flag:""},{name:"Australia",code:"+61",flag:""},{name:"Austria",code:"+43",flag:""},{name:"Azerbaijan",code:"+994",flag:""},{name:"Bahamas",code:"+1-242",flag:""},{name:"Bahrain",code:"+973",flag:""},{name:"Bangladesh",code:"+880",flag:""},{name:"Barbados",code:"+1-246",flag:""},{name:"Belarus",code:"+375",flag:""},{name:"Belgium",code:"+32",flag:""},{name:"Belize",code:"+501",flag:""},{name:"Benin",code:"+229",flag:""},{name:"Bhutan",code:"+975",flag:""},{name:"Bolivia",code:"+591",flag:""},{name:"Bosnia and Herzegovina",code:"+387",flag:""},{name:"Botswana",code:"+267",flag:""},{name:"Brazil",code:"+55",flag:""},{name:"Brunei",code:"+673",flag:""},{name:"Bulgaria",code:"+359",flag:""},{name:"Burkina Faso",code:"+226",flag:""},{name:"Burundi",code:"+257",flag:""},{name:"Cabo Verde",code:"+238",flag:""},{name:"Cambodia",code:"+855",flag:""},{name:"Cameroon",code:"+237",flag:""},{name:"Canada",code:"+1",flag:""},{name:"Central African Republic",code:"+236",flag:""},{name:"Chad",code:"+235",flag:""},{name:"Chile",code:"+56",flag:""},{name:"China",code:"+86",flag:""},{name:"Colombia",code:"+57",flag:""},{name:"Comoros",code:"+269",flag:""},{name:"Congo (Congo-Brazzaville)",code:"+242",flag:""},{name:"Costa Rica",code:"+506",flag:""},{name:"Croatia",code:"+385",flag:""},{name:"Cuba",code:"+53",flag:""},{name:"Cyprus",code:"+357",flag:""},{name:"Czechia (Czech Republic)",code:"+420",flag:""},{name:"Democratic Republic of the Congo",code:"+243",flag:""},{name:"Denmark",code:"+45",flag:""},{name:"Djibouti",code:"+253",flag:""},{name:"Dominica",code:"+1-767",flag:""},{name:"Dominican Republic",code:"+1-809",flag:""},{name:"Ecuador",code:"+593",flag:""},{name:"Egypt",code:"+20",flag:""},{name:"El Salvador",code:"+503",flag:""},{name:"Equatorial Guinea",code:"+240",flag:""},{name:"Eritrea",code:"+291",flag:""},{name:"Estonia",code:"+372",flag:""},{name:"Eswatini (fmr. 'Swaziland')",code:"+268",flag:""},{name:"Ethiopia",code:"+251",flag:""},{name:"Fiji",code:"+679",flag:""},{name:"Finland",code:"+358",flag:""},{name:"France",code:"+33",flag:""},{name:"Gabon",code:"+241",flag:""},{name:"Gambia",code:"+220",flag:""},{name:"Georgia",code:"+995",flag:""},{name:"Germany",code:"+49",flag:""},{name:"Ghana",code:"+233",flag:""},{name:"Greece",code:"+30",flag:""},{name:"Grenada",code:"+1-473",flag:""},{name:"Guatemala",code:"+502",flag:""},{name:"Guinea",code:"+224",flag:""},{name:"Guinea-Bissau",code:"+245",flag:""},{name:"Guyana",code:"+592",flag:""},{name:"Haiti",code:"+509",flag:""},{name:"Holy See",code:"+379",flag:""},{name:"Honduras",code:"+504",flag:""},{name:"Hungary",code:"+36",flag:""},{name:"Iceland",code:"+354",flag:""},{name:"India",code:"+91",flag:""},{name:"Indonesia",code:"+62",flag:""},{name:"Iran",code:"+98",flag:""},{name:"Iraq",code:"+964",flag:""},{name:"Ireland",code:"+353",flag:""},{name:"Israel",code:"+972",flag:""},{name:"Italy",code:"+39",flag:""},{name:"Jamaica",code:"+1-876",flag:""},{name:"Japan",code:"+81",flag:""},{name:"Jordan",code:"+962",flag:""},{name:"Kazakhstan",code:"+7",flag:""},{name:"Kenya",code:"+254",flag:""},{name:"Kiribati",code:"+686",flag:""},{name:"Kuwait",code:"+965",flag:""},{name:"Kyrgyzstan",code:"+996",flag:""},{name:"Laos",code:"+856",flag:""},{name:"Latvia",code:"+371",flag:""},{name:"Lebanon",code:"+961",flag:""},{name:"Lesotho",code:"+266",flag:""},{name:"Liberia",code:"+231",flag:""},{name:"Libya",code:"+218",flag:""},{name:"Liechtenstein",code:"+423",flag:""},{name:"Lithuania",code:"+370",flag:""},{name:"Luxembourg",code:"+352",flag:""},{name:"Madagascar",code:"+261",flag:""},{name:"Malawi",code:"+265",flag:""},{name:"Malaysia",code:"+60",flag:""},{name:"Maldives",code:"+960",flag:""},{name:"Mali",code:"+223",flag:""},{name:"Malta",code:"+356",flag:""},{name:"Marshall Islands",code:"+692",flag:""},{name:"Mauritania",code:"+222",flag:""},{name:"Mauritius",code:"+230",flag:""},{name:"Mexico",code:"+52",flag:""},{name:"Micronesia",code:"+691",flag:""},{name:"Moldova",code:"+373",flag:""},{name:"Monaco",code:"+377",flag:""},{name:"Mongolia",code:"+976",flag:""},{name:"Montenegro",code:"+382",flag:""},{name:"Morocco",code:"+212",flag:""},{name:"Mozambique",code:"+258",flag:""},{name:"Myanmar (Burma)",code:"+95",flag:""},{name:"Namibia",code:"+264",flag:""},{name:"Nauru",code:"+674",flag:""},{name:"Nepal",code:"+977",flag:""},{name:"Netherlands",code:"+31",flag:""},{name:"New Zealand",code:"+64",flag:""},{name:"Nicaragua",code:"+505",flag:""},{name:"Niger",code:"+227",flag:""},{name:"Nigeria",code:"+234",flag:""},{name:"North Korea",code:"+850",flag:""},{name:"North Macedonia",code:"+389",flag:""},{name:"Norway",code:"+47",flag:""},{name:"Oman",code:"+968",flag:""},{name:"Pakistan",code:"+92",flag:""},{name:"Palau",code:"+680",flag:""},{name:"Palestine State",code:"+970",flag:""},{name:"Panama",code:"+507",flag:""},{name:"Papua New Guinea",code:"+675",flag:""},{name:"Paraguay",code:"+595",flag:""},{name:"Peru",code:"+51",flag:""},{name:"Philippines",code:"+63",flag:""},{name:"Poland",code:"+48",flag:""},{name:"Portugal",code:"+351",flag:""},{name:"Qatar",code:"+974",flag:""},{name:"Romania",code:"+40",flag:""},{name:"Russia",code:"+7",flag:""},{name:"Rwanda",code:"+250",flag:""},{name:"Saint Kitts and Nevis",code:"+1-869",flag:""},{name:"Saint Lucia",code:"+1-758",flag:""},{name:"Saint Vincent and the Grenadines",code:"+1-784",flag:""},{name:"Samoa",code:"+685",flag:""},{name:"San Marino",code:"+378",flag:""},{name:"Sao Tome and Principe",code:"+239",flag:""},{name:"Saudi Arabia",code:"+966",flag:""},{name:"Senegal",code:"+221",flag:""},{name:"Serbia",code:"+381",flag:""},{name:"Seychelles",code:"+248",flag:""},{name:"Sierra Leone",code:"+232",flag:""},{name:"Singapore",code:"+65",flag:""},{name:"Slovakia",code:"+421",flag:""},{name:"Slovenia",code:"+386",flag:""},{name:"Solomon Islands",code:"+677",flag:""},{name:"Somalia",code:"+252",flag:""},{name:"South Africa",code:"+27",flag:""},{name:"South Korea",code:"+82",flag:""},{name:"South Sudan",code:"+211",flag:""},{name:"Spain",code:"+34",flag:""},{name:"Sri Lanka",code:"+94",flag:""},{name:"Sudan",code:"+249",flag:""},{name:"Suriname",code:"+597",flag:""},{name:"Sweden",code:"+46",flag:""},{name:"Switzerland",code:"+41",flag:""},{name:"Syria",code:"+963",flag:""},{name:"Tajikistan",code:"+992",flag:""},{name:"Tanzania",code:"+255",flag:""},{name:"Thailand",code:"+66",flag:""},{name:"Timor-Leste",code:"+670",flag:""},{name:"Togo",code:"+228",flag:""},{name:"Tonga",code:"+676",flag:""},{name:"Trinidad and Tobago",code:"+1-868",flag:""},{name:"Tunisia",code:"+216",flag:""},{name:"Turkey",code:"+90",flag:""},{name:"Turkmenistan",code:"+993",flag:""},{name:"Tuvalu",code:"+688",flag:""},{name:"Uganda",code:"+256",flag:""},{name:"Ukraine",code:"+380",flag:""},{name:"United Arab Emirates",code:"+971",flag:""},{name:"United Kingdom",code:"+44",flag:""},{name:"United States of America",code:"+1",flag:""},{name:"Uruguay",code:"+598",flag:""},{name:"Uzbekistan",code:"+998",flag:""},{name:"Vanuatu",code:"+678",flag:""},{name:"Venezuela",code:"+58",flag:""},{name:"Vietnam",code:"+84",flag:""},{name:"Yemen",code:"+967",flag:""},{name:"Zambia",code:"+260",flag:""},{name:"Zimbabwe",code:"+263",flag:""}];var Iv=A('<li class="px-4 py-3 hover:bg-indigo-50 cursor-pointer flex items-center justify-between transition-all duration-150"><span class="flex items-center space-x-2"><span> </span> <span> </span></span> <span class="text-gray-500"> </span></li>'),Ov=A('<ul class="absolute top-full left-0 mt-2 w-[360px] bg-white/90 backdrop-blur-sm border border-gray-300 rounded-lg shadow-xl z-50 max-h-[calc(100vh-6rem)] overflow-auto text-sm transition-all duration-200"><li class="px-4 py-2 font-semibold text-gray-600 sticky top-0 bg-white/90 backdrop-blur-sm border-b">Select a country</li> <!></ul>'),jv=A('<div><label class="text-gray-700 text-base font-medium"></label> <div class="relative flex items-center space-x-2 w-full"><button type="button"><span> </span> <span> </span> <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <input type="text" inputmode="numeric" pattern="\\d*" placeholder="123456789"> <!></div></div>');function Lv(r,e){ce(e,!0);let t=z(e,"value",15),n=z(e,"formMode",3,!1),a=oe(W(hi[0])),s=oe(""),i=oe(!1);kt(()=>{t(v(s)?`${v(a).code}${v(s)}`:"")});function o(E){if(!n()){E.preventDefault();return}R(s,W(E.target.value.replace(/\D/g,"")))}function l(){n()&&R(i,!v(i))}function c(E){n()&&(R(a,W(E)),R(i,!1))}var u=jv(),d=P(x(u),2),f=x(d),h=x(f),b=x(h),g=P(h,2),m=x(g),y=P(f,2),$=P(y,2);{var S=E=>{var p=Ov(),T=P(x(p),2);Fe(T,17,()=>hi,ze,(k,C)=>{var j=Iv(),I=x(j),O=x(I),q=x(O),ee=P(O,2),se=x(ee),ae=P(I,2),X=x(ae);J(()=>{ie(q,v(C).flag),ie(se,v(C).name),ie(X,v(C).code)}),G("click",j,()=>c(v(C))),_(k,j)}),at(p,(k,C)=>jt==null?void 0:jt(k,C),()=>()=>R(i,!1)),_(E,p)};F($,E=>{v(i)&&E(S)})}J(()=>{$e(u,`${`flex flex-col space-y-2 w-full max-w-xs ${n()?"":"disabled-cursor"}`??""} svelte-16jj6s3`),$e(f,`${`flex items-center space-x-2 min-w-[100px] bg-transparent text-base
        border-b-2 border-gray-300
        ${n()?"focus:border-indigo-500 focus:outline-none":"opacity-50 cursor-not-allowed"}`??""} svelte-16jj6s3`),ge(f,"tabindex",n()?0:-1),ge(f,"aria-disabled",!n()),ie(b,v(a).flag),ie(m,v(a).code),$e(y,`${`flex-1 bg-transparent text-lg
        border-b-2 border-gray-300
        focus:border-indigo-500 focus:outline-none
        ${n()?"text-gray-800 cursor-text":"text-gray-400 cursor-not-allowed"}
      `??""} svelte-16jj6s3`),ge(y,"tabindex",n()?0:-1),y.readOnly=!n(),ge(y,"aria-readonly",!n())}),G("click",f,l),Ve(y,()=>v(s),E=>R(s,E)),G("input",y,o),_(r,u),ue()}var Rv=A("<button> </button>"),Nv=A('<div class="flex flex-col"></div>');function Mv(r,e){ce(e,!0);let t=z(e,"value",15),n=z(e,"props",19,()=>({})),a=z(e,"formMode",3,!1),{choices:s=[],multiple:i=!1}=n();function o(u){var d;t(i?(d=t())!=null&&d.includes(u)?t().filter(f=>f!==u):[...t()||[],u]:u)}function l(u){var d;return i?(d=t())==null?void 0:d.includes(u):t()===u}var c=Nv();Fe(c,21,()=>s,ze,(u,d)=>{var f=Rv(),h=x(f);J(b=>{$e(f,ut(b)),f.disabled=!a(),ie(h,v(d))},[()=>["cursor-pointer m-2 px-6 py-4 text-lg rounded-xl transition-all duration-300 ease-in-out shadow-md transform",l(v(d))?"bg-blue-600 text-white scale-105 shadow-xl ring-2 ring-blue-300 animate-[pulse_0.6s_ease-in-out]":"bg-white text-gray-800 hover:bg-blue-100 hover:text-blue-600 hover:scale-105",!a()&&"opacity-60 cursor-not-allowed"]]),G("click",f,()=>o(v(d))),_(u,f)}),_(r,c),ue()}var Dv=A('<div class="relative"><canvas class="w-full h-64  rounded-md border-2 border-dotted border-gray-400 touch-none"></canvas> <button type="button" aria-label="Clear signature" class="absolute -bottom-10 left-0 flex items-center gap-1 text-sm px-2 py-1 text-indigo-600 hover:text-indigo-800 transition-colors focus:outline-none"><!> <span class="text-xs">Clear</span></button></div>');function Bv(r,e){ce(e,!0);let t=z(e,"value",15),n=z(e,"formMode",3,!0),a,s,i=[],o=[],l=!1,c=1,u=1;function d(){const C=a.getBoundingClientRect();a.width=C.width,a.height=C.height,c=a.width/C.width,u=a.height/C.height,s=a.getContext("2d"),s.scale(c,u)}function f(C){const j=a.getBoundingClientRect(),I=C.touches?C.touches[0].clientX:C.clientX,O=C.touches?C.touches[0].clientY:C.clientY;return{x:I-j.left,y:O-j.top}}function h(C){n()&&(l=!0,o=[],i.push(o),o.push(f(C)))}function b(C){!n()||!l||(o.push(f(C)),y())}function g(){!n()||!l||(l=!1,S())}function m(C,j,I,O){const ee=j.x+(I.x-C.x)*.2,se=j.y+(I.y-C.y)*.2,ae=I.x-(O.x-j.x)*.2,X=I.y-(O.y-j.y)*.2;return[{x:ee,y:se},{x:ae,y:X}]}function y(){s.clearRect(0,0,a.width,a.height),s.lineJoin="round",s.lineCap="round",s.lineWidth=2.5,s.strokeStyle="#4f46e5";for(const C of i)if(!(C.length<2)){s.beginPath();for(let j=0;j<C.length-1;j++){const I=C[j-1]||C[j],O=C[j],q=C[j+1],ee=C[j+2]||q;j===0&&s.moveTo(O.x,O.y);const[se,ae]=m(I,O,q,ee);s.bezierCurveTo(se.x,se.y,ae.x,ae.y,q.x,q.y)}s.stroke()}}function $(){i=[],o=[],s.clearRect(0,0,a.width,a.height),t("")}function S(){t(a.toDataURL("image/png"))}ot(()=>{d(),window.addEventListener("resize",d)});var E=Dv(),p=x(E);Jn(p,C=>a=C,()=>a);var T=P(p,2),k=x(T);Cf(k,{class:"w-4 h-4"}),G("mousedown",p,h),G("mousemove",p,b),G("mouseup",p,g),G("mouseleave",p,g),G("touchstart",p,Jr(h)),G("touchmove",p,Jr(b)),G("touchend",p,Jr(g)),G("click",T,$),_(r,E),ue()}var Uv=A('<span class="cursor-pointer transform transition-transform duration-200"><!></span>'),Fv=A('<div class="inline-block space-y-2"><p class="text-gray-700 font-semibold"></p> <div class="flex items-center space-x-2"></div></div>');function zv(r,e){ce(e,!0);let t=z(e,"value",15),n=oe(W(t()||0)),a=oe(0);function s(u){e.formMode&&(R(n,W(u)),t(u))}function i(u){e.formMode&&R(a,W(u))}function o(){e.formMode&&R(a,0)}var l=Fv(),c=P(x(l),2);Fe(c,21,()=>Array(Number(e.props.maxRating)),ze,(u,d,f)=>{var h=Uv(),b=x(h);const g=Ee(()=>`w-8 h-8 ${(v(a)||v(n))>f?"text-yellow-400 fill-yellow-300":"text-gray-300"}`),m=Ee(()=>(v(a)||v(n))>f?"currentColor":"none");Eo(b,{get class(){return v(g)},get fill(){return v(m)}}),G("mouseenter",h,()=>i(f+1)),G("click",h,()=>s(f+1)),Sr(3,h,()=>fs,()=>({duration:150})),_(u,h)}),J(()=>ge(c,"style",e.formMode?"":"pointer-events: none;")),G("mouseleave",c,o),_(r,l),ue()}var qv=A('<p class="text-xs text-gray-500 mt-1 text-left"></p>'),Hv=A('<div><div class="px-0 py-2 text-base text-gray-800 whitespace-pre-wrap text-center"> </div> <!></div>');function Vv(r,e){z(e,"formMode",3,!1);let{message:t=""}=e.props??{};var n=Hv(),a=x(n),s=x(a),i=P(a,2);{var o=l=>{var c=qv();c.textContent=t,_(l,c)};F(i,l=>{t&&l(o)})}J(()=>ie(s,e.value||"")),_(r,n)}var Wv=A('<div class="flex flex-col items-center justify-center min-h-screen text-center px-4"><h1 class="text-3xl font-bold mb-4"> </h1> <p class="text-lg mb-8"> </p> <a target="_blank">Create your own FabForm</a></div>');function No(r,e){let t=z(e,"message",8,"Thank you! "),n=z(e,"subtext",8,"That's all. You may now close this window."),a=z(e,"formMode",8,!1);var s=Wv(),i=x(s),o=x(i),l=P(i,2),c=x(l),u=P(l,2);J(()=>{ie(o,t()),ie(c,n()),ge(u,"href",a()?nr:"#"),$e(u,`text-sm px-6 py-3 rounded-md bg-black text-white hover:bg-gray-800 
           ${(a()?"":"opacity-50 pointer-events-none")??""}`)}),_(r,s)}var Gv=A('<span class="absolute inset-y-0 left-3 flex items-center text-gray-400 pointer-events-none"><!></span>'),Jv=A('<p class="text-xs text-gray-500 mt-1"></p>'),Kv=A('<div class="relative group"><!> <input type="url"></div> <!>',1);function Yv(r,e){let t=z(e,"value",15),n=z(e,"formMode",3,!1),{placeholder:a="Enter website URL...",icon:s=null,message:i=""}=e.props??{},o=oe(W(t()??""));function l(m){R(o,W(m.target.value)),t(m.target.value)}var c=Kv(),u=D(c),d=x(u);{var f=m=>{var y=Gv(),$=x(y);Wn($,()=>s,!1,!1),_(m,y)};F(d,m=>{s&&m(f)})}var h=P(d,2);ge(h,"placeholder",a);var b=P(u,2);{var g=m=>{var y=Jv();y.textContent=i,_(m,y)};F(b,m=>{i&&m(g)})}J(()=>{ge(h,"tabindex",n()?0:-1),h.disabled=!n(),$e(h,`w-full transition-all duration-300 ease-in-out rounded-xl text-base px-4 py-2 font-medium shadow-sm outline-none
      ${s?"pl-10":""}
      ${n()?"bg-white text-gray-900 border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"}
    `)}),Ve(h,()=>v(o),m=>R(o,m)),G("input",h,l),_(r,c)}var Qv=A('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black bg-opacity-50"></div> <div class="absolute inset-0"><button class="absolute top-4 right-4 z-10 bg-white text-black text-xl px-3 py-1 rounded shadow hover:bg-gray-100" aria-label="Close"></button> <iframe src="https://calendly.com/irishgeoffrey" class="w-full h-full border-none" frameborder="0"></iframe></div></div>'),Xv=A('<button class="flex items-center gap-2 px-4 py-2 bg-white text-black border border-gray-300 rounded hover:bg-gray-100 shadow-sm"><!> </button> <!>',1);function Zv(r,e){ce(e,!0);let t=oe(!1);function n(){R(t,!0)}function a(){R(t,!1)}const s=e.label??"Choose a slot";var i=Xv(),o=D(i),l=x(o);cs(l,{class:"w-5 h-5"});var c=P(l);c.nodeValue=` ${s??""}`;var u=P(o,2);{var d=f=>{var h=Qv(),b=x(h),g=P(b,2),m=x(g);G("click",b,a),G("click",m,a),_(f,h)};F(u,f=>{v(t)&&f(d)})}G("click",o,n),_(r,i),ue()}var eg=A('<button class="mt-3 text-blue-600 hover:text-blue-800 font-medium"><!> Upload File</button>'),tg=A('<div class="w-full bg-gray-200 rounded-full h-3 mt-4 overflow-hidden"><div class="bg-blue-500 h-3 rounded-full transition-all duration-300 ease-in-out"></div></div> <p class="text-blue-600 mt-1 font-semibold"> </p>',1),rg=A('<img alt="preview" class="w-24 h-24 rounded-xl object-cover shadow-sm mb-2">'),ng=A('<div class="w-24 h-24 flex items-center justify-center bg-gray-100 rounded-xl shadow-inner mb-2"><!></div>'),ag=A('<div class="flex flex-col items-center w-32 p-3 rounded-2xl bg-white shadow-sm hover:shadow-md border border-gray-300 relative"><!> <span class="text-sm text-gray-900 font-medium truncate w-full text-center"> </span> <span class="text-xs text-gray-500"> </span> <button class="absolute top-2 right-2 text-red-600 hover:text-red-800 p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-red-400" title="Delete file"><!></button></div>'),sg=A('<div class="flex-grow overflow-auto max-w-6xl mx-auto mt-12 px-4 py-3"><div class="flex flex-wrap gap-4 justify-center"></div></div>'),ig=A('<div class="w-full flex justify-center mt-10"><div class="relative border-4 border-dashed border-gray-300 rounded-2xl p-8 flex flex-col items-center justify-center transition-all text-center bg-white shadow-xl max-w-md w-full hover:shadow-2xl"><!> <p class="text-gray-500"> </p> <!> <input type="file" class="hidden"> <!></div></div> <!>',1);function og(r,e){ce(e,!0);let t=z(e,"formMode",3,!1),n,a=[],s="",i=0,o=!1;or.getUser().then(async I=>{I&&(s=I.id,await l())});async function l(){if(!s)return;const{data:I,error:O}=await ke.storage.from("user-files").list(`users/${s}/`,{limit:100});O?alert("Could not list files: "+O.message):a=await Promise.all(I.map(async q=>{var se;const{data:ee}=ke.storage.from("user-files").getPublicUrl(`users/${s}/${q.name}`);return{...q,publicUrl:ee.publicUrl,sizeKB:(se=q.metadata)!=null&&se.size?(q.metadata.size/1024).toFixed(1):"0.0"}}))}function c(){t()&&n.click()}async function u(I){const O=I.target.files[0];O&&await d(O)}async function d(I){if(!t()||!s)return;i=0,o=!0;const q=2+1e6/I.size,se=setInterval(()=>{i<90&&(i=Math.min(i+q,90))},100),ae=`users/${s}/${I.name}`,{error:X}=await ke.storage.from("user-files").upload(ae,I,{upsert:!0});if(clearInterval(se),X){o=!1,i=0,alert(`Upload failed: ${X.message}`);return}i=100,await l(),setTimeout(()=>{o=!1,i=0},700)}async function f(I){const O=`users/${s}/${I}`,{error:q}=await ke.storage.from("user-files").remove([O]);q?alert(`Delete failed: ${q.message}`):await l()}var h=ig(),b=D(h),g=x(b),m=x(g);ii(m,{class:"w-16 h-16 text-blue-500 mb-4"});var y=P(m,2),$=x(y),S=P(y,2);{var E=I=>{var O=eg(),q=x(O);ii(q,{class:"inline w-5 h-5 mr-1"}),G("click",O,c),_(I,O)};F(S,I=>{t()&&I(E)})}var p=P(S,2);Jn(p,I=>n=I,()=>n);var T=P(p,2);{var k=I=>{var O=tg(),q=D(O),ee=x(q);ge(ee,"style",`width: ${i??""}%;`);var se=P(q,2),ae=x(se);J(X=>ie(ae,`${X??""}%`),[()=>Math.floor(i)]),_(I,O)};F(T,I=>{o&&I(k)})}var C=P(b,2);{var j=I=>{var O=sg(),q=x(O);Fe(q,21,()=>a,ze,(ee,se)=>{var ae=ag(),X=x(ae);{var de=U=>{var L=rg();J(()=>ge(L,"src",v(se).publicUrl)),_(U,L)},_e=U=>{var L=ng(),N=x(L);So(N,{class:"w-10 h-10 text-gray-400"}),_(U,L)};F(X,U=>{v(se).name.match(/\.(jpg|jpeg|png|gif)$/i)?U(de):U(_e,!1)})}var ye=P(X,2),Ie=x(ye),we=P(ye,2),me=x(we),Re=P(we,2),Be=x(Re);us(Be,{class:"w-4 h-4"}),J(()=>{ge(ae,"title",v(se).name),ie(Ie,v(se).name),ie(me,`${v(se).sizeKB??""} KB`),ge(Re,"aria-label",`Delete file ${v(se).name}`)}),G("click",Re,()=>f(v(se).name)),_(ee,ae)}),_(I,O)};F(C,I=>{t()&&I(j)})}J(()=>{ie($,t()?"Click or drag and drop to upload a file":""),p.disabled=!t()}),G("change",p,u),G("drop",g,Jr(I=>d(I.dataTransfer.files[0]))),G("dragover",g,Jr(function(I){ts.call(this,e,I)})),_(r,h),ue()}var lg=A('<div class="flex space-x-6"><button>Yes</button> <button>No</button></div>');function cg(r,e){let t=z(e,"value",15),n=z(e,"formMode",3,!1);function a(c){n()&&t(c)}function s(c){return t()===c}var i=lg(),o=x(i),l=P(o,2);J((c,u,d,f)=>{$e(o,ut(c)),o.disabled=!n(),ge(o,"aria-pressed",u),$e(l,ut(d)),l.disabled=!n(),ge(l,"aria-pressed",f)},[()=>["px-8 py-3 rounded-lg text-lg font-semibold transition shadow-md focus:outline-none focus:ring-2",s(!0)?"bg-blue-600 text-white scale-105 shadow-xl ring-2 ring-blue-300 animate-[pulse_0.6s_ease-in-out]":"bg-white text-gray-700 hover:bg-blue-100 hover:text-blue-600",!n()&&"opacity-50 cursor-not-allowed"],()=>s(!0),()=>["px-8 py-3 rounded-lg text-lg font-semibold transition shadow-md focus:outline-none focus:ring-2",s(!1)?"bg-red-600 text-white scale-105 shadow-xl ring-2 ring-red-300 animate-[pulse_0.6s_ease-in-out]":"bg-white text-gray-700 hover:bg-red-100 hover:text-red-600",!n()&&"opacity-50 cursor-not-allowed"],()=>s(!1)]),G("click",o,()=>a(!0)),G("click",l,()=>a(!1)),_(r,i)}var ug=A('<div class="w-2.5 h-2.5 bg-white rounded-sm"></div>'),dg=A('<label class="inline-flex items-center space-x-3 cursor-pointer select-none"><div><!></div> <span class="text-base text-gray-800">Check me</span></label>');function fg(r,e){let t=z(e,"value",15),n=z(e,"formMode",3,!1);function a(){n()&&t(!t())}var s=dg(),i=x(s),o=x(i);{var l=c=>{var u=ug();_(c,u)};F(o,c=>{t()&&c(l)})}J(()=>$e(i,ut(["w-5 h-5 rounded border-2 flex items-center justify-center transition",t()?"bg-blue-600 border-blue-600":"bg-white border-gray-400",!n()&&"opacity-50 cursor-not-allowed"]))),G("click",i,a),_(r,s)}var hg=A('<button><svg width="64" height="64" viewBox="0 0 80 80" aria-hidden="true" focusable="false" class="svelte-10bhyiw"><!></svg> <span class="mt-1 text-sm text-gray-700 svelte-10bhyiw"> </span></button>'),vg=A('<div class="w-full max-w-3xl mx-auto space-y-6 svelte-10bhyiw"><div class="flex justify-between gap-3 px-2 svelte-10bhyiw"></div></div>');function gg(r,e){ce(e,!0);let t=z(e,"formMode",3,!1),n=z(e,"value",15),a=oe(W(n())),s=oe(!1);function i(d){t()&&(R(a,W(d)),n(d),R(s,!1),requestAnimationFrame(()=>R(s,!0)))}kt(()=>{n()!==v(a)&&R(a,W(n()))});const o=[{id:1,label:"Very Sad",color:"#ef4444"},{id:2,label:"Sad",color:"#f97316"},{id:3,label:"Neutral",color:"#9ca3af"},{id:4,label:"Happy",color:"#22c55e"}];function l(d){switch(d){case 1:return`
          <circle cx="40" cy="40" r="28" fill="#ef4444" stroke="#b91c1c" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <path d="M28 50 Q40 38 52 50" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" /> 
          <circle cx="25" cy="48" r="3" fill="#3b82f6" />
        `;case 2:return`
          <circle cx="40" cy="40" r="28" fill="#f97316" stroke="#c2410c" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <path d="M28 48 Q40 40 52 48" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" />
        `;case 3:return`
          <circle cx="40" cy="40" r="28" fill="#9ca3af" stroke="#6b7280" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <line x1="28" y1="48" x2="52" y2="48" stroke="#000" stroke-width="3" stroke-linecap="round" />
        `;case 4:return`
          <circle cx="40" cy="40" r="28" fill="#22c55e" stroke="#15803d" stroke-width="2" />
          <circle cx="25" cy="30" r="5" fill="#000" />
          <circle cx="55" cy="30" r="5" fill="#000" />
          <path d="M24 38 Q40 56 56 38" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" />
        `}}var c=vg(),u=x(c);Fe(u,21,()=>o,ze,(d,f)=>{let h=()=>v(f).id,b=()=>v(f).label;var g=hg(),m=x(g),y=x(m);Wn(y,()=>l(h()),!0,!1);var $=P(m,2),S=x($);J(()=>{$e(g,`${`flex-grow rounded transition duration-300 transform flex flex-col items-center justify-center p-1
          ${t()?"cursor-pointer":"pointer-events-none"}
          ${v(a)===h()?`${v(s)?"pop":""}`:"opacity-70 hover:opacity-100"}
        `??""} svelte-10bhyiw`),ge(g,"aria-label",`Mood rating: ${b()}`),ie(S,b())}),G("click",g,()=>i(h())),_(d,g)}),_(r,c),ue()}function pg(r){return{Button:Da,Label:Oe,Input:mt,TextArea:Ma,Checkbox:Ba,Dropdown:At,Welcome:cv,ShortText:fi,LongText:gv,DatePicker:mv,TextArea:Ma,Button:Da,Checkbox:Ba,Dropdown:At,Select:Mv,DropdownBlock:xv,StarRating:zv,OpinionScale:Av,Signature:Bv,Statement:Vv,Number:Ev,PhoneNumber:Lv,ThankYou:No,Website:Yv,Scheduler:Zv,FileUploader:og,Email:fi,YesNo:cg,CheckboxBlock:fg,MoodMeter:gg}[r]||null}var mg=A("<div><!></div>"),bg=A("<div><!></div>"),yg=A("<div><!></div>"),_g=A('<div class="mt-4 flex items-center gap-2 bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded"><!> <p class="text-sm"> </p></div>'),wg=A('<div><div class="w-full max-w-md"><!> <!> <!> <!> <div class="mt-4 flex"><!></div> <!></div></div>');function En(r,e){ce(e,!0);let t=z(e,"block",31,()=>W({})),n=z(e,"uiMeta",27,()=>W({})),a=Ee(()=>{var p,T;return pg((T=(p=t())==null?void 0:p.meta)==null?void 0:T.component)});var s=wg(),i=x(s),o=x(i);{var l=p=>{var T=mg(),k=x(T);Oe(k,{get size(){return`$${n().fontSize??""}`},forId:"title",get color(){return`$${n().questionColor??""}`},children:(C,j)=>{var I=aa();J(()=>{var O;return ie(I,(O=t().meta)==null?void 0:O.title)}),_(C,I)},$$slots:{default:!0}}),_(p,T)};F(o,p=>{var T;(T=t().meta)!=null&&T.title&&p(l)})}var c=P(o,2);{var u=p=>{var T=bg(),k=x(T);Oe(k,{get size(){return`$${n().fontSize??""}`},forId:"question",get color(){return`$${n().questionColor??""}`},children:(C,j)=>{var I=aa();J(()=>{var O;return ie(I,(O=t().meta)==null?void 0:O.question)}),_(C,I)},$$slots:{default:!0}}),_(p,T)};F(c,p=>{var T;(T=t().meta)!=null&&T.question&&p(u)})}var d=P(c,2);{var f=p=>{var T=yg(),k=x(T);Oe(k,{get size(){return`$${n().fontSize??""}`},forId:"description",get color(){return`$${n().questionColor??""}`},children:(C,j)=>{var I=aa();J(()=>{var O;return ie(I,(O=t().meta)==null?void 0:O.description)}),_(C,I)},$$slots:{default:!0}}),_(p,T)};F(d,p=>{var T,k;(k=(T=t())==null?void 0:T.meta)!=null&&k.description&&p(f)})}var h=P(d,2);{var b=p=>{var T=H(),k=D(T);const C=Ee(()=>{var j;return(j=t().meta)==null?void 0:j.props});Gn(k,()=>v(a),(j,I)=>{I(j,{get formMode(){return e.formMode},get props(){return v(C)},get value(){return t().value},set value(O){t(t().value=O,!0)}})}),_(p,T)};F(h,p=>{t()&&v(a)&&p(b)})}var g=P(h,2),m=x(g);const y=Ee(()=>`background-color: ${n().buttonColor}; color: ${n().buttonTextColor};`),$=Ee(()=>{var p,T;return((T=(p=t())==null?void 0:p.meta)==null?void 0:T.buttonText)||"Submit"});Da(m,{get style(){return v(y)},get text(){return v($)},get onclick(){return e.clickHandler}});var S=P(g,2);{var E=p=>{var T=_g(),k=x(T);Bf(k,{size:20,class:"text-red-600 flex-shrink-0"});var C=P(k,2),j=x(C);J(()=>ie(j,e.errorMessage)),_(p,T)};F(S,p=>{e.errorMessage&&p(E)})}J(()=>$e(s,`relative ${e.formMode?"flex items-center justify-center w-screen h-screen px-6":"max-w-lg px-4 pt-8 mx-auto mt-5"}`)),_(r,s),ue()}var xg=A('<div class="space-y-3"><div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Background Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Question Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Answer Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Button Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Button Text Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Font Size</label> <!></div></div>');function kg(r,e){ce(e,!0);const t=W(e.formProp);async function n($){await Na(t)}async function a(){await Na(t),e.changeColorOnForm(t)}var s=xg(),i=x(s),o=P(x(i),2);zr(o,{colorChanged:a,get color(){return t.meta.backgroundColor},set color($){t.meta.backgroundColor=$}});var l=P(i,2),c=P(x(l),2);zr(c,{colorChanged:a,get color(){return t.meta.questionColor},set color($){t.meta.questionColor=$}});var u=P(l,2),d=P(x(u),2);zr(d,{colorChanged:a,get color(){return t.meta.answerColor},set color($){t.meta.answerColor=$}});var f=P(u,2),h=P(x(f),2);zr(h,{colorChanged:a,get color(){return t.meta.buttonColor},set color($){t.meta.buttonColor=$}});var b=P(f,2),g=P(x(b),2);zr(g,{colorChanged:a,get color(){return t.meta.buttonTextColor},set color($){t.meta.buttonTextColor=$}});var m=P(b,2),y=P(x(m),2);At(y,{choices:["Small","Medium","Large","Extra Large"],choiceSelected:n,get value(){return t.meta.fontSize},set value($){t.meta.fontSize=$}}),_(r,s),ue()}var $g=(r,e)=>e("left"),Sg=(r,e)=>e("center"),Eg=A('<div class="flex space-x-3 mt-3 z-0"><button class="p-2 border rounded-lg hover:bg-gray-200 relative group"><!> <span class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-xs bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10">Left</span></button> <button class="p-2 border rounded-lg hover:bg-gray-200 relative group"><!> <span class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-xs bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10">Center</span></button></div>');function Tg(r,e){let t=z(e,"textAlign",15);var n=Eg(),a=x(n);a.__click=[$g,t];var s=x(a);Zd(s,{class:"w-3 h-3 m-1"});var i=P(a,2);i.__click=[Sg,t];var o=x(i);Xd(o,{class:"w-3 h-3 m-1"}),_(r,n)}Nr(["click"]);var Pg=A('<li class="flex items-center space-x-2"><input> <button class="text-red-500 hover:text-red-700"><!></button></li>'),Cg=A('<div class="container mx-auto p-4 relative"><div class="absolute top-4 right-4"><button class="w-8 h-8 rounded-full bg-blue-500 text-white shadow-md hover:bg-blue-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v14m7-7H5"></path></svg></button></div> <div class="mt-12"><ul class="space-y-2"></ul></div></div>');function Ag(r,e){ce(e,!0);let t=z(e,"choices",15);z(e,"selected",19,()=>[]),z(e,"multiple",3,0);let n=gn(e,["$$slots","$$events","$$legacy","choices","selected","multiple"]);function a(){t([...t(),`New Choice ${t().length}`])}function s(f){t(t().filter((h,b)=>b!==f))}function i(f){f.key==="Enter"&&(f.preventDefault(),a())}var o=Cg(),l=x(o),c=x(l);c.__click=a;var u=P(l,2),d=x(u);Fe(d,21,t,ze,(f,h,b)=>{var g=Pg(),m=x(g);let y;var $=P(m,2);$.__click=()=>s(b);var S=x($);us(S,{class:"w-4 h-4"}),J(()=>y=$r(m,y,{onkeydown:i,class:"border px-2 py-1 rounded w-full",placeholder:"Enter your choice",...n})),Ve(m,()=>t()[b],E=>t(t()[b]=E,!0)),_(f,g)}),_(r,o),ue()}Nr(["click"]);var Ig=A('<div class="absolute inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center"><p class="text-white text-xl">Uploading...</p></div>'),Og=A('<div class="w-full h-full flex justify-center items-center relative"><img alt="Uploaded image" class="w-full h-full object-cover rounded-lg"> <button class="absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full" aria-label="Delete image"><!></button></div>'),jg=A('<span class="text-gray-500">Drag & Drop an image here or click to select</span>'),Lg=A('<p class="text-red-500 mt-2"> </p>'),Rg=A('<div class="relative w-full h-64 border-4 border-dashed border-gray-300 rounded-lg flex justify-center items-center cursor-pointer"><!> <input id="fileInput" type="file" accept=".jpg,.jpeg,.png,.gif" class="hidden"></div> <!>',1);function Ng(r,e){ce(e,!1);let t=z(e,"blockId",8),n=z(e,"coverImage",12,""),a=Ue(!1),s=Ue("");const i=["image/jpeg","image/jpg","image/png","image/gif"];function o(p){p.preventDefault(),p.currentTarget.classList.add("border-blue-500","border-4")}function l(p){p.preventDefault(),p.currentTarget.classList.remove("border-blue-500","border-4")}async function c(p){var k;p.preventDefault(),p.currentTarget.classList.remove("border-blue-500","border-4");const T=(k=p.dataTransfer.files)==null?void 0:k[0];T&&await d(T)}async function u(p){var k;const T=(k=p.target.files)==null?void 0:k[0];T&&await d(T)}async function d(p){var I;if(R(s,""),!i.includes(p.type)){R(s,"Only JPG, PNG, and GIF files are allowed.");return}if(!t()){R(s,"Missing block ID.");return}if(R(a,!0),n())try{const O=(I=n().split("/block-images/")[1])==null?void 0:I.split("?")[0];console.log("Trying to delete (upload step):",O),await ke.storage.from("block-images").remove([O])}catch(O){console.warn("Failed to delete previous image:",O)}const T=p.name.split(".").pop(),k=`coverImages/${t()}.${T}`,{error:C}=await ke.storage.from("block-images").upload(k,p,{cacheControl:"3600",upsert:!0});if(C){R(s,"Upload failed: "+C.message),R(a,!1);return}const{data:j}=ke.storage.from("block-images").getPublicUrl(k);n(`${j.publicUrl}?t=${Date.now()}`),R(a,!1)}async function f(){var k;if(!n())return;const p=(k=n().split("/block-images/")[1])==null?void 0:k.split("?")[0];console.log("Trying to delete (manual):",p);const{error:T}=await ke.storage.from("block-images").remove([p]);if(T){R(s,"Failed to delete image: "+T.message);return}n("")}gt();var h=Rg(),b=D(h),g=x(b);{var m=p=>{var T=Ig();_(p,T)},y=p=>{var T=H(),k=D(T);{var C=I=>{var O=Og(),q=x(O),ee=P(q,2),se=x(ee);us(se,{class:"w-5 h-5"}),J(()=>ge(q,"src",n())),G("click",ee,Er(f)),_(I,O)},j=I=>{var O=jg();_(I,O)};F(k,I=>{n()?I(C):I(j,!1)},!0)}_(p,T)};F(g,p=>{v(a)?p(m):p(y,!1)})}var $=P(g,2),S=P(b,2);{var E=p=>{var T=Lg(),k=x(T);J(()=>ie(k,v(s))),_(p,T)};F(S,p=>{v(s)&&p(E)})}G("change",$,u),G("dragover",b,o),G("dragleave",b,l),G("drop",b,c),G("click",b,()=>{var p;return(p=document.getElementById("fileInput"))==null?void 0:p.click()}),_(r,h),ue()}var Mg=A("<!> <!>",1),Dg=A("<!> <!>",1),Bg=A("<!> <!>",1),Ug=A("<!> <!>",1),Fg=A("<!> <!>",1),zg=A("<!> <!>",1),qg=A("<!> <!>",1),Hg=A("<!> <!>",1),Vg=A("<!> <!>",1),Wg=A("<!> <!>",1),Gg=A("<!> <!>",1),Jg=A("<!> <!>",1),Kg=A("<!> <!>",1),Yg=A("<!> <!>",1),Qg=A("<!> <!>",1),Xg=A("<!> <!> <!>",1),Zg=A("<!> <!>",1),ep=A("<!> <!>",1),tp=A("<!> <!> <!>",1),rp=A('<div class="overflow-y-auto max-h-[calc(100vh-100px)] pr-2 space-y-4"><!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="flex gap-2"><!> <!></div> <!> <!> <!> <!> <!> <!> <!></div>');function np(r,e){ce(e,!0);let t=z(e,"block",15);var n=rp(),a=x(n);{var s=U=>{var L=Mg(),N=D(L);Oe(N,{text:"Title"});var V=P(N,2);mt(V,{get value(){return t().meta.title},set value(fe){t(t().meta.title=fe,!0)}}),_(U,L)};F(a,U=>{var L,N;((N=(L=t())==null?void 0:L.meta)==null?void 0:N.title)!==void 0&&U(s)})}var i=P(a,2);{var o=U=>{var L=Dg(),N=D(L);Oe(N,{text:"Question"});var V=P(N,2);mt(V,{get value(){return t().meta.question},set value(fe){t(t().meta.question=fe,!0)}}),_(U,L)};F(i,U=>{var L,N;((N=(L=t())==null?void 0:L.meta)==null?void 0:N.question)!==void 0&&U(o)})}var l=P(i,2);{var c=U=>{var L=Bg(),N=D(L);Oe(N,{text:"Description"});var V=P(N,2);Ma(V,{get value(){return t().meta.description},set value(fe){t(t().meta.description=fe,!0)}}),_(U,L)};F(l,U=>{var L,N;((N=(L=t())==null?void 0:L.meta)==null?void 0:N.description)!==void 0&&U(c)})}var u=P(l,2);{var d=U=>{var L=Ug(),N=D(L);Oe(N,{text:"Embed"});var V=P(N,2);mt(V,{get value(){return t().meta.embed},set value(fe){t(t().meta.embed=fe,!0)}}),_(U,L)};F(u,U=>{var L,N;((N=(L=t())==null?void 0:L.meta)==null?void 0:N.embed)!==void 0&&U(d)})}var f=P(u,2);{var h=U=>{var L=Fg(),N=D(L);Oe(N,{text:"Options"});var V=P(N,2);Ag(V,{get choices(){return t().meta.props.choices},set choices(fe){t(t().meta.props.choices=fe,!0)}}),_(U,L)};F(f,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.props)==null?void 0:V.choices)!==void 0&&U(h)})}var b=P(f,2);{var g=U=>{var L=zg(),N=D(L);Oe(N,{text:"Text Align"});var V=P(N,2);Tg(V,{get textAlign(){return t().meta.textAlign},set textAlign(fe){t(t().meta.textAlign=fe,!0)}}),_(U,L)};F(b,U=>{var L,N;((N=(L=t())==null?void 0:L.meta)==null?void 0:N.textAlign)!==void 0&&U(g)})}var m=P(b,2);{var y=U=>{var L=qg(),N=D(L);Oe(N,{text:"Button Text"});var V=P(N,2);mt(V,{get value(){return t().meta.buttonText},set value(fe){t(t().meta.buttonText=fe,!0)}}),_(U,L)};F(m,U=>{var L,N;((N=(L=t())==null?void 0:L.meta)==null?void 0:N.buttonText)!==void 0&&U(y)})}var $=P(m,2);{var S=U=>{var L=Hg(),N=D(L);Oe(N,{text:"Placeholder"});var V=P(N,2);mt(V,{get value(){return t().meta.props.placeholder},set value(fe){t(t().meta.props.placeholder=fe,!0)}}),_(U,L)};F($,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.props)==null?void 0:V.placeholder)!==void 0&&U(S)})}var E=P($,2);{var p=U=>{var L=Vg(),N=D(L);Oe(N,{text:"Textbox Size"});var V=P(N,2);At(V,{choices:["Small","Medium","Large","Extra Large"],get value(){return t().meta.props.size},set value(fe){t(t().meta.props.size=fe,!0)}}),_(U,L)};F(E,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.props)==null?void 0:V.size)!==void 0&&U(p)})}var T=P(E,2),k=x(T);{var C=U=>{var L=Wg(),N=D(L);Oe(N,{text:"Start"});var V=P(N,2);At(V,{choices:["0","1"],get value(){return t().meta.props.start},set value(fe){t(t().meta.props.start=fe,!0)}}),_(U,L)};F(k,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.props)==null?void 0:V.start)!==void 0&&U(C)})}var j=P(k,2);{var I=U=>{var L=Gg(),N=D(L);Oe(N,{text:"End"});var V=P(N,2);At(V,{choices:["3","4","5","6","7","8","9","10"],get value(){return t().meta.props.end},set value(fe){t(t().meta.props.end=fe,!0)}}),_(U,L)};F(j,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.props)==null?void 0:V.end)!==void 0&&U(I)})}var O=P(T,2);{var q=U=>{var L=Jg(),N=D(L);Oe(N,{text:"Max Rating"});var V=P(N,2);At(V,{choices:["3","4","5","6","7","8","9","10"],get value(){return t().meta.props.maxRating},set value(fe){t(t().meta.props.maxRating=fe,!0)}}),_(U,L)};F(O,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.props)==null?void 0:V.maxRating)!==void 0&&U(q)})}var ee=P(O,2);{var se=U=>{var L=Kg(),N=D(L);Oe(N,{text:"Max Characters"});var V=P(N,2);mt(V,{get value(){return t().meta.props.maxCharacters},set value(fe){t(t().meta.props.maxCharacters=fe,!0)}}),_(U,L)};F(ee,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.props)==null?void 0:V.maxCharacters)!==void 0&&U(se)})}var ae=P(ee,2);{var X=U=>{var L=Yg(),N=D(L);Oe(N,{text:"Left Label"});var V=P(N,2);mt(V,{get value(){return t().meta.props.leftLabel},set value(fe){t(t().meta.props.leftLabel=fe,!0)}}),_(U,L)};F(ae,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.props)==null?void 0:V.leftLabel)!==void 0&&U(X)})}var de=P(ae,2);{var _e=U=>{var L=Qg(),N=D(L);Oe(N,{text:"Right Label"});var V=P(N,2);mt(V,{get value(){return t().meta.props.rightLabel},set value(fe){t(t().meta.props.rightLabel=fe,!0)}}),_(U,L)};F(de,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.props)==null?void 0:V.rightLabel)!==void 0&&U(_e)})}var ye=P(de,2);{var Ie=U=>{var L=Xg(),N=D(L);Oe(N,{text:"Required Field"});var V=P(N,2);Ba(V,{get checked(){return t().meta.validation.required},set checked(et){t(t().meta.validation.required=et,!0)}});var fe=P(V,2);Oe(fe,{small:!0,text:"If checked, users will be required to complete this field."}),_(U,L)};F(ye,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.validation)==null?void 0:V.required)!=null&&U(Ie)})}var we=P(ye,2);{var me=U=>{var L=Zg(),N=D(L);Oe(N,{text:"Max Characters"});var V=P(N,2);mt(V,{get value(){return t().meta.validation.maxLength},set value(fe){t(t().meta.validation.maxLength=fe,!0)}}),_(U,L)};F(we,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.validation)==null?void 0:V.maxLength)!=null&&U(me)})}var Re=P(we,2);{var Be=U=>{var L=tp(),N=D(L);Oe(N,{text:"Cover Image URL"});var V=P(N,2);Ng(V,{get blockId(){return t().id},get coverImage(){return t().meta.coverImageProps.coverImage},set coverImage(Jt){t(t().meta.coverImageProps.coverImage=Jt,!0)}});var fe=P(V,2);{var et=Jt=>{var Br=ep(),Kt=D(Br);Oe(Kt,{text:"Layout"});var ta=P(Kt,2);At(ta,{choices:["Wallpaper","Stack","Split-left","Split-right"],get value(){return t().meta.coverImageProps.layout},set value(ra){t(t().meta.coverImageProps.layout=ra,!0)}}),_(Jt,Br)};F(fe,Jt=>{t().meta.coverImageProps.coverImage!=null&&t().meta.coverImageProps.coverImage!==""&&Jt(et)})}_(U,L)};F(Re,U=>{var L,N,V;((V=(N=(L=t())==null?void 0:L.meta)==null?void 0:N.coverImageProps)==null?void 0:V.coverImage)!==void 0&&U(Be)})}_(r,n),ue()}var ap=A('<p class="text-gray-400">No blocks to display</p>'),sp=A('<main class="flex flex-col h-full mt-17"><!> <!> <div class="flex justify-center"><!></div> <div class="flex flex-1 overflow-hidden mt-2 min-h-[400px]"><div class="w-1/4 p-2 overflow-auto min-h-0"><div class="flex justify-end mb-2"><!></div> <!></div> <div class="w-1/2 h-[400px] overflow-auto bg-white m-1 border border-dotted border-gray-400 rounded-xl shadow-sm flex items-center justify-center"><!></div> <div class="w-1/4 p-2 overflow-auto h-[400px] border-l border-gray-200"><!></div></div></main>');function ip(r,e){ce(e,!0),Sl("blockPickerClick",m);let t=oe(!1),n=oe(!0),a=oe(W([]));W([]);let s=oe(0),i=oe(W({})),o=oe(W(e.route.result.path.params.id)),l=oe("Build"),c="",u=oe(!1),d;async function f(){try{d=(await ls(v(o))).data.form,R(i,W(d.meta));const T=await Lo(v(o));R(a,W(T.data.blocks.slice().sort((k,C)=>k.meta.blockTypeId-C.meta.blockTypeId))),R(u,!0)}catch(p){console.error("Error fetching form or blocks:",p)}}ot(f);function h(p){R(i,W(p.meta))}async function b(p){try{await di(p)}catch(T){console.error("Failed to save block:",T)}}const g=hs(b,2e3);kt(()=>{const p=v(a)[v(s)];if(!v(u)||!p)return;const T=JSON.stringify(p);T!==c&&(c=T,g(p))}),kt(()=>{const T=e.route.result.path.original.split("/").filter(Boolean);R(n,T[T.length-2]==="design"),R(l,W(v(n)?"Design":"Build"))});async function m(p){await Fa(v(o),Xr[p]),await f(),R(s,W(v(a).findIndex((T,k)=>T==null&&k<v(a).length-1))),v(s)===-1&&R(s,W(Math.max(0,v(a).length-2)))}async function y(){try{await Promise.all(v(a).map(p=>di(p)))}catch(p){console.error("Failed to update block positions:",p)}}async function $(p){if(await Ua("Delete Confirmation","Are you sure you want to delete this block?","Cancel","Yes! Delete it")){const{error:k}=await Yh(p);k?console.error("Failed to delete block:",k.message):(await f(),R(s,W(Math.min(v(s),Math.max(0,v(a).length-1)))))}}const S=p=>{R(s,W(p))},E=p=>{v(a)[v(s)]=p.detail};Zn(r,{get activeMenuLabel(){return v(l)},get formId(){return v(o)},set formId(p){R(o,W(p))},children:(p,T)=>{var k=sp(),C=x(k);nv(C,{get show(){return v(t)},close:()=>R(t,!1)});var j=P(C,2);jo(j,{});var I=P(j,2),O=x(I);li(O,{largeIcon:!0,clickHandler:()=>R(t,!0)});var q=P(I,2),ee=x(q),se=x(ee),ae=x(se);li(ae,{clickHandler:()=>R(t,!0)});var X=P(se,2);Kh(X,{changeBlock:S,deleteBlock:$,updateBlockPositions:y,get blockNo(){return v(s)},set blockNo(U){R(s,W(U))},get blocks(){return v(a)},set blocks(U){R(a,W(U))}});var de=P(ee,2),_e=x(de);{var ye=U=>{Ro(U,{get block(){return v(a)[v(s)]},set block(L){v(a)[v(s)]=L},$$events:{updateBlock:E}})},Ie=U=>{var L=ap();_(U,L)};F(_e,U=>{v(a)[v(s)]?U(ye):U(Ie,!1)})}var we=P(de,2),me=x(we);{var Re=U=>{kg(U,{formProp:d,changeColorOnForm:h})},Be=U=>{var L=H(),N=D(L);{var V=fe=>{np(fe,{get block(){return v(a)[v(s)]},set block(et){v(a)[v(s)]=et}})};F(N,fe=>{v(a)[v(s)]&&fe(V)},!0)}_(U,L)};F(me,U=>{v(n)?U(Re):U(Be,!1)})}_(p,k)},$$slots:{default:!0}}),ue()}var op=A('<button class="flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg shadow-md"><!> <span>Download CSV</span></button>'),lp=A('<button class="px-6 py-3 bg-red-600 text-white rounded-lg shadow-md flex items-center gap-2"><!> <span> </span></button>'),cp=A('<div class="flex flex-col items-center text-center text-gray-500 py-24"><!> <h2 class="text-xl font-semibold">No responses yet</h2> <p class="text-gray-400 mt-2">Once someone submits the form, their answers will appear here.</p></div>'),up=A('<div><!> <div class="text-gray-800 break-words"> </div></div>'),dp=A('<div class="text-gray-400 italic">No answers</div>'),fp=A('<div class="bg-white shadow-xl rounded-lg w-full p-4 border border-gray-200 space-y-2 relative flex items-start"><input type="checkbox" class="w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"> <div class="pl-12 w-full"><!> <div class="text-sm text-gray-500 pt-3 border-t mt-2"> </div></div></div>'),hp=A('<div class="space-y-6 overflow-y-auto max-h-[80vh] pb-4"></div>'),vp=A('<div class="max-w-full mx-auto mt-8 px-6"><div class="flex justify-end space-x-4 mb-6"><!> <!></div> <!></div>');function gp(r,e){ce(e,!0);let t=oe(W(e.route.result.path.params.id)),n=[],a=new Set;const s=c=>new Date(c).toLocaleString(void 0,{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),i=c=>{const u=new Set(a);u.has(c)?u.delete(c):u.add(c),a=u},o=async()=>{const c=[...a];for(const u of c)await Wf(u);n=n.filter(u=>!a.has(u.id)),a=new Set};ot(async()=>{const c=await Hf(v(t));c.success?n=c.data.responses:c.error});function l(){if(n.length===0)return;const c=Array.from(new Set(n.flatMap(m=>{var y;return((y=m.meta)==null?void 0:y.map($=>$.blockTypeId))||[]}))),u=["ID","Timestamp",...c.map(m=>`Answer-${m}`)],d=n.map(m=>{var $;const y=new Map(($=m.meta)==null?void 0:$.map(S=>[S.blockTypeId,S.answer||""]));return[m.id,s(m.created_at),...c.map(S=>y.get(S)||"")]}),f=[u.join(","),...d.map(m=>m.join(","))].join(`
`),h=new Blob([f],{type:"text/csv"}),b=URL.createObjectURL(h),g=document.createElement("a");g.href=b,g.download=`responses-${v(t)}.csv`,document.body.appendChild(g),g.click(),document.body.removeChild(g)}Zn(r,{activeMenuLabel:"Responses",get formId(){return v(t)},set formId(c){R(t,W(c))},children:(c,u)=>{var d=vp(),f=x(d),h=x(f);{var b=E=>{var p=op(),T=x(p);hf(T,{class:"w-5 h-5"}),G("click",p,l),_(E,p)};F(h,E=>{n.length>0&&E(b)})}var g=P(h,2);{var m=E=>{var p=lp(),T=x(p);To(T,{class:"w-5 h-5"});var k=P(T,2),C=x(k);J(()=>ie(C,`${a.size??""} selected - Delete`)),G("click",p,o),_(E,p)};F(g,E=>{a.size>0&&E(m)})}var y=P(f,2);{var $=E=>{var p=cp(),T=x(p);bf(T,{class:"w-16 h-16 mb-4 opacity-30"}),_(E,p)},S=E=>{var p=hp();Fe(p,21,()=>n,ze,(T,k)=>{var C=fp(),j=x(C),I=P(j,2),O=x(I);{var q=X=>{var de=H(),_e=D(de);Fe(_e,17,()=>v(k).meta,ze,(ye,Ie)=>{var we=up(),me=x(we);ds(me,{get blockId(){return v(Ie).blockTypeId}});var Re=P(me,2),Be=x(Re);J(()=>{$e(we,`p-3 ${Le[v(Ie).blockTypeId]||"bg-gray-100"} rounded-lg flex items-center space-x-3`),ie(Be,v(Ie).answer||"---")}),_(ye,we)}),_(X,de)},ee=X=>{var de=dp();_(X,de)};F(O,X=>{v(k).meta&&v(k).meta.length>0?X(q):X(ee,!1)})}var se=P(O,2),ae=x(se);J((X,de)=>{hc(j,X),ie(ae,de)},[()=>a.has(v(k).id),()=>s(v(k).created_at)]),G("change",j,()=>i(v(k).id)),_(T,C)}),_(E,p)};F(y,E=>{n.length===0?E($):E(S,!1)})}_(c,d)},$$slots:{default:!0}}),ue()}class pp{constructor(e){this.value=e,this.error=null}required(e="This field is required."){return!this.error&&(this.value===""||this.value==null)&&(this.error=e),this}email(e="Invalid email format."){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!this.error&&this.value&&!t.test(this.value)&&(this.error=e),this}url(e="Invalid URL."){const t=/^(https?:\/\/)([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(\/[^\s]*)?$/;return!this.error&&this.value&&!t.test(this.value)&&(this.error=e),this}min(e,t){var n;return!this.error&&((n=this.value)==null?void 0:n.length)<e&&(this.error=t||`Minimum ${e} characters required.`),this}max(e,t){var n;return!this.error&&((n=this.value)==null?void 0:n.length)>e&&(this.error=t||`Maximum ${e} characters allowed.`),this}minSelection(e="Please select at least one option."){return!this.error&&(!this.value||this.value.length===0)&&(this.error=e),this}result(){return this.error}}function mp({meta:r,value:e}){var l;if(!(r!=null&&r.component))return null;const{required:t}=r.validation||{},{minCharacters:n,maxCharacters:a}=r.props||{},s=new pp(e),i=()=>t?s.required():s,o={ShortText:()=>i(),DropdownBlock:()=>i(),StarRatings:()=>i(),DatePicker:()=>i(),Number:()=>i(),PhoneNumber:()=>i(),OpinionScale:()=>i(),Signature:()=>i(),Website:()=>i().url(),Scheduler:()=>i(),Email:()=>i().email(),LongText:()=>i().min(n),Select:()=>i().minSelection(),YesNo:()=>i(),CheckboxBlock:()=>i(),Website:()=>i().url()};return((l=o[r.component])==null?void 0:l.call(o).result())||null}function bp(r,e,t){v(e)>0&&(R(e,v(e)-1),R(t,W({...v(t),visible:!1,direction:"top"})),setTimeout(()=>{R(t,W({...v(t),visible:!0}))},700))}var yp=A("<div><!></div>"),_p=A('<div class="text-center mt-20 text-red-600 text-lg px-4"><p> </p> <p class="text-sm text-gray-500 mt-2">Please check the link or try again later.</p></div>'),wp=A("<div><!></div>"),xp=A('<button class="w-8 h-8 bg-gray-800 text-white rounded-md hover:bg-gray-700 flex items-center justify-center" title="Previous"><!></button>'),kp=A('<button class="w-8 h-8 bg-gray-800 text-white rounded-md hover:bg-gray-700 flex items-center justify-center" title="Next"><!></button>'),$p=A('<div class="absolute bottom-10 right-10 z-10 flex gap-4 items-center"><div class="flex gap-2 items-center"><!> <!></div> <a href="https://fabform.io" target="_blank" class="bg-black text-white text-sm flex items-center gap-2 py-1 px-4 rounded-md hover:bg-gray-800">Powered by FabForm</a></div>'),Sp=A("<main><!> <!></main>");function Ep(r,e){ce(e,!0);let t=oe(!0),n=oe(void 0),a=oe(W([])),s=oe(0),i=oe(!1),o,l=oe(void 0);ot(async()=>{o=e.route.result.path.params.id;const S=await ls(o);R(l,W(S.data.form.meta));const E=await Lo(o);R(a,W(E.data.blocks)),R(s,0)}),setTimeout(()=>{R(t,!1)},4e3);const c={top:-500,bottom:500};let u=oe(W({visible:!0,direction:"top"}));function d(){R(n,"");const S=v(a)[v(s)],E=mp(S);if(E){R(n,W(E));return}v(s)===v(a).length-1?f():(R(s,v(s)+1),R(u,W({...v(u),visible:!1,direction:"bottom"})),setTimeout(()=>{R(u,W({...v(u),visible:!0}))},700))}async function f(){const S=v(a).filter(E=>E.value!=null).map(E=>({blockId:E.id,blockTypeId:E.meta.blockTypeId,answer:E.value}));await qf(o,S),R(i,!0),R(s,-1)}var h=Sp(),b=x(h);{var g=S=>{var E=yp(),p=x(E);dh(p,{}),_(S,E)},m=S=>{var E=H(),p=D(E);{var T=C=>{var j=_p(),I=x(j),O=x(I);J(()=>ie(O,v(n))),_(C,j)},k=C=>{var j=H(),I=D(j);{var O=ee=>{No(ee,{})},q=ee=>{var se=H(),ae=D(se);{var X=de=>{var _e=wp(),ye=x(_e);Ro(ye,{get uiMeta(){return v(l)},formMode:!0,get errorMessage(){return v(n)},nextBlock:d,get block(){return v(a)[v(s)]},set block(Ie){v(a)[v(s)]=Ie}}),Sr(1,_e,()=>Ph,()=>({y:v(u).direction==="top"?c.top:c.bottom,opacity:0,duration:700})),Sr(2,_e,()=>Oo),_(de,_e)};F(ae,de=>{var _e;(_e=v(a)[v(s)])!=null&&_e.meta&&v(u).visible&&de(X)},!0)}_(ee,se)};F(I,ee=>{v(i)?ee(O):ee(q,!1)})}_(C,j)};F(p,C=>{v(n)&&v(a).length===0?C(T):C(k,!1)},!0)}_(S,E)};F(b,S=>{v(t)?S(g):S(m,!1)})}var y=P(b,2);{var $=S=>{var E=$p(),p=x(E),T=x(p);{var k=I=>{var O=xp();O.__click=[bp,s,u];var q=x(O);rf(q,{size:16}),_(I,O)};F(T,I=>{v(s)>0&&I(k)})}var C=P(T,2);{var j=I=>{var O=kp();O.__click=d;var q=x(O);ef(q,{size:16}),_(I,O)};F(C,I=>{v(s)<v(a).length-1&&I(j)})}_(S,E)};F(y,S=>{!v(i)&&!v(n)&&S($)})}_(r,h),ue()}Nr(["click"]);var Tp=A('<p class="text-sm text-red-500 text-center"> </p>'),Pp=A('<p class="text-sm text-green-600 text-center"> </p>'),Cp=A(`<div class="min-h-screen flex justify-center items-center bg-gray-100"><div class="w-full max-w-sm bg-white p-8 space-y-6 rounded-xl shadow-lg"><h2 class="text-3xl font-bold text-center text-gray-900">Sign into my account</h2> <p class="text-sm text-center text-gray-500">Please sign in to your FabForm account</p> <div class="space-y-5"><input type="email" placeholder="Email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <input type="password" placeholder="Password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <button class="w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"> </button></div> <div class="text-center mt-4"><p class="text-sm text-gray-500">Don't have an account? <a href="/signup" class="text-blue-600 hover:text-blue-700">Sign up</a></p></div> <!></div></div>`);function Ap(r,e){ce(e,!1);const t=or,n=Ue(t.state),a=t.loginWithEmail;let s=Ue(""),i=Ue("");const o=async()=>{if(!v(s)||!v(i)){xr(n,v(n).error="Please enter both email and password.");return}xr(n,v(n).error=null),await a(v(s),v(i))&&St("/dashboard")};gt();var l=Cp(),c=x(l),u=P(x(c),4),d=x(u),f=P(d,2),h=P(f,2),b=x(h),g=P(u,4);{var m=$=>{var S=Tp(),E=x(S);J(()=>ie(E,v(n).error)),_($,S)},y=$=>{var S=H(),E=D(S);{var p=T=>{var k=Pp(),C=x(k);J(()=>ie(C,v(n).message)),_(T,k)};F(E,T=>{v(n).message&&T(p)},!0)}_($,S)};F(g,$=>{v(n).error?$(m):$(y,!1)})}J(()=>{h.disabled=v(n).loading,ie(b,v(n).loading&&v(n).lastAction==="login"&&v(n).lastProvider==="email"?"Logging in":"Login with Email")}),Ve(d,()=>v(s),$=>R(s,$)),Ve(f,()=>v(i),$=>R(i,$)),G("click",h,o),_(r,l),ue()}var Ip=A('<p class="text-sm text-red-500 text-center"> </p>'),Op=A('<p class="text-sm text-green-600 text-center"> </p>'),jp=A('<div class="min-h-screen flex justify-center items-center bg-gray-100"><div class="w-full max-w-sm bg-white p-8 space-y-6 rounded-xl shadow-lg"><h2 class="text-3xl font-bold text-center text-gray-900">Create an Account</h2> <p class="text-sm text-center text-gray-500">Sign up to start your journey</p> <div class="space-y-5"><input type="email" placeholder="Email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <input type="password" placeholder="Password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <input type="password" placeholder="Confirm Password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"> <button class="w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"> </button></div> <!></div></div>');function Lp(r,e){ce(e,!1);const t=or,n=Ue(t.state),a=t.createUser;let s=Ue(""),i=Ue(""),o=Ue("");const l=async()=>{if(v(i)!==v(o)){xr(n,v(n).error="Passwords do not match!");return}await a(v(s),v(i))&&St("/dashboard")};gt();var c=jp(),u=x(c),d=P(x(u),4),f=x(d),h=P(f,2),b=P(h,2),g=P(b,2),m=x(g),y=P(d,2);{var $=E=>{var p=Ip(),T=x(p);J(()=>ie(T,v(n).error)),_(E,p)},S=E=>{var p=H(),T=D(p);{var k=C=>{var j=Op(),I=x(j);J(()=>ie(I,v(n).message)),_(C,j)};F(T,C=>{v(n).message&&C(k)},!0)}_(E,p)};F(y,E=>{v(n).error?E($):E(S,!1)})}J(()=>{g.disabled=v(n).loading,ie(m,v(n).loading&&v(n).lastAction==="signup"?"Signing up":"Sign Up")}),Ve(f,()=>v(s),E=>R(s,E)),Ve(h,()=>v(i),E=>R(i,E)),Ve(b,()=>v(o),E=>R(o,E)),G("click",g,l),_(r,c),ue()}var Rp=A("<h1>Test 12345</h1>");function Np(r){var e=Rp();_(r,e)}var Mp=A('<div class="min-h-screen bg-gray-50 flex flex-col items-center justify-center px-6 py-12"><div class="w-full max-w-4xl space-y-6 bg-white p-8 rounded-2xl shadow-xl border border-gray-200"><div class="flex flex-col space-y-4 items-center md:items-start"><div class="w-full flex flex-col md:flex-row md:items-center md:space-x-2 space-y-2 md:space-y-0"><input class="w-full md:w-80 px-3 py-2 rounded-md border border-gray-300 text-gray-800 text-sm" type="text" readonly=""> <!></div> <!></div> <div class="relative bg-gray-900 rounded-lg p-4 text-sm font-mono text-white overflow-auto max-h-[300px]"><pre class="whitespace-pre-wrap break-all"> </pre> <button class="absolute bottom-2 right-2 p-1 rounded hover:bg-gray-700 transition" aria-label="Copy code"><!></button></div></div> <!></div>');function Dp(r,e){ce(e,!0);let t=oe(W(e.route.result.path.params.id)),n=nr+`/v/${v(t)}`,a=oe("Inline Embed"),s=oe("");kt(()=>{switch(v(a)){case"Inline Embed":R(s,`<iframe src="${n}" style="width:100%; height:300px;" frameborder="0"></iframe>`);break;case"Popup":R(s,`<button onclick="window.open('${n}', '_blank', 'width=600,height=400')">Open Form</button>`);break;case"Fullpage":R(s,`<a href="${n}" target="_blank">Go to Fullpage Form</a>`);break;default:R(s,"")}});let i=oe(!1);async function o(){try{await navigator.clipboard.writeText(v(s)),R(i,!0),setTimeout(()=>R(i,!1),3e3)}catch{}}Zn(r,{activeMenuLabel:"Share",get formId(){return v(t)},set formId(l){R(t,W(l))},children:(l,c)=>{var u=Mp(),d=x(u),f=x(d),h=x(f),b=x(h);Ki(b,n);var g=P(b,2);Po(g,{link:n});var m=P(h,2);At(m,{choices:["Inline Embed","Popup","Fullpage"],get value(){return v(a)},set value(C){R(a,W(C))}});var y=P(f,2),$=x(y),S=x($),E=P($,2),p=x(E);uf(p,{class:"w-5 h-5 text-white"}),at(E,(C,j)=>st==null?void 0:st(C,j),()=>({text:"Copy code",position:"bottom"})),Ze(()=>G("click",E,o));var T=P(d,2);{var k=C=>{Ao(C,{message:"Code Copied!",type:"success"})};F(T,C=>{v(i)&&C(k)})}J(()=>ie(S,v(s))),_(l,u)},$$slots:{default:!0}}),ue()}var Bp=A('<div class="min-h-screen bg-gray-50 flex flex-col items-center justify-center px-6 py-12"><h2>Settings for My Form</h2> <p1>coming soon</p1></div>');function Up(r,e){ce(e,!0);let t=oe(W(e.route.result.path.params.id));Zn(r,{activeMenuLabel:"Settings",get formId(){return v(t)},set formId(n){R(t,W(n))},children:(n,a)=>{var s=Bp();_(n,s)},$$slots:{default:!0}}),ue()}const qr=()=>or.state.user?!0:(St("/login"),!1),Fp=[{path:"",hooks:{pre:()=>St("/dashboard")}},{path:"login",component:Ap},{path:"signup",component:Lp},{path:"dashboard",component:ev,hooks:{pre:qr}},{path:"share/(?<id>.*)",component:Dp,hooks:{pre:qr}},{path:"settings/(?<id>.*)",component:Up,hooks:{pre:qr}},{path:"responses/(?<id>.*)",component:gp,hooks:{pre:qr}},{path:"form/(?<mode>[^/]+)/(?<id>[^/]+)",component:ip,hooks:{pre:qr}},{path:"v/(?<id>.*)",component:Ep},{path:"test",component:Np}];var zp=A('<div class="flex items-center justify-center h-full text-gray-600">Loading...</div>'),qp=A('<main class="w-screen h-screen"><!></main>');function Hp(r,e){ce(e,!1);const{getUser:t}=or;let n=Ue(!0);ot(async()=>{await t(),R(n,!1)}),gt();var a=qp(),s=x(a);{var i=l=>{var c=zp();_(l,c)},o=l=>{Bc(l,{routes:Fp})};F(s,l=>{v(n)?l(i):l(o,!1)})}_(r,a),ue()}ac(Hp,{target:document.getElementById("app")});export{to as g};
