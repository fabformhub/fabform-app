var cl=Object.defineProperty;var Ps=r=>{throw TypeError(r)};var ul=(r,e,t)=>e in r?cl(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ve=(r,e,t)=>ul(r,typeof e!="symbol"?e+"":e,t),Cs=(r,e,t)=>e.has(r)||Ps("Cannot "+t);var ze=(r,e,t)=>(Cs(r,e,"read from private field"),t?t.call(r):e.get(r)),lr=(r,e,t)=>e.has(r)?Ps("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t);var Tn=(r,e,t)=>(Cs(r,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();const As=!1;var ea=Array.isArray,dl=Array.prototype.indexOf,Xa=Array.from,Ti=Object.defineProperty,rr=Object.getOwnPropertyDescriptor,Pi=Object.getOwnPropertyDescriptors,fl=Object.prototype,hl=Array.prototype,Za=Object.getPrototypeOf;function Ar(r){return typeof r=="function"}const Ve=()=>{};function vl(r){return r()}function Bn(r){for(var e=0;e<r.length;e++)r[e]()}const wt=2,Ci=4,mn=8,ta=16,Rt=32,Ur=64,Un=128,Ot=256,Fn=512,Ze=1024,Wt=2048,Fr=4096,Pt=8192,zr=16384,Ai=32768,mr=65536,gl=1<<17,pl=1<<19,Ii=1<<20,Ct=Symbol("$state"),Oi=Symbol("legacy props"),ml=Symbol("");function ji(r){return r===this.v}function ra(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function bl(r,e){return r!==e}function es(r){return!ra(r,this.v)}function yl(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function _l(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function wl(r){throw new Error("https://svelte.dev/e/effect_orphan")}function xl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function kl(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function $l(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Sl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function El(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Tl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let qr=!1,Pl=!1;function Cl(){qr=!0}const ts=1,rs=2,Li=4,Al=8,Il=16,Ol=1,jl=2,Ri=4,Ll=8,Rl=16,Nl=1,Dl=2,Ml=4,Bl=1,Ul=2,Ke=Symbol(),Ni="http://www.w3.org/2000/svg";function ns(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Ee=null;function Is(r){Ee=r}function Fl(r){return Di().get(r)}function zl(r,e){return Di().set(r,e),e}function le(r,e=!1,t){Ee={p:Ee,c:null,e:null,m:!1,s:r,x:null,l:null},qr&&!e&&(Ee.l={s:null,u:null,r1:[],r2:Qe(!1)})}function ce(r){const e=Ee;if(e!==null){const i=e.e;if(i!==null){var t=ke,n=Le;e.e=null;try{for(var a=0;a<i.length;a++){var s=i[a];pt(s.effect),Lt(s.reaction),it(s.fn)}}finally{pt(t),Lt(n)}}Ee=e.p,e.m=!0}return{}}function Di(r){return Ee===null&&ns(),Ee.c??(Ee.c=new Map(ql(Ee)||void 0))}function ql(r){let e=r.p;for(;e!==null;){const t=e.c;if(t!==null)return t;e=e.p}return null}function Qe(r,e){var t={f:0,v:r,reactions:null,equals:ji,rv:0,wv:0};return t}function ae(r){return Mi(Qe(r))}function na(r,e=!1){var n;const t=Qe(r);return e||(t.equals=es),qr&&Ee!==null&&Ee.l!==null&&((n=Ee.l).s??(n.s=[])).push(t),t}function ye(r,e=!1){return Mi(na(r,e))}function Mi(r){return Le!==null&&!zt&&(Le.f&wt)!==0&&(At===null?ec([r]):At.push(r)),r}function zn(r,e){return C(r,mt(()=>h(r))),e}function C(r,e){return Le!==null&&!zt&&Vr()&&(Le.f&(wt|ta))!==0&&(At===null||!At.includes(r))&&Tl(),Pa(r,e)}function Pa(r,e){return r.equals(e)||(r.v,r.v=e,r.wv=Zi(),Bi(r,Wt),Vr()&&ke!==null&&(ke.f&Ze)!==0&&(ke.f&(Rt|Ur))===0&&(Bt===null?tc([r]):Bt.push(r))),e}function Bi(r,e){var t=r.reactions;if(t!==null)for(var n=Vr(),a=t.length,s=0;s<a;s++){var i=t[s],o=i.f;(o&Wt)===0&&(!n&&i===ke||(kt(i,e),(o&(Ze|Ot))!==0&&((o&wt)!==0?Bi(i,Fr):ia(i))))}}let Ui=!1;function K(r,e=null,t){if(typeof r!="object"||r===null||Ct in r)return r;const n=Za(r);if(n!==fl&&n!==hl)return r;var a=new Map,s=ea(r),i=Qe(0);s&&a.set("length",Qe(r.length));var o;return new Proxy(r,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&$l();var d=a.get(c);return d===void 0?(d=Qe(u.value),a.set(c,d)):C(d,K(u.value,o)),!0},deleteProperty(l,c){var u=a.get(c);if(u===void 0)c in l&&a.set(c,Qe(Ke));else{if(s&&typeof c=="string"){var d=a.get("length"),f=Number(c);Number.isInteger(f)&&f<d.v&&C(d,f)}C(u,Ke),Os(i)}return!0},get(l,c,u){var g;if(c===Ct)return r;var d=a.get(c),f=c in l;if(d===void 0&&(!f||(g=rr(l,c))!=null&&g.writable)&&(d=Qe(K(f?l[c]:Ke,o)),a.set(c,d)),d!==void 0){var v=h(d);return v===Ke?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=a.get(c);d&&(u.value=h(d))}else if(u===void 0){var f=a.get(c),v=f==null?void 0:f.v;if(f!==void 0&&v!==Ke)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){var v;if(c===Ct)return!0;var u=a.get(c),d=u!==void 0&&u.v!==Ke||Reflect.has(l,c);if(u!==void 0||ke!==null&&(!d||(v=rr(l,c))!=null&&v.writable)){u===void 0&&(u=Qe(d?K(l[c],o):Ke),a.set(c,u));var f=h(u);if(f===Ke)return!1}return d},set(l,c,u,d){var b;var f=a.get(c),v=c in l;if(s&&c==="length")for(var g=u;g<f.v;g+=1){var p=a.get(g+"");p!==void 0?C(p,Ke):g in l&&(p=Qe(Ke),a.set(g+"",p))}f===void 0?(!v||(b=rr(l,c))!=null&&b.writable)&&(f=Qe(void 0),C(f,K(u,o)),a.set(c,f)):(v=f.v!==Ke,C(f,K(u,o)));var y=Reflect.getOwnPropertyDescriptor(l,c);if(y!=null&&y.set&&y.set.call(d,u),!v){if(s&&typeof c=="string"){var _=a.get("length"),$=Number(c);Number.isInteger($)&&$>=_.v&&C(_,$+1)}Os(i)}return!0},ownKeys(l){h(i);var c=Reflect.ownKeys(l).filter(f=>{var v=a.get(f);return v===void 0||v.v!==Ke});for(var[u,d]of a)d.v!==Ke&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Sl()}})}function Os(r,e=1){C(r,r.v+e)}function js(r){return r!==null&&typeof r=="object"&&Ct in r?r[Ct]:r}function Hl(r,e){return Object.is(js(r),js(e))}var Ls,Fi,zi;function Vl(){if(Ls===void 0){Ls=window;var r=Element.prototype,e=Node.prototype;Fi=rr(e,"firstChild").get,zi=rr(e,"nextSibling").get,r.__click=void 0,r.__className="",r.__attributes=null,r.__styles=null,r.__e=void 0,Text.prototype.__t=void 0}}function bn(r=""){return document.createTextNode(r)}function Tt(r){return Fi.call(r)}function aa(r){return zi.call(r)}function w(r,e){return Tt(r)}function N(r,e){{var t=Tt(r);return t instanceof Comment&&t.data===""?aa(t):t}}function T(r,e=1,t=!1){let n=r;for(;e--;)n=aa(n);return n}function Wl(r){r.textContent=""}function be(r){var e=wt|Wt,t=Le!==null&&(Le.f&wt)!==0?Le:null;return ke===null||t!==null&&(t.f&Ot)!==0?e|=Ot:ke.f|=Ii,{ctx:Ee,deps:null,effects:null,equals:ji,f:e,fn:r,reactions:null,rv:0,v:null,wv:0,parent:t??ke}}function yn(r){const e=be(r);return e.equals=es,e}function as(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)xt(e[t])}}function Gl(r){for(var e=r.parent;e!==null;){if((e.f&wt)===0)return e;e=e.parent}return null}function qi(r){var e,t=ke;pt(Gl(r));try{as(r),e=to(r)}finally{pt(t)}return e}function Hi(r){var e=qi(r),t=(fr||(r.f&Ot)!==0)&&r.deps!==null?Fr:Ze;kt(r,t),r.equals(e)||(r.v=e,r.wv=Zi())}function Jl(r){as(r),ln(r,0),kt(r,zr),r.v=r.deps=r.ctx=r.reactions=null}function Vi(r){ke===null&&Le===null&&wl(),Le!==null&&(Le.f&Ot)!==0&&ke===null&&_l(),is&&yl()}function Kl(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function Hr(r,e,t,n=!0){var a=(r&Ur)!==0,s=ke,i={ctx:Ee,deps:null,nodes_start:null,nodes_end:null,f:r|Wt,first:null,fn:e,last:null,next:null,parent:a?null:s,prev:null,teardown:null,transitions:null,wv:0};if(t){var o=Or;try{Rs(!0),os(i),i.f|=Ai}catch(u){throw xt(i),u}finally{Rs(o)}}else e!==null&&ia(i);var l=t&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Ii|Un))===0;if(!l&&!a&&n&&(s!==null&&Kl(i,s),Le!==null&&(Le.f&wt)!==0)){var c=Le;(c.effects??(c.effects=[])).push(i)}return i}function Wi(r){const e=Hr(mn,null,!1);return kt(e,Ze),e.teardown=r,e}function gt(r){Vi();var e=ke!==null&&(ke.f&Rt)!==0&&Ee!==null&&!Ee.m;if(e){var t=Ee;(t.e??(t.e=[])).push({fn:r,effect:ke,reaction:Le})}else{var n=it(r);return n}}function Yl(r){return Vi(),_n(r)}function Ql(r){const e=Hr(Ur,r,!0);return(t={})=>new Promise(n=>{t.outro?hr(e,()=>{xt(e),n(void 0)}):(xt(e),n(void 0))})}function it(r){return Hr(Ci,r,!1)}function _n(r){return Hr(mn,r,!0)}function G(r,e=[],t=be){const n=e.map(t);return nr(()=>r(...n.map(h)))}function nr(r,e=0){return Hr(mn|ta|e,r,!0)}function jt(r,e=!0){return Hr(mn|Rt,r,!0,e)}function Gi(r){var e=r.teardown;if(e!==null){const t=is,n=Le;Ns(!0),Lt(null);try{e.call(null)}finally{Ns(t),Lt(n)}}}function Ji(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){var n=t.next;xt(t,e),t=n}}function Xl(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&Rt)===0&&xt(e),e=t}}function xt(r,e=!0){var t=!1;if((e||(r.f&pl)!==0)&&r.nodes_start!==null){for(var n=r.nodes_start,a=r.nodes_end;n!==null;){var s=n===a?null:aa(n);n.remove(),n=s}t=!0}Ji(r,e&&!t),ln(r,0),kt(r,zr);var i=r.transitions;if(i!==null)for(const l of i)l.stop();Gi(r);var o=r.parent;o!==null&&o.first!==null&&Ki(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function Ki(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function hr(r,e){var t=[];ss(r,t,!0),Yi(t,()=>{xt(r),e&&e()})}function Yi(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var a of r)a.out(n)}else e()}function ss(r,e,t){if((r.f&Pt)===0){if(r.f^=Pt,r.transitions!==null)for(const i of r.transitions)(i.is_global||t)&&e.push(i);for(var n=r.first;n!==null;){var a=n.next,s=(n.f&mr)!==0||(n.f&Rt)!==0;ss(n,e,s?t:!1),n=a}}}function on(r){Qi(r,!0)}function Qi(r,e){if((r.f&Pt)!==0){r.f^=Pt,(r.f&Ze)===0&&(r.f^=Ze),xn(r)&&(kt(r,Wt),ia(r));for(var t=r.first;t!==null;){var n=t.next,a=(t.f&mr)!==0||(t.f&Rt)!==0;Qi(t,a?e:!1),t=n}if(r.transitions!==null)for(const s of r.transitions)(s.is_global||e)&&s.in()}}let Ca=!1,Aa=[];function Zl(){Ca=!1;const r=Aa.slice();Aa=[],Bn(r)}function wn(r){Ca||(Ca=!0,queueMicrotask(Zl)),Aa.push(r)}let Nn=!1,qn=!1,Hn=null,Or=!1,is=!1;function Rs(r){Or=r}function Ns(r){is=r}let Ia=[],en=0;let Le=null,zt=!1;function Lt(r){Le=r}let ke=null;function pt(r){ke=r}let At=null;function ec(r){At=r}let at=null,lt=0,Bt=null;function tc(r){Bt=r}let Xi=1,Vn=0,fr=!1;function Zi(){return++Xi}function Vr(){return!qr||Ee!==null&&Ee.l===null}function xn(r){var c;var e=r.f;if((e&Wt)!==0)return!0;if((e&Fr)!==0){var t=r.deps,n=(e&Ot)!==0;if(t!==null){var a,s,i=(e&Fn)!==0,o=n&&ke!==null&&!fr,l=t.length;if(i||o){for(a=0;a<l;a++)s=t[a],(i||!((c=s==null?void 0:s.reactions)!=null&&c.includes(r)))&&(s.reactions??(s.reactions=[])).push(r);i&&(r.f^=Fn)}for(a=0;a<l;a++)if(s=t[a],xn(s)&&Hi(s),s.wv>r.wv)return!0}(!n||ke!==null&&!fr)&&kt(r,Ze)}return!1}function rc(r,e){for(var t=e;t!==null;){if((t.f&Un)!==0)try{t.fn(r);return}catch{t.f^=Un}t=t.parent}throw Nn=!1,r}function nc(r){return(r.f&zr)===0&&(r.parent===null||(r.parent.f&Un)===0)}function sa(r,e,t,n){if(Nn){if(t===null&&(Nn=!1),nc(e))throw r;return}t!==null&&(Nn=!0);{rc(r,e);return}}function eo(r,e,t=0){var n=r.reactions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];(s.f&wt)!==0?eo(s,e,t+1):e===s&&(t===0?kt(s,Wt):(s.f&Ze)!==0&&kt(s,Fr),ia(s))}}function to(r){var v;var e=at,t=lt,n=Bt,a=Le,s=fr,i=At,o=Ee,l=zt,c=r.f;at=null,lt=0,Bt=null,Le=(c&(Rt|Ur))===0?r:null,fr=(c&Ot)!==0&&(!Or||(a===null||l)&&r.parent!==null),At=null,Is(r.ctx),zt=!1,Vn++;try{var u=(0,r.fn)(),d=r.deps;if(at!==null){var f;if(ln(r,lt),d!==null&&lt>0)for(d.length=lt+at.length,f=0;f<at.length;f++)d[lt+f]=at[f];else r.deps=d=at;if(!fr)for(f=lt;f<d.length;f++)((v=d[f]).reactions??(v.reactions=[])).push(r)}else d!==null&&lt<d.length&&(ln(r,lt),d.length=lt);if(Vr()&&Bt!==null&&(r.f&(wt|Fr|Wt))===0)for(f=0;f<Bt.length;f++)eo(Bt[f],r);return a!==null&&Vn++,u}finally{at=e,lt=t,Bt=n,Le=a,fr=s,At=i,Is(o),zt=l}}function ac(r,e){let t=e.reactions;if(t!==null){var n=dl.call(t,r);if(n!==-1){var a=t.length-1;a===0?t=e.reactions=null:(t[n]=t[a],t.pop())}}t===null&&(e.f&wt)!==0&&(at===null||!at.includes(e))&&(kt(e,Fr),(e.f&(Ot|Fn))===0&&(e.f^=Fn),as(e),ln(e,0))}function ln(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)ac(r,t[n])}function os(r){var e=r.f;if((e&zr)===0){kt(r,Ze);var t=ke,n=Ee;ke=r;try{(e&ta)!==0?Xl(r):Ji(r),Gi(r);var a=to(r);r.teardown=typeof a=="function"?a:null,r.wv=Xi;var s=r.deps,i;As&&Pl&&r.f&Wt}catch(o){sa(o,r,t,n||r.ctx)}finally{ke=t}}}function sc(){if(en>1e3){en=0;try{xl()}catch(r){if(Hn!==null)sa(r,Hn,null);else throw r}}en++}function ic(r){var e=r.length;if(e!==0){sc();var t=Or;Or=!0;try{for(var n=0;n<e;n++){var a=r[n];(a.f&Ze)===0&&(a.f^=Ze);var s=[];ro(a,s),oc(s)}}finally{Or=t}}}function oc(r){var e=r.length;if(e!==0)for(var t=0;t<e;t++){var n=r[t];if((n.f&(zr|Pt))===0)try{xn(n)&&(os(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Ki(n):n.fn=null))}catch(a){sa(a,n,null,n.ctx)}}}function lc(){if(qn=!1,en>1001)return;const r=Ia;Ia=[],ic(r),qn||(en=0,Hn=null)}function ia(r){qn||(qn=!0,queueMicrotask(lc)),Hn=r;for(var e=r;e.parent!==null;){e=e.parent;var t=e.f;if((t&(Ur|Rt))!==0){if((t&Ze)===0)return;e.f^=Ze}}Ia.push(e)}function ro(r,e){var t=r.first,n=[];e:for(;t!==null;){var a=t.f,s=(a&Rt)!==0,i=s&&(a&Ze)!==0,o=t.next;if(!i&&(a&Pt)===0)if((a&mn)!==0){if(s)t.f^=Ze;else try{xn(t)&&os(t)}catch(d){sa(d,t,null,t.ctx)}var l=t.first;if(l!==null){t=l;continue}}else(a&Ci)!==0&&n.push(t);if(o===null){let d=t.parent;for(;d!==null;){if(r===d)break e;var c=d.next;if(c!==null){t=c;continue e}d=d.parent}}t=o}for(var u=0;u<n.length;u++)l=n[u],e.push(l),ro(l,e)}function h(r){var e=r.f,t=(e&wt)!==0;if(t&&(e&zr)!==0){var n=qi(r);return Jl(r),n}if(Le!==null&&!zt){At!==null&&At.includes(r)&&El();var a=Le.deps;r.rv<Vn&&(r.rv=Vn,at===null&&a!==null&&a[lt]===r?lt++:at===null?at=[r]:at.push(r))}else if(t&&r.deps===null&&r.effects===null){var s=r,i=s.parent;i!==null&&(i.f&Ot)===0&&(s.f^=Ot)}return t&&(s=r,xn(s)&&Hi(s)),r.v}function mt(r){var e=zt;try{return zt=!0,r()}finally{zt=e}}const cc=-7169;function kt(r,e){r.f=r.f&cc|e}function Ds(r,e=1){var t=h(r),n=e===1?t++:t--;return C(r,t),n}function no(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(Ct in r)Oa(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&Ct in t&&Oa(t)}}}function Oa(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let n in r)try{Oa(r[n],e)}catch{}const t=Za(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const n=Pi(t);for(let a in n){const s=n[a].get;if(s)try{s.call(r)}catch{}}}}}function uc(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const dc=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function fc(r){return dc.includes(r)}const hc={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function vc(r){return r=r.toLowerCase(),hc[r]??r}const gc=["touchstart","touchmove"];function pc(r){return gc.includes(r)}function mc(r,e){if(e){const t=document.body;r.autofocus=!0,wn(()=>{document.activeElement===t&&r.focus()})}}let Ms=!1;function bc(){Ms||(Ms=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var e;if(!r.defaultPrevented)for(const t of r.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function ao(r){var e=Le,t=ke;Lt(null),pt(null);try{return r()}finally{Lt(e),pt(t)}}function ls(r,e,t,n=t){r.addEventListener(e,()=>ao(t));const a=r.__on_r;a?r.__on_r=()=>{a(),n(!0)}:r.__on_r=()=>n(!0),bc()}const so=new Set,ja=new Set;function io(r,e,t,n={}){function a(s){if(n.capture||Xr.call(e,s),!s.cancelBubble)return ao(()=>t==null?void 0:t.call(this,s))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?wn(()=>{e.addEventListener(r,a,n)}):e.addEventListener(r,a,n),a}function Y(r,e,t,n,a){var s={capture:n,passive:a},i=io(r,e,t,s);(e===document.body||e===window||e===document)&&Wi(()=>{e.removeEventListener(r,i,s)})}function ar(r){for(var e=0;e<r.length;e++)so.add(r[e]);for(var t of ja)t(r)}function Xr(r){var $;var e=this,t=e.ownerDocument,n=r.type,a=(($=r.composedPath)==null?void 0:$.call(r))||[],s=a[0]||r.target,i=0,o=r.__root;if(o){var l=a.indexOf(o);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var c=a.indexOf(e);if(c===-1)return;l<=c&&(i=l)}if(s=a[i]||r.target,s!==e){Ti(r,"currentTarget",{configurable:!0,get(){return s||t}});var u=Le,d=ke;Lt(null),pt(null);try{for(var f,v=[];s!==null;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+n];if(p!==void 0&&!s.disabled)if(ea(p)){var[y,..._]=p;y.apply(s,[r,..._])}else p.call(s,r)}catch(b){f?v.push(b):f=b}if(r.cancelBubble||g===e||g===null)break;s=g}if(f){for(let b of v)queueMicrotask(()=>{throw b});throw f}}finally{r.__root=e,delete r.currentTarget,Lt(u),pt(d)}}}function cs(r){var e=document.createElement("template");return e.innerHTML=r,e.content}function vr(r,e){var t=ke;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function A(r,e){var t=(e&Bl)!==0,n=(e&Ul)!==0,a,s=!r.startsWith("<!>");return()=>{a===void 0&&(a=cs(s?r:"<!>"+r),t||(a=Tt(a)));var i=n?document.importNode(a,!0):a.cloneNode(!0);if(t){var o=Tt(i),l=i.lastChild;vr(o,l)}else vr(i,i);return i}}function yc(r,e,t="svg"){var n=!r.startsWith("<!>"),a=`<${t}>${n?r:"<!>"+r}</${t}>`,s;return()=>{if(!s){var i=cs(a),o=Tt(i);s=Tt(o)}var l=s.cloneNode(!0);return vr(l,l),l}}function gr(r=""){{var e=bn(r+"");return vr(e,e),e}}function V(){var r=document.createDocumentFragment(),e=document.createComment(""),t=bn();return r.append(e,t),vr(e,t),r}function m(r,e){r!==null&&r.before(e)}let Wn=!0;function Bs(r){Wn=r}function X(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t==null?"":t+"")}function _c(r,e){return wc(r,e)}const _r=new Map;function wc(r,{target:e,anchor:t,props:n={},events:a,context:s,intro:i=!0}){Vl();var o=new Set,l=d=>{for(var f=0;f<d.length;f++){var v=d[f];if(!o.has(v)){o.add(v);var g=pc(v);e.addEventListener(v,Xr,{passive:g});var p=_r.get(v);p===void 0?(document.addEventListener(v,Xr,{passive:g}),_r.set(v,1)):_r.set(v,p+1)}}};l(Xa(so)),ja.add(l);var c=void 0,u=Ql(()=>{var d=t??e.appendChild(bn());return jt(()=>{if(s){le({});var f=Ee;f.c=s}a&&(n.$$events=a),Wn=i,c=r(d,n)||{},Wn=!0,s&&ce()}),()=>{var g;for(var f of o){e.removeEventListener(f,Xr);var v=_r.get(f);--v===0?(document.removeEventListener(f,Xr),_r.delete(f)):_r.set(f,v)}ja.delete(l),d!==t&&((g=d.parentNode)==null||g.removeChild(d))}});return xc.set(c,u),c}let xc=new WeakMap;function D(r,e,t=!1){var n=r,a=null,s=null,i=Ke,o=t?mr:0,l=!1;const c=(d,f=!0)=>{l=!0,u(f,d)},u=(d,f)=>{i!==(i=d)&&(i?(a?on(a):f&&(a=jt(()=>f(n))),s&&hr(s,()=>{s=null})):(s?on(s):f&&(s=jt(()=>f(n))),a&&hr(a,()=>{a=null})))};nr(()=>{l=!1,e(c),l||u(null,null)},o)}function kc(r,e,t){var n=r,a=Ke,s,i=Vr()?bl:ra;nr(()=>{i(a,a=e())&&(s&&hr(s),s=jt(()=>t(n)))})}function Ue(r,e){return e}function $c(r,e,t,n){for(var a=[],s=e.length,i=0;i<s;i++)ss(e[i].e,a,!0);var o=s>0&&a.length===0&&t!==null;if(o){var l=t.parentNode;Wl(l),l.append(t),n.clear(),Qt(r,e[0].prev,e[s-1].next)}Yi(a,()=>{for(var c=0;c<s;c++){var u=e[c];o||(n.delete(u.k),Qt(r,u.prev,u.next)),xt(u.e,!o)}})}function Me(r,e,t,n,a,s=null){var i=r,o={flags:e,items:new Map,first:null},l=(e&Li)!==0;if(l){var c=r;i=c.appendChild(bn())}var u=null,d=!1,f=yn(()=>{var v=t();return ea(v)?v:v==null?[]:Xa(v)});nr(()=>{var v=h(f),g=v.length;if(!(d&&g===0)){d=g===0;{var p=Le;Sc(v,o,i,a,e,(p.f&Pt)!==0,n,t)}s!==null&&(g===0?u?on(u):u=jt(()=>s(i)):u!==null&&hr(u,()=>{u=null})),h(f)}})}function Sc(r,e,t,n,a,s,i,o){var Q,ne,ue,fe;var l=(a&Al)!==0,c=(a&(ts|rs))!==0,u=r.length,d=e.items,f=e.first,v=f,g,p=null,y,_=[],$=[],b,k,x,P;if(l)for(P=0;P<u;P+=1)b=r[P],k=i(b,P),x=d.get(k),x!==void 0&&((Q=x.a)==null||Q.measure(),(y??(y=new Set)).add(x));for(P=0;P<u;P+=1){if(b=r[P],k=i(b,P),x=d.get(k),x===void 0){var S=v?v.e.nodes_start:t;p=Tc(S,e,p,p===null?e.first:p.next,b,k,P,n,a,o),d.set(k,p),_=[],$=[],v=p.next;continue}if(c&&Ec(x,b,P,a),(x.e.f&Pt)!==0&&(on(x.e),l&&((ne=x.a)==null||ne.unfix(),(y??(y=new Set)).delete(x))),x!==v){if(g!==void 0&&g.has(x)){if(_.length<$.length){var I=$[0],j;p=I.prev;var R=_[0],O=_[_.length-1];for(j=0;j<_.length;j+=1)Us(_[j],I,t);for(j=0;j<$.length;j+=1)g.delete($[j]);Qt(e,R.prev,O.next),Qt(e,p,R),Qt(e,O,I),v=I,p=O,P-=1,_=[],$=[]}else g.delete(x),Us(x,v,t),Qt(e,x.prev,x.next),Qt(e,x,p===null?e.first:p.next),Qt(e,p,x),p=x;continue}for(_=[],$=[];v!==null&&v.k!==k;)(s||(v.e.f&Pt)===0)&&(g??(g=new Set)).add(v),$.push(v),v=v.next;if(v===null)continue;x=v}_.push(x),p=x,v=x.next}if(v!==null||g!==void 0){for(var M=g===void 0?[]:Xa(g);v!==null;)(s||(v.e.f&Pt)===0)&&M.push(v),v=v.next;var H=M.length;if(H>0){var W=(a&Li)!==0&&u===0?t:null;if(l){for(P=0;P<H;P+=1)(ue=M[P].a)==null||ue.measure();for(P=0;P<H;P+=1)(fe=M[P].a)==null||fe.fix()}$c(e,M,W,d)}}l&&wn(()=>{var ge;if(y!==void 0)for(x of y)(ge=x.a)==null||ge.apply()}),ke.first=e.first&&e.first.e,ke.last=p&&p.e}function Ec(r,e,t,n){(n&ts)!==0&&Pa(r.v,e),(n&rs)!==0?Pa(r.i,t):r.i=t}function Tc(r,e,t,n,a,s,i,o,l,c){var u=(l&ts)!==0,d=(l&Il)===0,f=u?d?na(a):Qe(a):a,v=(l&rs)===0?i:Qe(i),g={i:v,v:f,k:s,a:null,e:null,prev:t,next:n};try{return g.e=jt(()=>o(r,f,v,c),Ui),g.e.prev=t&&t.e,g.e.next=n&&n.e,t===null?e.first=g:(t.next=g,t.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function Us(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,a=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==n;){var i=aa(s);a.before(s),s=i}}function Qt(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function us(r,e,t,n,a){var s=r,i="",o;nr(()=>{i!==(i=e()??"")&&(o!==void 0&&(xt(o),o=void 0),i!==""&&(o=jt(()=>{var l=i+"";t&&(l=`<svg>${l}</svg>`);var c=cs(l);if((t||n)&&(c=Tt(c)),vr(Tt(c),c.lastChild),t||n)for(;Tt(c);)s.before(Tt(c));else s.before(c)})))})}function te(r,e,t,n,a){var o;var s=(o=e.$$slots)==null?void 0:o[t],i=!1;s===!0&&(s=e.children,i=!0),s===void 0||s(r,i?()=>n:n)}function Pc(r,e,...t){var n=r,a=Ve,s;nr(()=>{a!==(a=e())&&(s&&(xt(s),s=null),s=jt(()=>a(n,...t)))},mr)}function Nt(r,e,t){var n=r,a,s;nr(()=>{a!==(a=e())&&(s&&(hr(s),s=null),a&&(s=jt(()=>t(n,a))))},mr)}function Cc(r,e,t,n,a,s){var i,o,l=null,c=r,u;nr(()=>{const d=e()||null;var f=Ni;d!==i&&(u&&(d===null?hr(u,()=>{u=null,o=null}):d===o?on(u):(xt(u),Bs(!1))),d&&d!==o&&(u=jt(()=>{if(l=document.createElementNS(f,d),vr(l,l),n){var v=l.appendChild(bn());n(l,v)}ke.nodes_end=l,c.before(l)})),i=d,i&&(o=i),Bs(!0))},mr)}function ut(r,e,t){it(()=>{var n=mt(()=>e(r,t==null?void 0:t())||{});if(t&&(n!=null&&n.update)){var a=!1,s={};_n(()=>{var i=t();no(i),a&&ra(s,i)&&(s=i,n.update(i))}),a=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function oo(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=oo(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Ac(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=oo(r))&&(n&&(n+=" "),n+=e);return n}function Gn(r){return typeof r=="object"?Ac(r):r??""}function lo(r,e){var t=r.__attributes??(r.__attributes={});t.value===(t.value=e??void 0)||r.value===e&&(e!==0||r.nodeName!=="PROGRESS")||(r.value=e??"")}function Ic(r,e){var t=r.__attributes??(r.__attributes={});t.checked!==(t.checked=e??void 0)&&(r.checked=e)}function Oc(r,e){e?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function he(r,e,t,n){var a=r.__attributes??(r.__attributes={});a[e]!==(a[e]=t)&&(e==="style"&&"__styles"in r&&(r.__styles={}),e==="loading"&&(r[ml]=t),t==null?r.removeAttribute(e):typeof t!="string"&&co(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function Rr(r,e,t,n,a=!1,s=!1,i=!1){var o=e||{},l=r.tagName==="OPTION";for(var c in e)c in t||(t[c]=null);t.class&&(t.class=Gn(t.class));var u=co(r),d=r.__attributes??(r.__attributes={});for(const _ in t){let $=t[_];if(l&&_==="value"&&$==null){r.value=r.__value="",o[_]=$;continue}var f=o[_];if($!==f){o[_]=$;var v=_[0]+_[1];if(v!=="$$"){if(v==="on"){const b={},k="$$"+_;let x=_.slice(2);var g=fc(x);if(uc(x)&&(x=x.slice(0,-7),b.capture=!0),!g&&f){if($!=null)continue;r.removeEventListener(x,o[k],b),o[k]=null}if($!=null)if(g)r[`__${x}`]=$,ar([x]);else{let P=function(S){o[_].call(this,S)};o[k]=io(x,r,P,b)}else g&&(r[`__${x}`]=void 0)}else if(_==="style"&&$!=null)r.style.cssText=$+"";else if(_==="autofocus")mc(r,!!$);else if(_==="__value"||_==="value"&&$!=null)r.value=r[_]=r.__value=$;else if(_==="selected"&&l)Oc(r,$);else{var p=_;a||(p=vc(p));var y=p==="defaultValue"||p==="defaultChecked";if($==null&&!s&&!y)if(d[_]=null,p==="value"||p==="checked"){let b=r;if(p==="value"){let k=b.defaultValue;b.removeAttribute(p),b.defaultValue=k}else{let k=b.defaultChecked;b.removeAttribute(p),b.defaultChecked=k}}else r.removeAttribute(_);else y||u.includes(p)&&(s||typeof $!="string")?r[p]=$:typeof $!="function"&&he(r,p,$)}_==="style"&&"__styles"in r&&(r.__styles={})}}}return o}var Fs=new Map;function co(r){var e=Fs.get(r.nodeName);if(e)return e;Fs.set(r.nodeName,e=[]);for(var t,n=r,a=Element.prototype;a!==n;){t=Pi(n);for(var s in t)t[s].set&&e.push(s);n=Za(n)}return e}function Se(r,e,t){var n=r.__className,a=jc(e);(n!==a||Ui)&&(e==null?r.removeAttribute("class"):r.className=a,r.__className=a)}function jc(r,e){return(r??"")+""}function Ut(r,e,t){if(t){if(r.classList.contains(e))return;r.classList.add(e)}else{if(!r.classList.contains(e))return;r.classList.remove(e)}}function ht(r,e,t,n){var a=r.__styles??(r.__styles={});a[e]!==t&&(a[e]=t,t==null?r.style.removeProperty(e):r.style.setProperty(e,t,""))}const Lc=()=>performance.now(),Ft={tick:r=>requestAnimationFrame(r),now:()=>Lc(),tasks:new Set};function uo(){const r=Ft.now();Ft.tasks.forEach(e=>{e.c(r)||(Ft.tasks.delete(e),e.f())}),Ft.tasks.size!==0&&Ft.tick(uo)}function Rc(r){let e;return Ft.tasks.size===0&&Ft.tick(uo),{promise:new Promise(t=>{Ft.tasks.add(e={c:r,f:t})}),abort(){Ft.tasks.delete(e)}}}function Pn(r,e){r.dispatchEvent(new CustomEvent(e))}function Nc(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function zs(r){const e={},t=r.split(";");for(const n of t){const[a,s]=n.split(":");if(!a||s===void 0)break;const i=Nc(a.trim());e[i]=s.trim()}return e}const Dc=r=>r;function Nr(r,e,t,n){var a=(r&Nl)!==0,s=(r&Dl)!==0,i=a&&s,o=(r&Ml)!==0,l=i?"both":a?"in":"out",c,u=e.inert,d=e.style.overflow,f,v;function g(){var b=Le,k=ke;Lt(null),pt(null);try{return c??(c=t()(e,(n==null?void 0:n())??{},{direction:l}))}finally{Lt(b),pt(k)}}var p={is_global:o,in(){var b;if(e.inert=u,!a){v==null||v.abort(),(b=v==null?void 0:v.reset)==null||b.call(v);return}s||f==null||f.abort(),Pn(e,"introstart"),f=La(e,g(),v,1,()=>{Pn(e,"introend"),f==null||f.abort(),f=c=void 0,e.style.overflow=d})},out(b){if(!s){b==null||b(),c=void 0;return}e.inert=!0,Pn(e,"outrostart"),v=La(e,g(),f,0,()=>{Pn(e,"outroend"),b==null||b()})},stop:()=>{f==null||f.abort(),v==null||v.abort()}},y=ke;if((y.transitions??(y.transitions=[])).push(p),a&&Wn){var _=o;if(!_){for(var $=y.parent;$&&($.f&mr)!==0;)for(;($=$.parent)&&($.f&ta)===0;);_=!$||($.f&Ai)!==0}_&&it(()=>{mt(()=>p.in())})}}function La(r,e,t,n,a){var s=n===1;if(Ar(e)){var i,o=!1;return wn(()=>{if(!o){var y=e({direction:s?"in":"out"});i=La(r,y,t,n,a)}}),{abort:()=>{o=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return a(),{abort:Ve,deactivate:Ve,reset:Ve,t:()=>n};const{delay:l=0,css:c,tick:u,easing:d=Dc}=e;var f=[];if(s&&t===void 0&&(u&&u(0,1),c)){var v=zs(c(0,1));f.push(v,v)}var g=()=>1-n,p=r.animate(f,{duration:l});return p.onfinish=()=>{var y=(t==null?void 0:t.t())??1-n;t==null||t.abort();var _=n-y,$=e.duration*Math.abs(_),b=[];if($>0){var k=!1;if(c)for(var x=Math.ceil($/16.666666666666668),P=0;P<=x;P+=1){var S=y+_*d(P/x),I=zs(c(S,1-S));b.push(I),k||(k=I.overflow==="hidden")}k&&(r.style.overflow="hidden"),g=()=>{var j=p.currentTime;return y+_*d(j/$)},u&&Rc(()=>{if(p.playState!=="running")return!1;var j=g();return u(j,1-j),!0})}p=r.animate(b,{duration:$,fill:"forwards"}),p.onfinish=()=>{g=()=>n,u==null||u(n,1-n),a()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=Ve)},deactivate:()=>{a=Ve},reset:()=>{n===0&&(u==null||u(1,0))},t:()=>g()}}function Be(r,e,t=e){var n=Vr();ls(r,"input",a=>{var s=a?r.defaultValue:r.value;if(s=ga(r)?pa(s):s,t(s),n&&s!==(s=e())){var i=r.selectionStart,o=r.selectionEnd;r.value=s??"",o!==null&&(r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length))}}),mt(e)==null&&r.value&&t(ga(r)?pa(r.value):r.value),_n(()=>{var a=e();ga(r)&&a===pa(r.value)||r.type==="date"&&!a&&!r.value||a!==r.value&&(r.value=a??"")})}function Mc(r,e,t=e){ls(r,"change",n=>{var a=n?r.defaultChecked:r.checked;t(a)}),mt(e)==null&&t(r.checked),_n(()=>{var n=e();r.checked=!!n})}function ga(r){var e=r.type;return e==="number"||e==="range"}function pa(r){return r===""?null:+r}function fo(r,e,t){if(r.multiple)return Fc(r,e);for(var n of r.options){var a=tn(n);if(Hl(a,e)){n.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function Bc(r,e){it(()=>{var t=new MutationObserver(()=>{var n=r.__value;fo(r,n)});return t.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function Uc(r,e,t=e){var n=!0;ls(r,"change",a=>{var s=a?"[selected]":":checked",i;if(r.multiple)i=[].map.call(r.querySelectorAll(s),tn);else{var o=r.querySelector(s)??r.querySelector("option:not([disabled])");i=o&&tn(o)}t(i)}),it(()=>{var a=e();if(fo(r,a,n),n&&a===void 0){var s=r.querySelector(":checked");s!==null&&(a=tn(s),t(a))}r.__value=a,n=!1}),Bc(r)}function Fc(r,e){for(var t of r.options)t.selected=~e.indexOf(tn(t))}function tn(r){return"__value"in r?r.__value:r.value}function qs(r,e){return r===e||(r==null?void 0:r[Ct])===e}function Wr(r={},e,t,n){return it(()=>{var a,s;return _n(()=>{a=s,s=[],mt(()=>{r!==t(...s)&&(e(r,...s),a&&qs(t(...a),r)&&e(null,...a))})}),()=>{wn(()=>{s&&qs(t(...s),r)&&e(null,...s)})}}),r}function oa(r){return function(...e){var t=e[0];return t.stopPropagation(),r==null?void 0:r.apply(this,e)}}function It(r){return function(...e){var t=e[0];return t.preventDefault(),r==null?void 0:r.apply(this,e)}}function We(r=!1){const e=Ee,t=e.l.u;if(!t)return;let n=()=>no(e.s);if(r){let a=0,s={};const i=be(()=>{let o=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],o=!0);return o&&a++,a});n=()=>h(i)}t.b.length&&Yl(()=>{Hs(e,n),Bn(t.b)}),gt(()=>{const a=mt(()=>t.m.map(vl));return()=>{for(const s of a)typeof s=="function"&&s()}}),t.a.length&&gt(()=>{Hs(e,n),Bn(t.a)})}function Hs(r,e){if(r.l.s)for(const t of r.l.s)h(t);e()}function zc(r){var e=Qe(0);return function(){return arguments.length===1?(C(e,h(e)+1),arguments[0]):(h(e),r())}}function ds(r,e){var s;var t=(s=r.$$events)==null?void 0:s[e.type],n=ea(t)?t.slice():t==null?[]:[t];for(var a of n)a.call(this,e)}function fs(r,e,t){if(r==null)return e(void 0),t&&t(void 0),Ve;const n=mt(()=>r.subscribe(e,t));return n.unsubscribe?()=>n.unsubscribe():n}const wr=[];function qc(r,e){return{subscribe:hs(r,e).subscribe}}function hs(r,e=Ve){let t=null;const n=new Set;function a(o){if(ra(r,o)&&(r=o,t)){const l=!wr.length;for(const c of n)c[1](),wr.push(c,r);if(l){for(let c=0;c<wr.length;c+=2)wr[c][0](wr[c+1]);wr.length=0}}}function s(o){a(o(r))}function i(o,l=Ve){const c=[o,l];return n.add(c),n.size===1&&(t=e(a,s)||Ve),o(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:a,update:s,subscribe:i}}function Hc(r,e,t){const n=!Array.isArray(r),a=n?[r]:r;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return qc(t,(i,o)=>{let l=!1;const c=[];let u=0,d=Ve;const f=()=>{if(u)return;d();const g=e(n?c[0]:c,i,o);s?i(g):d=typeof g=="function"?g:Ve},v=a.map((g,p)=>fs(g,y=>{c[p]=y,u&=~(1<<p),l&&f()},()=>{u|=1<<p}));return l=!0,f(),function(){Bn(v),d(),l=!1}})}function Jn(r){let e;return fs(r,t=>e=t)(),e}let Cn=!1,Ra=Symbol();function Vc(r,e,t){const n=t[e]??(t[e]={store:null,source:na(void 0),unsubscribe:Ve});if(n.store!==r&&!(Ra in t))if(n.unsubscribe(),n.store=r??null,r==null)n.source.v=void 0,n.unsubscribe=Ve;else{var a=!0;n.unsubscribe=fs(r,s=>{a?n.source.v=s:C(n.source,s)}),a=!1}return r&&Ra in t?Jn(r):h(n.source)}function Wc(){const r={};function e(){Wi(()=>{for(var t in r)r[t].unsubscribe();Ti(r,Ra,{enumerable:!1,value:!0})})}return[r,e]}function Gc(r){var e=Cn;try{return Cn=!1,[r(),Cn]}finally{Cn=e}}const Jc={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function kn(r,e,t){return new Proxy({props:r,exclude:e},Jc)}const Kc={get(r,e){if(!r.exclude.includes(e))return h(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,t){return e in r.special||(r.special[e]=q({get[e](){return r.props[e]}},e,Ri)),r.special[e](t),Ds(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),Ds(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function re(r,e){return new Proxy({props:r,exclude:e,special:{},version:Qe(0)},Kc)}const Yc={get(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(Ar(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n)return n[e]}},set(r,e,t){let n=r.props.length;for(;n--;){let a=r.props[n];Ar(a)&&(a=a());const s=rr(a,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let n=r.props[t];if(Ar(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n){const a=rr(n,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(r,e){if(e===Ct||e===Oi)return!1;for(let t of r.props)if(Ar(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props){Ar(t)&&(t=t());for(const n in t)e.includes(n)||e.push(n)}return e}};function ee(...r){return new Proxy({props:r},Yc)}function Vs(r){for(var e=ke,t=ke;e!==null&&(e.f&(Rt|Ur))===0;)e=e.parent;try{return pt(e),r()}finally{pt(t)}}function q(r,e,t,n){var S;var a=(t&Ol)!==0,s=!qr||(t&jl)!==0,i=(t&Ll)!==0,o=(t&Rl)!==0,l=!1,c;i?[c,l]=Gc(()=>r[e]):c=r[e];var u=Ct in r||Oi in r,d=i&&(((S=rr(r,e))==null?void 0:S.set)??(u&&e in r&&(I=>r[e]=I)))||void 0,f=n,v=!0,g=!1,p=()=>(g=!0,v&&(v=!1,o?f=mt(n):f=n),f);c===void 0&&n!==void 0&&(d&&s&&kl(),c=p(),d&&d(c));var y;if(s)y=()=>{var I=r[e];return I===void 0?p():(v=!0,g=!1,I)};else{var _=Vs(()=>(a?be:yn)(()=>r[e]));_.f|=gl,y=()=>{var I=h(_);return I!==void 0&&(f=void 0),I===void 0?f:I}}if((t&Ri)===0)return y;if(d){var $=r.$$legacy;return function(I,j){return arguments.length>0?((!s||!j||$||l)&&d(j?y():I),I):y()}}var b=!1,k=!1,x=na(c),P=Vs(()=>be(()=>{var I=y(),j=h(x);return b?(b=!1,k=!0,j):(k=!1,x.v=I)}));return a||(P.equals=es),function(I,j){if(arguments.length>0){const R=j?h(P):s&&i?K(I):I;return P.equals(R)||(b=!0,C(x,R),g&&f!==void 0&&(f=R),mt(()=>h(P))),I}return h(P)}}function Ge(r){Ee===null&&ns(),qr&&Ee.l!==null?Qc(Ee).m.push(r):gt(()=>{const e=mt(r);if(typeof e=="function")return e})}function ho(r){Ee===null&&ns(),Ge(()=>()=>mt(r))}function Qc(r){var e=r.l;return e.u??(e.u={a:[],b:[],m:[]})}const Xc="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xc);Cl();const ie={string:"string",number:"number",boolean:"boolean",null:"null",undefined:"undefined",regexp:"regexp",function:"function",object:"object",array:"array",promise:"promise",unknown:"unknown"},ma=r=>r===null?ie.null:r===void 0?ie.undefined:r instanceof RegExp?ie.regexp:typeof r=="string"?ie.string:typeof r=="number"?ie.number:typeof r=="boolean"?ie.boolean:Array.isArray(r)?ie.array:typeof r=="function"?ie.function:typeof r=="object"?ie.object:ie.unknown,qt=r=>{var e;if(typeof r=="string"){if(r.match(/^[\d.-]+$/))return Number.isNaN(Number.parseFloat(r))?Number.isNaN(Number.parseInt(r))?{identity:ie.string,value:r}:{identity:ie.number,value:Number.parseInt(r)}:{identity:ie.number,value:Number.parseFloat(r)};if(!r.includes(",")&&(r.includes("&")||r.includes("="))){const t=r.split(/[&,]/),n={};for(const a of t){if(!a.includes("="))continue;const[s,i]=a.split("="),o=s.replace(/\[\d*\]$/,""),l=qt(i);if(s.includes("[")){Array.isArray(n[o])||(n[o]=[]);const c=(e=s.match(/\[(\d+)\]/))==null?void 0:e[1];c?(Array.isArray(n[o])||(n[o]=[]),n[o].push([parseInt(c),l.value])):n[o].push(l.value)}else n[o]=l.value}for(const[a,s]of Object.entries(n))Array.isArray(s)&&s.length>0&&Array.isArray(s[0])&&(n[a]=s.sort((i,o)=>i[0]-o[0]).map(([,i])=>i));return{identity:ie.object,value:n}}else if(r.includes("&")&&r.includes("=")){const t={};for(const n of r.split("&")){if(!n.includes("="))continue;const[a,s]=n.split("=");t[a]=s}return{identity:ie.object,value:t}}else if(r.match(/^[0-9a-z]+\[\d+\]=.+$/)){const[,t,n]=r.match(/^[0-9a-z]+\[(\d+)\]=(.+)$/)||[];if(t!==void 0&&n!==void 0){const a=[],s=qt(n);return a[parseInt(t,10)]=s.value,{identity:ie.array,value:a}}}else if(r.match(/^[0-9a-z]+\[\]$/))return{identity:ie.array,value:r};return r.match(/^true$/i)?{identity:ie.boolean,value:!0}:r.match(/^false$/i)?{identity:ie.boolean,value:!1}:{identity:ie.string,value:r}}else{if(typeof r=="number")return{identity:ie.number,value:r};if(r instanceof RegExp)return{identity:ie.regexp,value:r};if(typeof r=="boolean")return{identity:ie.boolean,value:r};if(r===null)return{identity:ie.null,value:null};if(r===void 0)return{identity:ie.undefined,value:void 0};if(Array.isArray(r))return{identity:ie.array,value:r};if(typeof r=="object"){const t=Object.entries(r).reduce((n,[a,s])=>{var i;return n[a]=(i=qt(s))==null?void 0:i.value,n},{});return{identity:ie.object,value:t}}else{if(typeof r=="function")return{identity:ie.function,value:r};if(r instanceof Promise)return{identity:ie.promise,value:r}}}throw new Error(`unable to marshal value: ${r} (it is neither a string, number, boolean, nor a regular expression)`)},ba=["exact-match","base-match","default-match","permitted-no-conditions"];var cn;(function(r){r.any={[ie.string]:(e,t)=>e===t,[ie.number]:(e,t)=>e===t,[ie.boolean]:(e,t)=>e===t,[ie.promise]:(e,t)=>e===t,[ie.function]:(e,t)=>e===t,[ie.null]:(e,t)=>e===t,[ie.undefined]:(e,t)=>e===t,[ie.unknown]:(e,t)=>e===t,[ie.array]:(e,t)=>Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((n,a)=>r.any[ma(n)](n,t[a])),[ie.object]:(e,t)=>{if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(e),a=Object.keys(t);return n.length!==a.length?!1:n.every(s=>r.any[ma(e[s])](e[s],t[s]))},[ie.regexp]:(e,t)=>{const n=e.exec(t);return n?n.groups?qt(n.groups).value:n.length===1&&n[0]===n.input?!0:qt(n.slice(1)[0]).value:!1}},r.valid={[ie.string]:e=>e.length>0,[ie.boolean]:e=>e===!1,[ie.number]:e=>!isNaN(e),[ie.array]:e=>Array.isArray(e)&&e.length>0,[ie.object]:e=>{if(typeof e!="object"||e===null)return!0;const t=Object.keys(e);return t.length===0?!0:t.every(a=>{const s=e[a],i=ma(s);return r.valid[i](s)})},[ie.regexp]:e=>e instanceof RegExp,[ie.function]:e=>typeof e=="function",[ie.null]:()=>!1,[ie.undefined]:()=>!1}})(cn||(cn={}));const $t=(r,e)=>{const t=new URL(r,window.location.origin);e&&Object.entries(e).forEach(([n,a])=>{t.searchParams.set(n,a)}),window.history.pushState({},"",t.toString())};class Kn{constructor(e){ve(this,"params",{});ve(this,"original");if(typeof e=="string"&&(this.original=e),e){const t=qt(e);t.value&&(this.params=t.value)}}get(e,t){return this.params[e]||t}set(e,t){}delete(e){delete this.params[e]}clear(){this.params={}}goto(e){$t(e,this.params)}test(e){if(typeof e=="object"){const t={};for(const[n,a]of Object.entries(e.params))if(this.params[n]){const s=qt(this.params[n]);if(a instanceof RegExp){const i=cn.any[ie.regexp](a,this.params[n]);if(i)t[n]=i;else return{condition:"no-match"}}else s.identity===ie.number?s.value===this.params[n]&&(t[n]=s.value):s.identity===ie.string?t[n]=s.value===this.params[n]:s.identity===ie.boolean?t[n]=s.value===!!this.params[n]:s.identity===ie.array&&(t[n]=s.value.includes(this.params[n]))}else return{condition:"no-match"};return Object.keys(t).length===Object.keys(e).length&&cn.valid[ie.object](t)?{condition:"exact-match",matches:qt(t).value}:{condition:Object.keys(t).length>1&&Object.keys(e).length!==Object.keys(t).length?"exact-match":"no-match",matches:t}}}toString(){const e=t=>Array.isArray(t)?t.map(n=>e(n)).join(","):typeof t=="object"&&t!==null?Object.entries(t).map(([n,a])=>`${n}:${e(a)}`).join(","):encodeURIComponent(t);return Object.entries(this.params).map(([t,n])=>`${encodeURIComponent(t)}=${e(n)}`).join("&")}toJSON(e){return Object.fromEntries(Object.entries(this.params).map(([t,n])=>[t,n.toString()]))}}var Yn;(function(r){r.parse=e=>{if(e){const[t,n=""]=e.split("#"),[a,s=""]=n.split("?");return{path:a,query:new Kn(s),hash:n}}}})(Yn||(Yn={}));const Qn=r=>(r&&!r.startsWith("/")&&(r="/"+r),r);var Dr;(function(r){r.parse=e=>{if(e===void 0||e.length===0)throw new Error(`invalid URL: ${e}`);if(e.includes("://")){const[n,a]=e.split("://"),s=a.match(/^([^/:]+)(?::(\d+))?(.*)$/),[i,o,l]=(s==null?void 0:s.slice(1))??[],[c,u=""]=(l||"").split("?"),d=Yn.parse(e);return{protocol:n,host:i,port:o,path:Qn(c)||"/",query:new Kn(u),hash:d}}else{const[n,a=""]=e.split("?"),s=Yn.parse(e);return{protocol:window.location.protocol.replace(":",""),host:window.location.hostname,port:window.location.port,path:Qn(n)||"/",query:new Kn(a),hash:s}}},r.path=e=>e.split("?")[0]})(Dr||(Dr={}));const Ws=(r,e,t)=>{var a,s,i,o,l,c,u,d,f,v,g,p,y,_,$,b;const n=Dr.parse(location.toString());(r.path===n.path||r.path===n.hash.path||r.hash.path===n.path||!((a=e.active)!=null&&a.absolute)&&n.path.startsWith(r.path))&&((s=e.active)!=null&&s.querystring||((i=e.active)==null?void 0:i.querystring)===void 0)&&(r.query.original==""||r.query.original===location.search.replace("?","")||r.query.original===n.hash.query.original)?(Array.isArray((o=e.active)==null?void 0:o.class)?t.classList.add(...(l=e.active)==null?void 0:l.class):t.classList.add((c=e.active)==null?void 0:c.class),(u=e.default)!=null&&u.class&&t.classList.remove(...(d=e.default)==null?void 0:d.class)):Array.isArray((f=e.active)==null?void 0:f.class)?(t.classList.remove(...(v=e.active)==null?void 0:v.class),(g=e.default)!=null&&g.class&&t.classList.add(...(p=e.default)==null?void 0:p.class)):((y=e.active)!=null&&y.class&&t.classList.remove((_=e.active)==null?void 0:_.class),($=e.default)!=null&&$.class&&t.classList.add(...(b=e.default)==null?void 0:b.class))},Ye=(r,e={})=>{let t=Dr.parse(r.href);const n=()=>{Ws(t,e,r)},a=s=>{s.preventDefault(),window.history.pushState({},"",r.href),Ws(t,e,r)};return n(),r.addEventListener("click",a),window.addEventListener("pushState",n),{destroy(){r.removeEventListener("click",a),window.removeEventListener("pushState",n)}}};var _t;(function(r){r.config=e=>{var t,n,a;return{tracing:(e==null?void 0:e.tracing)||void 0||!1,logging:{level:((t=e==null?void 0:e.logging)==null?void 0:t.level)||void 0||4,console:((n=e==null?void 0:e.logging)==null?void 0:n.console)||void 0,sink:((a=e==null?void 0:e.logging)==null?void 0:a.sink)||void 0}}},r.current=r.config()})(_t||(_t={}));var un;(function(r){let e;(function(t){t[t.FATAL=-1]="FATAL",t[t.ERROR=1]="ERROR",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.TRACE=4]="TRACE",t[t.DISABLED=5]="DISABLED"})(e=r.LogLevel||(r.LogLevel={})),r.info=(...t)=>{r.log(e.INFO,...t)},r.debug=(...t)=>{r.log(e.DEBUG,...t)},r.error=(...t)=>{r.log(e.ERROR,...t)},r.trace=(...t)=>{r.log(e.TRACE,...t)},r.fatal=(...t)=>{throw r.log(e.FATAL,...t),new Error("Fatal error")},r.log=(t,...n)=>{t<=_t.current.logging.level&&t!==e.DISABLED&&(_t.current.logging.console&&(n.some(a=>a==null?void 0:a.toConsole)?n.forEach(a=>{var s;return(s=a==null?void 0:a.toConsole)==null?void 0:s.call(a,_t.current.logging.level)}):_t.current.logging.console&&console.log(...n)),_t.current.logging.sink&&_t.current.logging.sink(n))}})(un||(un={}));function Zc(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}const Gs=async r=>Zc(r)?await r():r();var ft,Lr,Dn;class vs extends Map{constructor(){super(...arguments);lr(this,Lr);lr(this,ft,ae(!1))}get size(){return h(ze(this,ft)),super.size}add(t,n){if(this.has(t))throw new Error(`key ${t} already exists`);return this.set(t,n)}get(t){return h(ze(this,ft)),super.get(t)}set(t,n){const a=super.set(t,n);return Tn(this,Lr,Dn).call(this),a}delete(t){const n=super.delete(t);return n&&Tn(this,Lr,Dn).call(this),n}clear(){const t=super.clear();return Tn(this,Lr,Dn).call(this),t}keys(){return h(ze(this,ft)),super.keys()}values(){return h(ze(this,ft)),super.values()}entries(){return h(ze(this,ft)),super.entries()}forEach(t){return h(ze(this,ft)),super.forEach(t)}[Symbol.iterator](){return h(ze(this,ft)),super[Symbol.iterator]()}}ft=new WeakMap,Lr=new WeakSet,Dn=function(){C(ze(this,ft),!h(ze(this,ft)))};var hn;class eu{constructor(e,t){ve(this,"prefix");ve(this,"id");ve(this,"date");ve(this,"name");ve(this,"description");ve(this,"metadata");lr(this,hn,ae(K(new vs)));this.prefix=t,this.name=e.name,this.id=e.id||Math.random().toString(36).substring(2,25),this.description=e.description,this.metadata=e.metadata,this.date=e.date||new Date}get traces(){return h(ze(this,hn))}set traces(e){C(ze(this,hn),K(e))}trace(e,t){const n=e.id||Math.random().toString(36).substring(2,25);return e=new tu(e,this.traces.size+1,this,t),this.traces.set(n,e),un.trace(t,e),e}get(){return this.traces.values()}}hn=new WeakMap;class tu{constructor(e,t,n,a){ve(this,"prefix");ve(this,"id");ve(this,"index");ve(this,"date");ve(this,"name");ve(this,"description");ve(this,"metadata");ve(this,"span");this.id=e.id||Math.random().toString(36).substring(2,25),this.index=t,this.date=e.date||new Date,this.name=e.name,this.description=e.description,this.metadata=e.metadata,this.span=n,this.prefix=e.prefix}toConsole(e){var n,a,s;const t=["%c%s %cspan:%c%s:%ctrace:%c%s%c:%c%s %c%s","color: #505050",(n=this.date)==null?void 0:n.toISOString(),"color: #7A7A7A","color: #915CF2; font-weight: bold",((a=this.span)==null?void 0:a.name)||this.id,"color: #7A7A7A; font-weight: bold","color: #C3F53B; font-weight: bold",this.index,"color: #7A7A7A; font-weight: bold","color: #3BAEF5; font-weight: bold",`${(s=this.metadata)!=null&&s.router?`[${this.metadata.router.id}] `:""}${this.name}`,"color: #06E96C",this.description];this.prefix&&(t[0]=`${this.prefix} %c%s %cspan:%c%s:%ctrace:%c%s%c:%c%s %c%s`),_t.current.tracing.level===un.LogLevel.TRACE?(t[0]+=`
%c%s`,t.push("color: #6B757F",`attached trace metadata:

${JSON.stringify({span:this.span.metadata,trace:this.metadata},null,2)}`)):_t.current.tracing.level===un.LogLevel.DEBUG&&(this.span&&t.push(this.span.metadata),this.metadata&&t.push(this.metadata)),console.log(...t)}}const ru=new vs,vo=(r,e)=>{if(_t.current.tracing){const t=new eu({name:r,metadata:e});return ru.set(r,t),t}};var Na;(function(r){r.base=(e,t)=>t.match(new RegExp(`^${e}(/|$)`))!==null})(Na||(Na={}));var Xn;(function(r){r.from=e=>{if(typeof e=="string")return new RegExp(e);if(e instanceof RegExp)return new RegExp(e.source);throw new Error("invalid regexp expression")},r.can=e=>/[[\]{}()*+?.,\\^$|#\s]|\\[wWdDsS]|\(\?[:!=<]?/.test(e)})(Xn||(Xn={}));class ya{constructor(e){ve(this,"router");ve(this,"route");ve(this,"result");this.router=e.router,this.route=e.route,this.result=e.result}absolute(e=this.router.config.basePath){return e?`${e}${this.result.path.original}`:this.result.path.original}toString(){return`${this.absolute()}${this.result.querystring.original?`?${this.result.querystring.original}`:""}`}}var vn;const Es=class Es{constructor(e){ve(this,"name");ve(this,"basePath");ve(this,"path");ve(this,"querystring");ve(this,"component");ve(this,"props");ve(this,"hooks");ve(this,"children");ve(this,"status");lr(this,vn,ae(K([])));var t;this.name=e.name,this.basePath=e.basePath,this.path=typeof e.path=="string"?Qn(e.path):e.path,e.querystring&&(this.querystring=new Kn(e.querystring)),this.component=e.component,this.props=e.props,this.hooks=e.hooks,this.status=e.status,this.children=(t=e.children)==null?void 0:t.map(n=>new Es(n))}get traces(){return h(ze(this,vn))}set traces(e){C(ze(this,vn),K(e))}test(e){const t=Dr.path(e.toString());if(typeof this.path=="string")if(Xn.can(this.path)){const n=Xn.from(this.path).exec(t);if(n)return{condition:"exact-match",params:n.groups}}else{if(this.path===t)return{condition:"exact-match",params:this.path};if(Na.base(this.path,t))return{condition:"base-match",params:{}}}else if(this.path instanceof RegExp){const n=cn.any[ie.regexp](this.path,t);if(n)return{condition:"exact-match",params:n}}else if(typeof this.path=="number"&&this.path===qt(t).value)throw new Error("numbered route match not supported at the route.path level");return{condition:"no-match",params:{}}}absolute(){return this.basePath?`${this.basePath}${this.path}`:this.path.toString()}};vn=new WeakMap;let Da=Es;class nu{constructor(e){ve(this,"id");ve(this,"basePath");ve(this,"routes");ve(this,"hooks");ve(this,"initialPath");ve(this,"notFoundComponent");ve(this,"children");ve(this,"statuses");ve(this,"renavigation");this.id=e.id||Math.random().toString(36).substring(2,15),this.basePath=e.basePath,this.hooks=e.hooks,this.initialPath=e.initialPath,this.notFoundComponent=e.notFoundComponent,this.statuses=e.statuses,this.routes=e.routes}}var Xt;(function(r){r[r.OK=200]="OK",r[r.PermanentRedirect=301]="PermanentRedirect",r[r.TemporaryRedirect=302]="TemporaryRedirect",r[r.BadRequest=400]="BadRequest",r[r.Unauthorized=401]="Unauthorized",r[r.Forbidden=403]="Forbidden",r[r.NotFound=404]="NotFound",r[r.InternalServerError=500]="InternalServerError"})(Xt||(Xt={}));var gn,pn;class au{constructor(e,t){ve(this,"id");ve(this,"routes",new Set);ve(this,"handlers");ve(this,"config");ve(this,"applyFn");lr(this,gn,ae(!1));lr(this,pn,ae());this.id=e.id||Math.random().toString(36).substring(2,15),this.config=e,this.applyFn=t,this.handlers={pushStateHandler:()=>this.handleStateChange(location.toString()),replaceStateHandler:()=>this.handleStateChange(location.toString()),popStateHandler:()=>this.handleStateChange(location.toString()),hashChangeHandler:()=>this.handleStateChange(location.toString())},window.addEventListener("pushState",this.handlers.pushStateHandler),window.addEventListener("replaceState",this.handlers.replaceStateHandler),window.addEventListener("popstate",this.handlers.popStateHandler),window.addEventListener("hashchange",this.handlers.hashChangeHandler);for(let n of e.routes)this.routes.add(new Da({...n,basePath:n.basePath||this.config.basePath}))}get navigating(){return h(ze(this,gn))}set navigating(e){C(ze(this,gn),K(e))}get current(){return h(ze(this,pn))}set current(e){C(ze(this,pn),K(e))}async handleStateChange(e,t){var i,o,l,c,u,d;const{path:n,query:a}=Dr.parse(e);this.navigating=!0,t||(t=vo("detected history change event")),t==null||t.trace({prefix:"",name:"router-instance.handleStateChange",description:`attempting to handle a new state change for path "${n}"`,metadata:{router:{id:this.config.id,basePath:this.config.basePath},location:"/src/lib/router-instance.svelte:handleStateChange()",basePath:this.config.basePath,path:n,query:a,url:e}});const s=await this.get(n,a,t);if(s&&ba.includes(s.result.path.condition)){if(t==null||t.trace({prefix:"",name:"router-instance.handleStateChange",description:`route found for path "${n}"`,metadata:{location:"/src/lib/router-instance.svelte:handleStateChange()",router:{id:this.config.id,basePath:this.config.basePath},path:n,query:(a==null?void 0:a.params)||!1,route:s,url:e}}),(i=this.config.hooks)!=null&&i.pre&&!await this.evaluateHooks(s,this.config.hooks.pre)){this.navigating=!1;return}if((l=(o=s.route)==null?void 0:o.hooks)!=null&&l.pre&&!await this.evaluateHooks(s,s.route.hooks.pre)){this.navigating=!1;return}if(this.applyFn(s,t),s&&((u=(c=s.route)==null?void 0:c.hooks)!=null&&u.post)&&!await this.evaluateHooks(s,s.route.hooks.post)){this.navigating=!1;return}(d=this.config.hooks)!=null&&d.post&&await this.evaluateHooks(s,this.config.hooks.post),this.current=s}this.navigating=!1}async evaluateHooks(e,t){if(Array.isArray(t))for(const n of t){if(!await Gs(()=>n(e)))return!1;await new Promise(a=>setTimeout(a,50))}else if(!await Gs(()=>t(e)))return!1;return!0}async get(e,t,n){var o;e=e.replace("/#","");const a=Qn(e.replace(this.config.basePath||"/","")),s=l=>{const c=Array.from(this.routes).find(u=>!u.path||u.path===""||u.path==="/");if(n==null||n.trace({prefix:c?"":"",name:"router-instance.getDefaultRoute",description:`get default route because "${l}"`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,route:c}}),c)return new ya({router:this,route:c,result:{path:{condition:"default-match",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},component:c.component,status:Xt.OK}})};if(n==null||n.trace({prefix:"",name:"router-instance.get",description:`${this.config.id} with base path "${this.config.basePath||"/"}" is attempting to get a route for path "${e}"`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a}}),this.config.basePath===e)return s("base path is the same as the path");let i;for(const l of this.routes){const c=l.test(a);if(c&&ba.includes(c.condition))if(n==null||n.trace({prefix:"",name:"router-instance.get:routesloop",description:`${c.condition} for inbound path "${e}"${l.name?` (named: "${l.name}")`:""}`,metadata:{location:"/src/lib/router-instance.svelte:get():forloop",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,route:l,evaluation:{path:c}}}),l.querystring&&t){const u=t.test(l.querystring);ba.includes(u==null?void 0:u.condition)&&(n==null||n.trace({prefix:"",name:"router-instance.get.evaluateQuery",description:`${u==null?void 0:u.condition} evaluating querystring "${t==null?void 0:t.toString()}" for the route "${e}"${l.name?` (named: "${l.name}")`:""}`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:e,query:t,normalized:a,evaluation:{path:c,querystring:u}}}),i=new ya({router:this,route:l,result:{path:{...c,original:a},querystring:{...u,original:t.toJSON()},component:l.component,status:Xt.OK}}))}else i=new ya({router:this,route:l,result:{path:{...c,original:a},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},component:l.component,status:Xt.OK}})}if(e==="/")return s("no routes match, last resort is to find a default route");if(!i&&((o=this.config.statuses)!=null&&o[404])){const l=this.config.statuses[404];return typeof l=="function"?{result:{...l({router:this,result:{path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Xt.NotFound}},n),path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Xt.NotFound},router:this}:{result:{...l,path:{condition:"permitted-no-conditions",original:e},querystring:{condition:"permitted-no-conditions",original:t==null?void 0:t.toJSON(),params:t==null?void 0:t.toJSON()},status:Xt.NotFound},router:this}}return i}deregister(e){window.removeEventListener("pushState",this.handlers.pushStateHandler),window.removeEventListener("replaceState",this.handlers.replaceStateHandler),window.removeEventListener("popstate",this.handlers.popStateHandler),window.removeEventListener("hashchange",this.handlers.hashChangeHandler),go.deregister(this.config.id,e)}}gn=new WeakMap,pn=new WeakMap;class su{constructor(){ve(this,"instances",new vs);if(window.__SVELTE_SPA_ROUTER_REGISTERED__)return window.__SVELTE_SPA_ROUTER_REGISTERED__;window.__SVELTE_SPA_ROUTER_REGISTERED__=this;const{pushState:e,replaceState:t}=window.history;window.history.pushState=function(...n){e.apply(window.history,n),window.dispatchEvent(new Event("pushState"))},window.history.replaceState=function(...n){t.apply(window.history,n),window.dispatchEvent(new Event("replaceState"))}}register(e,t,n){if(this.instances.has(e.id))throw new Error(`router instance with id ${e.id} already registered`);const a=new au(e,t);return n&&n.trace({prefix:"",name:"registry.register",description:"registering a new router instance",metadata:{router:{id:e.id,basePath:e.basePath},location:"/src/lib/registry.svelte:register()",config:e}}),this.instances.set(e.id,a),a}deregister(e,t){const n=this.instances.get(e);if(t&&t.trace({prefix:n?"":"",name:"registry.deregister",description:"deregistering a router instance",metadata:{router:{id:e,basePath:n.config.basePath},location:"/src/lib/registry.svelte:deregister()",config:n.config}}),n)this.instances.delete(e);else throw new Error(`router instance with id ${e} not found`)}get(e){return this.instances.get(e)}}const go=window.__SVELTE_SPA_ROUTER_REGISTRY__||new su;function iu(r,e){le(e,!0);let t=q(e,"instance",15),n=kn(e,["$$slots","$$events","$$legacy","instance"]);const a=vo(e.id?`[${e.id}]`:"router");let s=ae(null),i,o=ae(void 0);const l=async(d,f)=>{if(C(o,K(d)),f==null||f.trace({prefix:"",name:"apply",description:`<Router${i.config.id?` id="${i.config.id}"`:""}/> applying route ${d.result.path.original} (${d.result.path.condition})`,metadata:{location:"/src/lib/router.svelte:apply()",router:{id:i.config.id,basePath:i.config.basePath},result:d}}),typeof d.result.component=="function"&&d.result.component.constructor.name==="AsyncFunction"){const v=await d.result.component();C(s,K(v.default||v))}else C(s,K(d.result.component))};i=go.register(new nu(n),l,a),a==null||a.trace({prefix:"",name:"<Router/> Component",description:"new component mounted",metadata:{router:{id:i.config.id,basePath:i.config.basePath},location:"/src/lib/router.svelte:mount()"}}),t(i),a&&(a.metadata={router:i.config.id}),i.handleStateChange(location.toString(),a),ho(()=>{i.deregister(a)});var c=V(),u=N(c);Nt(u,()=>h(s),(d,f)=>{f(d,{get route(){return h(o)}})}),m(r,c),ce()}const ou="modulepreload",lu=function(r){return"/"+r},Js={},Mr=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let i=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=i(t.map(c=>{if(c=lu(c),c in Js)return;Js[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ou,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((v,g)=>{f.addEventListener("load",v),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},cu=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Mr(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class gs extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class uu extends gs{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class du extends gs{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fu extends gs{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ma;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Ma||(Ma={}));var hu=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class vu{constructor(e,{headers:t={},customFetch:n,region:a=Ma.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=cu(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return hu(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:i}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(o["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(o["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:c}).catch(g=>{throw new uu(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new du(u);if(!u.ok)throw new fu(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield u.json():f==="application/octet-stream"?v=yield u.blob():f==="text/event-stream"?v=u:f==="multipart/form-data"?v=yield u.formData():v=yield u.text(),{data:v,error:null}}catch(a){return{data:null,error:a}}})}}function po(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function gu(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var qe={},xr={},kr={},$r={},Sr={},Er={},pu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Br=pu();const mu=Br.fetch,mo=Br.fetch.bind(Br),bo=Br.Headers,bu=Br.Request,yu=Br.Response,Gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:bo,Request:bu,Response:yu,default:mo,fetch:mu},Symbol.toStringTag,{value:"Module"})),_u=gu(Gr);var An={},Ks;function yo(){if(Ks)return An;Ks=1,Object.defineProperty(An,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return An.default=r,An}var Ys;function _o(){if(Ys)return Er;Ys=1;var r=Er&&Er.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Er,"__esModule",{value:!0});const e=r(_u),t=r(yo());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=Object.assign({},this.headers),this.headers[s]=i,this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f;let v=null,g=null,p=null,y=c.status,_=c.statusText;if(c.ok){if(this.method!=="HEAD"){const x=await c.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=x:g=JSON.parse(x))}const b=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),k=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");b&&k&&k.length>1&&(p=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(v={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,y=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const b=await c.text();try{v=JSON.parse(b),Array.isArray(v)&&c.status===404&&(g=[],v=null,y=200,_="OK")}catch{c.status===404&&b===""?(y=204,_="No Content"):v={message:b}}if(v&&this.isMaybeSingle&&(!((f=v==null?void 0:v.details)===null||f===void 0)&&f.includes("0 rows"))&&(v=null,y=200,_="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:g,count:p,status:y,statusText:_}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Er.default=n,Er}var Qs;function wo(){if(Qs)return Sr;Qs=1;var r=Sr&&Sr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sr,"__esModule",{value:!0});const e=r(_o());class t extends e.default{select(a){let s=!1;const i=(a??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(c,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const d=[a?"analyze":null,s?"verbose":null,i?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`,c==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Sr.default=t,Sr}var Xs;function ps(){if(Xs)return $r;Xs=1;var r=$r&&$r.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($r,"__esModule",{value:!0});const e=r(wo());class t extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const i=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:i,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${l}fts${c}.${s}`),this}match(a){return Object.entries(a).forEach(([s,i])=>{this.url.searchParams.append(s,`eq.${i}`)}),this}not(a,s,i){return this.url.searchParams.append(a,`not.${s}.${i}`),this}or(a,{foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,s,i){return this.url.searchParams.append(a,`${s}.${i}`),this}}return $r.default=t,$r}var Zs;function xo(){if(Zs)return kr;Zs=1;var r=kr&&kr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(kr,"__esModule",{value:!0});const e=r(ps());class t{constructor(a,{headers:s={},schema:i,fetch:o}){this.url=a,this.headers=s,this.schema=i,this.fetch=o}select(a,{head:s=!1,count:i}={}){const o=s?"HEAD":"GET";let l=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),i&&(this.headers.Prefer=`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:s,defaultToNull:i=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(a)){const c=a.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:o,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${i?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(a)){const d=a.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(d.length>0){const f=[...new Set(d)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:s}={}){const i="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const s="DELETE",i=[];return a&&i.push(`count=${a}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return kr.default=t,kr}var Jr={},Kr={},ei;function wu(){return ei||(ei=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.version=void 0,Kr.version="0.0.0-automated"),Kr}var ti;function xu(){if(ti)return Jr;ti=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.DEFAULT_HEADERS=void 0;const r=wu();return Jr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Jr}var ri;function ku(){if(ri)return xr;ri=1;var r=xr&&xr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(xr,"__esModule",{value:!0});const e=r(xo()),t=r(ps()),n=xu();class a{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${i}`);let v;l||c?(d=l?"HEAD":"GET",Object.entries(o).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{f.searchParams.append(p,y)})):(d="POST",v=o);const g=Object.assign({},this.headers);return u&&(g.Prefer=`count=${u}`),new t.default({method:d,url:f,headers:g,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return xr.default=a,xr}var ni;function $u(){if(ni)return qe;ni=1;var r=qe&&qe.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(qe,"__esModule",{value:!0}),qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const e=r(ku());qe.PostgrestClient=e.default;const t=r(xo());qe.PostgrestQueryBuilder=t.default;const n=r(ps());qe.PostgrestFilterBuilder=n.default;const a=r(wo());qe.PostgrestTransformBuilder=a.default;const s=r(_o());qe.PostgrestBuilder=s.default;const i=r(yo());return qe.PostgrestError=i.default,qe.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:i.default},qe}var Su=$u();const Eu=po(Su),{PostgrestClient:Tu,PostgrestQueryBuilder:H0,PostgrestFilterBuilder:V0,PostgrestTransformBuilder:W0,PostgrestBuilder:G0,PostgrestError:J0}=Eu,Pu="2.11.2",Cu={"X-Client-Info":`realtime-js/${Pu}`},Au="1.0.0",ko=1e4,Iu=1e3;var jr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(jr||(jr={}));var ct;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ct||(ct={}));var yt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(yt||(yt={}));var Ba;(function(r){r.websocket="websocket"})(Ba||(Ba={}));var dr;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(dr||(dr={}));class Ou{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const a=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+a));i=i+a;const l=n.decode(e.slice(i,i+s));i=i+s;const c=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class $o{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Oe||(Oe={}));const ai=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,i)=>(s[i]=ju(i,r,e,a),s),{})},ju=(r,e,t,n)=>{const a=e.find(o=>o.name===r),s=a==null?void 0:a.type,i=t[r];return s&&!n.includes(s)?So(s,i):Ua(i)},So=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Du(e,t)}switch(r){case Oe.bool:return Lu(e);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return Ru(e);case Oe.json:case Oe.jsonb:return Nu(e);case Oe.timestamp:return Mu(e);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Ua(e);default:return Ua(e)}},Ua=r=>r,Lu=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Ru=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Nu=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Du=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let s;const i=r.slice(1,t);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>So(e,o))}return r},Mu=r=>typeof r=="string"?r.replace(" ","T"):r,Eo=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class _a{constructor(e,t,n={},a=ko){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var si;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(si||(si={}));class rn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rn.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=rn.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=rn.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const s=this.cloneDeep(e),i=this.transformState(t),o={},l={};return this.map(s,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const d=s[c];if(d){const f=u.map(y=>y.presence_ref),v=d.map(y=>y.presence_ref),g=u.filter(y=>v.indexOf(y.presence_ref)<0),p=d.filter(y=>f.indexOf(y.presence_ref)<0);g.length>0&&(o[c]=g),p.length>0&&(l[c]=p)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},n,a)}static syncDiff(e,t,n,a){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(v=>v.presence_ref),f=u.filter(v=>d.indexOf(v.presence_ref)<0);e[o].unshift(...f)}n(o,u,l)}),this.map(i,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,a(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ii;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(ii||(ii={}));var oi;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(oi||(oi={}));var Mt;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));class ms{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new _a(this,yt.join,this.params,this.timeout),this.rejoinTimer=new $o(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yt.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new rn(this),this.broadcastEndpointURL=Eo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Mt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Mt.CLOSED));const l={},c={broadcast:s,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Mt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,g=[];for(let p=0;p<v;p++){const y=f[p],{filter:{event:_,schema:$,table:b,filter:k}}=y,x=u&&u[p];if(x&&x.event===_&&x.schema===$&&x.table===b&&x.filter===k)g.push(Object.assign(Object.assign({},y),{id:x.id}));else{this.unsubscribe(),e==null||e(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Mt.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ct.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new _a(this,yt.leave,{},e);a.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(s),i}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new _a(this,e,t,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,s;const i=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=yt;if(n&&[o,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,t,n);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var g,p,y;return((g=v.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(p=v.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(v=>v.callback(f,n)):(s=this.bindings[i])===null||s===void 0||s.filter(v=>{var g,p,y,_,$,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const k=v.id,x=(g=v.filter)===null||g===void 0?void 0:g.event;return k&&((p=t.ids)===null||p===void 0?void 0:p.includes(k))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((y=t.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=($=(_=v==null?void 0:v.filter)===null||_===void 0?void 0:_.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return k==="*"||k===((b=t==null?void 0:t.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:p,table:y,commit_timestamp:_,type:$,errors:b}=g;f=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:_,eventType:$,new:{},old:{},errors:b}),this._getPayloadRecords(g))}v.callback(f,n)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),s={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ms.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yt.close,{},e)}_onError(e){this._on(yt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ai(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ai(e.columns,e.old_record)),t}}const Bu=()=>{},Uu=typeof WebSocket<"u",Fu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zu{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Cu,this.params={},this.timeout=ko,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Bu,this.conn=null,this.sendBuffer=[],this.serializer=new Ou,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Mr(async()=>{const{default:l}=await Promise.resolve().then(()=>Gr);return{default:l}},void 0).then(({default:l})=>l(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${e}/${Ba.websocket}`,this.httpEndpoint=Eo(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,i)=>i(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $o(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Uu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Mr(async()=>{const{default:e}=await import("./browser-CW_kYso0.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Au}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case jr.connecting:return dr.Connecting;case jr.open:return dr.Open;case jr.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}channel(e,t={config:{}}){const n=new ms(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:a,ref:s}=e,i=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(a=>{t&&a.updateJoinPayload({access_token:t}),a.joinedOnce&&a._isJoined()&&a._push(yt.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Iu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:a,payload:s,ref:i}=t;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,s),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,s,i)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(yt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Fu],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class qu{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=jr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class bs extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function He(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Hu extends bs{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fa extends bs{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Vu=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const To=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Mr(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Wu=()=>Vu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mr(()=>Promise.resolve().then(()=>Gr),void 0)).Response:Response}),za=r=>{if(Array.isArray(r))return r.map(t=>za(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=za(n)}),e};var br=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const wa=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Gu=(r,e,t)=>br(void 0,void 0,void 0,function*(){const n=yield Wu();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(a=>{e(new Hu(wa(a),r.status||500))}).catch(a=>{e(new Fa(wa(a),a))}):e(new Fa(wa(r),r))}),Ju=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),t))};function $n(r,e,t,n,a,s){return br(this,void 0,void 0,function*(){return new Promise((i,o)=>{r(t,Ju(e,n,a,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Gu(l,o,n))})})}function Zn(r,e,t,n){return br(this,void 0,void 0,function*(){return $n(r,"GET",e,t,n)})}function Zt(r,e,t,n,a){return br(this,void 0,void 0,function*(){return $n(r,"POST",e,n,a,t)})}function Ku(r,e,t,n,a){return br(this,void 0,void 0,function*(){return $n(r,"PUT",e,n,a,t)})}function Yu(r,e,t,n){return br(this,void 0,void 0,function*(){return $n(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function Po(r,e,t,n,a){return br(this,void 0,void 0,function*(){return $n(r,"DELETE",e,n,a,t)})}var nt=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Qu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},li={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xu{constructor(e,t={},n,a){this.url=e,this.headers=t,this.bucketId=n,this.fetch=To(a)}uploadOrUpdate(e,t,n,a){return nt(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},li),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(He(s))return{data:null,error:s};throw s}})}upload(e,t,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return nt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:li.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(He(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return nt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=yield Zt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new bs("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}update(e,t,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return nt(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(He(a))return{data:null,error:a};throw a}})}copy(e,t,n){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(He(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return nt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield Zt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(He(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return nt(this,void 0,void 0,function*(){try{const a=yield Zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(He(a))return{data:null,error:a};throw a}})}download(e,t){return nt(this,void 0,void 0,function*(){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Zn(this.fetch,`${this.url}/${a}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(He(o))return{data:null,error:o};throw o}})}info(e){return nt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Zn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:za(n),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}exists(e){return nt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Yu(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(He(n)&&n instanceof Fa){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&a.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(He(t))return{data:null,error:t};throw t}})}list(e,t,n){return nt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Qu),t),{prefix:e||""});return{data:yield Zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(He(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Zu="2.7.1",ed={"X-Client-Info":`storage-js/${Zu}`};var Tr=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class td{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},ed),t),this.fetch=To(n)}listBuckets(){return Tr(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(He(e))return{data:null,error:e};throw e}})}getBucket(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(He(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Tr(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Tr(this,void 0,void 0,function*(){try{return{data:yield Ku(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(He(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(He(t))return{data:null,error:t};throw t}})}}class rd extends td{constructor(e,t={},n){super(e,t,n)}from(e){return new Xu(this.url,this.headers,e,this.fetch)}}const nd="2.49.8";let Zr="";typeof Deno<"u"?Zr="deno":typeof document<"u"?Zr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zr="react-native":Zr="node";const ad={"X-Client-Info":`supabase-js-${Zr}/${nd}`},sd={headers:ad},id={schema:"public"},od={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ld={};var cd=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const ud=r=>{let e;return r?e=r:typeof fetch>"u"?e=mo:e=fetch,(...t)=>e(...t)},dd=()=>typeof Headers>"u"?bo:Headers,fd=(r,e,t)=>{const n=ud(t),a=dd();return(s,i)=>cd(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let c=new a(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},i),{headers:c}))})};var hd=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};function vd(r){return r.endsWith("/")?r:r+"/"}function gd(r,e){var t,n;const{db:a,auth:s,realtime:i,global:o}=r,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(t=d==null?void 0:d.headers)!==null&&t!==void 0?t:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>hd(this,void 0,void 0,function*(){return""})};return r.accessToken?f.accessToken=r.accessToken:delete f.accessToken,f}const Co="2.69.1",Ir=30*1e3,qa=3,xa=qa*Ir,pd="http://localhost:9999",md="supabase.auth.token",bd={"X-Client-Info":`gotrue-js/${Co}`},Ha="X-Supabase-Api-Version",Ao={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yd=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_d=6e5;class ys extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function pe(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class wd extends ys{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function xd(r){return pe(r)&&r.name==="AuthApiError"}class Io extends ys{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class sr extends ys{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class Kt extends sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kd(r){return pe(r)&&r.name==="AuthSessionMissingError"}class ka extends sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class In extends sr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class On extends sr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $d(r){return pe(r)&&r.name==="AuthImplicitGrantRedirectError"}class ci extends sr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Va extends sr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function $a(r){return pe(r)&&r.name==="AuthRetryableFetchError"}class ui extends sr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class nn extends sr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fi=` 	
\r=`.split(""),Sd=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<fi.length;e+=1)r[fi[e].charCodeAt(0)]=-2;for(let e=0;e<di.length;e+=1)r[di[e].charCodeAt(0)]=e;return r})();function Oo(r,e,t){const n=Sd[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function hi(r){const e=[],t=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{Pd(i,n,t)};for(let i=0;i<r.length;i+=1)Oo(r.charCodeAt(i),a,s);return e.join("")}function Ed(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Td(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}Ed(n,e)}}function Pd(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Cd(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)Oo(r.charCodeAt(a),t,n);return new Uint8Array(e)}function Ad(r){const e=[];return Td(r,t=>e.push(t)),new Uint8Array(e)}function Id(r){return Math.round(Date.now()/1e3)+r}function Od(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const St=()=>typeof window<"u"&&typeof document<"u",cr={tested:!1,writable:!1},an=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cr.tested)return cr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),cr.tested=!0,cr.writable=!0}catch{cr.tested=!0,cr.writable=!1}return cr.writable};function jd(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const jo=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Mr(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Ld=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Lo=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},jn=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ln=async(r,e)=>{await r.removeItem(e)};class la{constructor(){this.promise=new la.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}la.promiseConstructor=Promise;function Sa(r){const e=r.split(".");if(e.length!==3)throw new nn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!yd.test(e[n]))throw new nn("JWT not in base64url format");return{header:JSON.parse(hi(e[0])),payload:JSON.parse(hi(e[1])),signature:Cd(e[2]),raw:{header:e[0],payload:e[1]}}}async function Rd(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Nd(r,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await r(s);if(!e(s,null,i)){n(i);return}}catch(i){if(!e(s,i)){a(i);return}}})()})}function Dd(r){return("0"+r.toString(16)).substr(-2)}function Md(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let s=0;s<56;s++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,Dd).join("")}async function Bd(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Ud(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Bd(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(r,e,t=!1){const n=Md();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await Lo(r,`${e}-code-verifier`,a);const s=await Ud(n);return[s,n===s?"plain":"s256"]}const Fd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zd(r){const e=r.headers.get(Ha);if(!e||!e.match(Fd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qd(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Hd(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Vd=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const ur=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Wd=[502,503,504];async function vi(r){var e;if(!Ld(r))throw new Va(ur(r),0);if(Wd.includes(r.status))throw new Va(ur(r),r.status);let t;try{t=await r.json()}catch(s){throw new Io(ur(s),s)}let n;const a=zd(r);if(a&&a.getTime()>=Ao["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new ui(ur(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Kt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new ui(ur(t),r.status,t.weak_password.reasons);throw new wd(ur(t),r.status||500,n)}const Gd=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function we(r,e,t,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[Ha]||(s[Ha]=Ao["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Jd(r,e,t+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Jd(r,e,t,n,a,s){const i=Gd(e,n,a,s);let o;try{o=await r(t,Object.assign({},i))}catch(l){throw console.error(l),new Va(ur(l),0)}if(o.ok||await vi(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await vi(l)}}function Yt(r){var e;let t=null;Xd(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Id(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function gi(r){const e=Yt(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function er(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Kd(r){return{data:r,error:null}}function Yd(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:s}=r,i=Vd(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function Qd(r){return r}function Xd(r){return r.access_token&&r.refresh_token&&r.expires_in}var Zd=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};class ef{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=jo(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:er})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Zd(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Yd,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:er})}catch(t){if(pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Qd});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=p}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(pe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:er})}catch(t){if(pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:er})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:er})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}}const tf={getItem:r=>an()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{an()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{an()&&globalThis.localStorage.removeItem(r)}};function pi(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function rf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cr={debug:!!(globalThis&&an()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ro extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nf extends Ro{}async function af(r,e,t){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new nf(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Cr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}rf();const sf={url:pd,storageKey:md,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mi(r,e,t){return await t()}class dn{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dn.nextInstanceID,dn.nextInstanceID+=1,this.instanceID>0&&St()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},sf),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new ef({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=jo(a.fetch),this.lock=a.lock||mi,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:St()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=af:this.lock=mi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:an()?this.storage=tf:(this.memoryStorage={},this.storage=pi(this.memoryStorage)):(this.memoryStorage={},this.storage=pi(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Co}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=jd(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),St()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),$d(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return pe(t)?{error:t}:{error:new Io("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const s=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Yt}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,a;try{let s;if("email"in e){const{email:u,password:d,options:f}=e;let v=null,g=null;this.flowType==="pkce"&&([v,g]=await Pr(this.storage,this.storageKey)),s=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:g},xform:Yt})}else if("phone"in e){const{phone:u,password:d,options:f}=e;s=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Yt})}else throw new In("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:i,options:o}=e;t=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gi})}else if("phone"in e){const{phone:s,password:i,options:o}=e;t=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gi})}else throw new In("You must provide either an email or phone number and a password");const{data:n,error:a}=t;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ka}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await jn(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{const{data:s,error:i}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Yt});if(await Ln(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ka}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(pe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:s,nonce:i}=e,o=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Yt}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ka}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,a,s,i;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Pr(this.storage,this.storageKey));const{error:d}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new In("You must provide either an email or phone number.")}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let a,s;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Yt});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Pr(this.storage,this.storageKey)),await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:Kd})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Kt;const{error:a}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:i}=await we(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:i,error:o}=await we(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new In("You must provide either an email or phone number and a type")}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await jn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<xa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:er}):await this._useSession(async t=>{var n,a,s;const{data:i,error:o}=t;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:er})})}catch(t){if(pe(t))return kd(t)&&(await this._removeSession(),await Ln(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Kt;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Pr(this.storage,this.storageKey));const{data:c,error:u}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:er});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Kt;const t=Date.now()/1e3;let n=t,a=!0,s=null;const{payload:i}=Sa(e.access_token);if(i.exp&&(n=i.exp,a=n<=t),a){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(pe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:i,error:o}=t;if(o)throw o;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Kt;const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!St())throw new On("No browser detected.");if(e.error||e.error_description||e.error_code)throw new On(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new ci("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new On("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ci("No code detected.");const{data:$,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!i||!c)throw new On("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let f=u+d;l&&(f=parseInt(l));const v=f-u;v*1e3<=Ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:p,error:y}=await this._getUser(s);if(y)throw y;const _={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:d,expires_at:f,refresh_token:i,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await jn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:s}=t;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,e);if(o&&!(xd(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ln(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Od(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:s},error:i}=t;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Pr(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,l,c,u;const{data:d,error:f}=s;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return St()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(pe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:s,error:i}=t;if(i)throw i;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Nd(async a=>(a>0&&await Rd(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Yt})),(a,s)=>{const i=200*Math.pow(2,a);return s&&$a(s)&&Date.now()+i-n<Ir})}catch(n){if(this._debug(t,"error",n),pe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),St()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await jn(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<xa;if(this._debug(t,`session has${a?"":" not"} expired with margin of ${xa}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),$a(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new la;const{data:s,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!s.session)throw new Kt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),pe(s)){const i={session:null,error:s};return $a(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Lo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ln(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ir);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ir}ms, refresh threshold is ${qa} ticks`),a<=qa&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ro)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Pr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;return s?{data:null,error:s}:await we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:s,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await we(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:o}=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(pe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;return s?{data:null,error:s}:await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(pe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Sa(a.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(i=>i.kid===e);if(n||(n=this.jwks.keys.find(i=>i.kid===e),n&&this.jwks_cached_at+_d>Date.now()))return n;const{data:a,error:s}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new nn("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(i=>i.kid===e),!n)throw new nn("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:v,error:g}=await this.getSession();if(g||!v.session)return{data:null,error:g};n=v.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:l}}=Sa(n);if(qd(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:a,signature:i},error:null}}const c=Hd(a.alg),u=await this.fetchJwk(a.kid,t),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,i,Ad(`${o}.${l}`)))throw new nn("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}dn.nextInstanceID=0;const of=dn;class lf extends of{constructor(e){super(e)}}var cf=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class uf{constructor(e,t,n){var a,s,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=vd(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:id,realtime:ld,auth:Object.assign(Object.assign({},od),{storageKey:c}),global:sd},d=gd(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=fd(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Tu(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new vu(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rd(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return cf(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,storageKey:s,flowType:i,lock:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lf({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,flowType:i,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new zu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const df=(r,e,t)=>new uf(r,e,t),ff="https://lbwtzoxtlssyjeututrs.supabase.co",hf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxid3R6b3h0bHNzeWpldXR1dHJzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4OTg2OTksImV4cCI6MjA3MDQ3NDY5OX0.GdbcTzNRo5dcuBSCr9_e_HWiXXBJWNm_IYkdwxfbDgI",xe=df(ff,hf),ot=(()=>{const r=K({user:null,loading:!1,error:null,message:null}),e=i=>{r.error=(i==null?void 0:i.message)||String(i)||"Unknown error"};return xe.auth.onAuthStateChange((i,o)=>{r.user=(o==null?void 0:o.user)||null}),{state:r,getUser:async()=>{var i;r.loading=!0,r.error=null;try{const{data:o,error:l}=await xe.auth.getSession();if(l)throw l;return r.user=((i=o==null?void 0:o.session)==null?void 0:i.user)||null,r.user}catch(o){return e(o),r.user=null,null}finally{r.loading=!1}},createUser:async(i,o)=>{r.loading=!0,r.error=null;try{const{data:l,error:c}=await xe.auth.signUp({email:i,password:o,options:{data:{isPaid:!1}}});if(c)throw c;return r.user=null,r.message=l!=null&&l.session?"Account created successfully!":"Signup successful! Please check your email to confirm your account.",!0}catch(l){return e(l),!1}finally{r.loading=!1}},loginWithEmail:async(i,o)=>{var l;r.loading=!0,r.error=null;try{const{data:c,error:u}=await xe.auth.signInWithPassword({email:i,password:o});if(u)throw u;return r.user=(c==null?void 0:c.user)||((l=c==null?void 0:c.session)==null?void 0:l.user)||null,r.message="Login successful!",!0}catch(c){return e(c),!1}finally{r.loading=!1}},logout:async()=>{r.loading=!0,r.error=null;try{const{error:i}=await xe.auth.signOut();if(i)throw i;return r.user=null,r.message="Logged out successfully.",!0}catch(i){return e(i),!1}finally{r.loading=!1}},supabase:xe}})();function vf(r,e,t,n){var a,s,i=!1,o=t.length>=2,l=(g,p,y)=>{if(a=p,o&&(s=g),!i){let _=e(g,p,y);if(e.length<2)p(_);else return _}i=!1},c=Hc(r,l,n),u=!Array.isArray(r);function d(g){var p=t(g,s);u?(i=!0,r.set(p)):p.forEach((y,_)=>{i=!0,r[_].set(y)}),i=!1}var f=!1;function v(g){var p,y,_,$;if(f){$=g(Jn(c)),a($);return}var b=c.subscribe(k=>{f?p?y=!0:p=!0:_=k});$=g(_),f=!0,a($),b(),f=!1,y&&($=Jn(c)),p&&d($)}return{subscribe:c.subscribe,set(g){v(()=>g)},update:v}}const gf=20,yr=hs([]),_s=hs(null),Mn=new Map,bi=r=>{if(Mn.has(r))return;const e=setTimeout(()=>{Mn.delete(r),Do(r)},1e3);Mn.set(r,e)},pf=r=>{const e=Mn.get(r);e&&clearTimeout(e)};function No(r,e=!0){e&&r.id&&pf(r.id),yr.update(t=>t.map(n=>n.id===r.id?{...n,...r}:n))}function mf(r){yr.update(e=>[r,...e].slice(0,gf))}function bf(r){Jn(yr).find(e=>e.id===r.id)?No(r):mf(r)}function yf(r){yr.update(e=>(r?bi(r):e.forEach(t=>{bi(t.id)}),e.map(t=>t.id===r||r===void 0?{...t,visible:!1}:t)))}function Do(r){yr.update(e=>r===void 0?[]:e.filter(t=>t.id!==r))}function _f(r){_s.set(r)}function wf(r){let e;_s.update(t=>(e=r-(t||0),null)),yr.update(t=>t.map(n=>({...n,pauseDuration:n.pauseDuration+e})))}const xf={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function kf(r={}){return{toasts:vf(yr,t=>t.map(n=>{var a,s;return{...r,...r[n.type],...n,duration:n.duration||((a=r[n.type])==null?void 0:a.duration)||(r==null?void 0:r.duration)||xf[n.type],style:[r.style,(s=r[n.type])==null?void 0:s.style,n.style].join(";")}}),t=>t),pausedAt:_s}}const $f=r=>typeof r=="function",yi=(r,e)=>$f(r)?r(e):r,Sf=(()=>{let r=0;return()=>(r+=1,r.toString())})(),Mo=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){const e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),Ef=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,type:e,message:r,pauseDuration:0,icon:t==null?void 0:t.icon,duration:t==null?void 0:t.duration,iconTheme:t==null?void 0:t.iconTheme,position:t==null?void 0:t.position,props:t==null?void 0:t.props,id:(t==null?void 0:t.id)||Sf()}),Sn=r=>(e,t)=>{const n=Ef(e,r,t);return bf(n),n.id},st=(r,e)=>Sn("blank")(r,e);st.error=Sn("error");st.success=Sn("success");st.loading=Sn("loading");st.custom=Sn("custom");st.dismiss=r=>{yf(r)};st.remove=r=>Do(r);st.promise=(r,e,t)=>{const n=st.loading(e.loading,{...t,...t==null?void 0:t.loading});return r.then(a=>(st.success(yi(e.success,a),{id:n,...t,...t==null?void 0:t.success}),a)).catch(a=>{st.error(yi(e.error,a),{id:n,...t,...t==null?void 0:t.error})}),r};function Tf(r,e,t){const{reverseOrder:n,gutter:a=8,defaultPosition:s}=t||{},i=e.filter(u=>(u.position||s)===(r.position||s)&&u.height),o=i.findIndex(u=>u.id===r.id),l=i.filter((u,d)=>d<o&&u.visible).length;return i.filter(u=>u.visible).slice(...n?[l+1]:[0,l]).reduce((u,d)=>u+(d.height||0)+a,0)}const Pf={startPause(){_f(Date.now())},endPause(){wf(Date.now())},updateHeight:(r,e)=>{No({id:r,height:e},!1)},calculateOffset:Tf};function Cf(r){const{toasts:e,pausedAt:t}=kf(r),n=new Map;let a;const s=[t.subscribe(i=>{if(i){for(const[,o]of n)clearTimeout(o);n.clear()}a=i}),e.subscribe(i=>{if(a)return;const o=Date.now();for(const l of i){if(n.has(l.id)||l.duration===1/0)continue;const c=(l.duration||0)+l.pauseDuration-(o-l.createdAt);if(c<0)return l.visible&&st.dismiss(l.id),null;n.set(l.id,setTimeout(()=>st.dismiss(l.id),c))}})];return ho(()=>{for(const i of s)i()}),{toasts:e,handlers:Pf}}var Af=A('<div class="svelte-11kvm4p"></div>');function If(r,e){let t=q(e,"primary",3,"#61d345"),n=q(e,"secondary",3,"#fff");var a=Af();G(()=>{ht(a,"--primary",t()),ht(a,"--secondary",n())}),m(r,a)}var Of=A('<div class="svelte-1ee93ns"></div>');function jf(r,e){let t=q(e,"primary",3,"#ff4b4b"),n=q(e,"secondary",3,"#fff");var a=Of();G(()=>{ht(a,"--primary",t()),ht(a,"--secondary",n())}),m(r,a)}var Lf=A('<div class="svelte-1j7dflg"></div>');function Rf(r,e){let t=q(e,"primary",3,"#616161"),n=q(e,"secondary",3,"#e0e0e0");var a=Lf();G(()=>{ht(a,"--primary",t()),ht(a,"--secondary",n())}),m(r,a)}var Nf=A('<div class="animated svelte-1kgeier"> </div>'),Df=A('<div class="status svelte-1kgeier"><!></div>'),Mf=A('<div class="indicator svelte-1kgeier"><!> <!></div>');function Bo(r,e){le(e,!0);let t=be(()=>e.toast.type),n=be(()=>e.toast.icon),a=be(()=>e.toast.iconTheme);var s=V(),i=N(s);{var o=c=>{var u=Nf(),d=w(u);G(()=>X(d,h(n))),m(c,u)},l=c=>{var u=V(),d=N(u);{var f=g=>{var p=V(),y=N(p);Nt(y,()=>h(n),(_,$)=>{$(_,{})}),m(g,p)},v=g=>{var p=V(),y=N(p);{var _=$=>{var b=Mf(),k=w(b);Rf(k,ee(()=>h(a)));var x=T(k,2);{var P=S=>{var I=Df(),j=w(I);{var R=M=>{jf(M,ee(()=>h(a)))},O=M=>{If(M,ee(()=>h(a)))};D(j,M=>{h(t)==="error"?M(R):M(O,!1)})}m(S,I)};D(x,S=>{h(t)!=="loading"&&S(P)})}m($,b)};D(y,$=>{h(t)!=="blank"&&$(_)},!0)}m(g,p)};D(d,g=>{typeof h(n)<"u"?g(f):g(v,!1)},!0)}m(c,u)};D(i,c=>{typeof h(n)=="string"?c(o):c(l,!1)})}m(r,s),ce()}var Bf=A('<div class="message svelte-1nauejd"><!></div>');function ws(r,e){le(e,!0);var t=Bf(),n=w(t);{var a=i=>{var o=gr();G(()=>X(o,e.toast.message)),m(i,o)},s=i=>{var o=V(),l=N(o);Nt(l,()=>e.toast.message,(c,u)=>{u(c,ee({get toast(){return e.toast}},()=>e.toast.props))}),m(i,o)};D(n,i=>{typeof e.toast.message=="string"?i(a):i(s,!1)})}m(r,t),ce()}const Uf=(r,e=Ve)=>{var t=Ff(),n=N(t);Bo(n,{get toast(){return e().toast}});var a=T(n,2);ws(a,{get toast(){return e().toast}}),m(r,t)};var Ff=A("<!> <!>",1),zf=A("<div><!></div>");function qf(r,e){le(e,!0);let t=q(e,"position",3,void 0),n=q(e,"Component",3,void 0),a=be(()=>(e.toast.position||t()||"top-center").includes("top")),s=be(()=>h(a)?1:-1);const i=be(()=>Mo()?["fadeIn","fadeOut"]:["enter","exit"]),o=be(()=>h(i)[0]),l=be(()=>h(i)[1]);let c=be(()=>e.toast.visible?h(o):h(l));var u=zf(),d=w(u);{var f=g=>{var p=V(),y=N(p);Nt(y,n,(_,$)=>{$(_,{$$slots:{icon:(b,k)=>{Bo(b,{get toast(){return e.toast},slot:"icon"})},message:(b,k)=>{ws(b,{get toast(){return e.toast},slot:"message"})}}})}),m(g,p)},v=g=>{Uf(g,()=>({toast:e.toast}))};D(d,g=>{n()?g(f):g(v,!1)})}G(()=>{Se(u,`base ${(e.toast.height?h(c):"transparent")??""} ${e.toast.className||""} svelte-1c9srrs`),he(u,"style",e.toast.style),ht(u,"--factor",h(s))}),m(r,u),ce()}const Hf=(r,e=Ve)=>{qf(r,{get toast(){return e().toast},get position(){return e().toast.position}})};var Vf=A('<div id="status" class="wrapper svelte-v01oml"><!></div>');function Wf(r,e){le(e,!0);let t=ae(void 0);Ge(()=>{var d,f,v;(v=e.setHeight)==null||v.call(e,(f=(d=h(t))==null?void 0:d.getBoundingClientRect())==null?void 0:f.height)});let n=be(()=>{var d;return(d=e.toast.position)!=null&&d.includes("top")?0:null}),a=be(()=>{var d;return(d=e.toast.position)!=null&&d.includes("bottom")?0:null}),s=be(()=>{var d;return(d=e.toast.position)!=null&&d.includes("top")?1:-1}),i=be(()=>{var d,f,v;return((d=e.toast.position)==null?void 0:d.includes("center"))&&"center"||(((f=e.toast.position)==null?void 0:f.includes("right"))||((v=e.toast.position)==null?void 0:v.includes("end")))&&"flex-end"||null});var o=Vf(),l=w(o);{var c=d=>{ws(d,{get toast(){return e.toast}})},u=d=>{Hf(d,()=>({toast:e.toast}))};D(l,d=>{e.toast.type==="custom"?d(c):d(u,!1)})}Wr(o,d=>C(t,d),()=>h(t)),G(d=>{Ut(o,"active",e.toast.visible),Ut(o,"transition",d),ht(o,"--factor",h(s)),ht(o,"--offset",e.toast.offset),ht(o,"top",h(n)),ht(o,"bottom",h(a)),ht(o,"justify-content",h(i))},[()=>!Mo()]),m(r,o),ce()}var Gf=A('<div aria-live="polite" role="status"></div>');function Jf(r,e){le(e,!0);const[t,n]=Wc(),a=()=>Vc(l,"$toasts",t);let s=q(e,"reverseOrder",3,!1),i=q(e,"position",3,"top-center"),o=q(e,"gutter",3,8);const{toasts:l,handlers:c}=Cf(e.toastOptions);let u=be(()=>a().map(f=>({...f,position:f.position||i(),offset:c.calculateOffset(f,a(),{reverseOrder:s(),gutter:o(),defaultPosition:i()})})));var d=Gf();Me(d,21,()=>h(u),f=>f.id,(f,v)=>{Wf(f,{get toast(){return h(v)},setHeight:g=>c.updateHeight(h(v).id,g??0)})}),G(()=>{Se(d,`toaster ${e.containerClassName||""} svelte-1phplh9`),he(d,"style",e.containerStyle)}),Y("mouseenter",d,function(...f){var v;(v=c.startPause)==null||v.apply(this,f)}),Y("mouseleave",d,function(...f){var v;(v=c.endPause)==null||v.apply(this,f)}),m(r,d),ce(),n()}async function xs(r){if(!r)return Xe("Form identifier is required");let{data:e,error:t}=await xe.from("forms").select("*").eq("id",r).maybeSingle();return e?Vt({form:e}):({data:e,error:t}=await xe.from("forms").select("*").eq("slug",r).maybeSingle(),e?Vt({form:e}):Xe(t||"Form not found"))}async function Kf(r){const{data:e,error:t}=await xe.from("forms").select("*").eq("user_id",r).order("created_at",{ascending:!1});return t?Xe(t):Vt({forms:e})}const Vt=r=>({success:!0,data:r}),Xe=r=>({success:!1,error:(r==null?void 0:r.message)||r||"Unknown error"});async function Yf(r){const{data:e,error:t}=await xe.from("forms").insert(r).select().single();return t?Xe(t):Vt({id:e.id})}async function Wa(r){if(!(r!=null&&r.id))return Xe("Form ID is required");const{data:e,error:t}=await xe.from("forms").update(r).eq("id",r.id).select().single();return t?Xe(t):Vt({form:e})}async function Qf(r){const{data:e,error:t}=await xe.from("forms").delete().eq("id",r).select();return t?Xe(t):e!=null&&e.length?Vt({id:e[0].id}):Xe("Form not found")}async function Xf(r){const{data:e,error:t}=await xe.from("forms").select("*").eq("id",r).single();if(t)return Xe(t);const{id:n,created_at:a,...s}=e,{data:i,error:o}=await xe.from("forms").insert([{...s,created_at:new Date}]).select().single();return o?Xe(o):Vt({form:i})}async function Zf(r){if(!r)return Xe("Form ID is required");const{data:e,error:t}=await xe.from("forms").select("views").eq("id",r).single();if(t)return Xe(t);const{data:n,error:a}=await xe.from("forms").update({views:e.views+1}).eq("id",r).select("views").single();return a?Xe(a):Vt({views:n.views})}async function eh(r){if(!r)return Xe("Form ID is required");const{data:e,error:t}=await xe.from("forms").select("views").eq("id",r).single();return t?Xe(t):Vt({views:e.views})}const ca=r=>({success:!0,data:r}),ua=r=>({success:!1,error:(r==null?void 0:r.message)||"Unknown error"});async function th(r,e){const{data:t,error:n}=await xe.from("responses").insert({form_id:r,meta:e}).select();return n?ua(n):ca({responseIds:t.map(a=>a.id)})}async function rh(r){const{data:e,error:t}=await xe.from("responses").select("id, meta, created_at").eq("form_id",r).order("created_at",{ascending:!1});return t?ua(t):ca({responses:e})}async function nh(r){const{count:e,error:t}=await xe.from("responses").select("*",{count:"exact",head:!0}).eq("form_id",r);return t?ua(t):ca({count:e})}async function ah(r){const{error:e}=await xe.from("responses").delete().eq("id",r);return e?ua(e):ca({deletedId:r})}const da=r=>({success:!0,data:r}),pr=r=>({success:!1,error:(r==null?void 0:r.message)||"Unknown error"});async function Ga(r,e){const t={...e},{data:n,error:a}=await xe.from("blocks").select("position").eq("form_id",r).order("position",{ascending:!1}).limit(1).single();if(a&&a.code!=="PGRST116")return pr(a);const s=n?n.position+1:0,{data:i,error:o}=await xe.from("blocks").insert({form_id:r,position:s,meta:t}).select().single();return o?pr(o):da({blockId:i.id})}async function Uo(r){const{data:e,error:t}=await xe.from("blocks").select("*").eq("form_id",r).order("position",{ascending:!0});return t?pr(t):da({blocks:e})}async function _i(r){const{id:e,meta:t,position:n}=r;if(!e)return pr("Missing block ID");const a={};t!==void 0&&(a.meta=t),n!==void 0&&(a.position=n);const{data:s,error:i}=await xe.from("blocks").update(a).eq("id",e).select().single();return i?pr(i):da({block:s})}async function sh(r){const{data:e,error:t}=await xe.from("blocks").delete().eq("id",r).select();return t?pr(t):e!=null&&e.length?da({id:e[0].id}):pr("Block not found")}var ih=A("<input>");function Et(r,e){let t=q(e,"value",15),n=kn(e,["$$slots","$$events","$$legacy","value","props"]);var a=ih();let s;G(()=>s=Rr(a,s,{autofocus:!0,...n,class:"my-4 bg-gray-50 border  border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),Be(a,t),m(r,a)}var oh=A("<textarea></textarea>");function Ja(r,e){let t=q(e,"value",15),n=kn(e,["$$slots","$$events","$$legacy","value"]);var a=oh();let s;G(()=>s=Rr(a,s,{autofocus:!0,...n,rows:"4",class:"my-2 block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),Be(a,t),m(r,a)}/**
 * @license lucide-svelte v0.482.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const lh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var ch=yc("<svg><!><!></svg>");function se(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]),n=re(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);le(e,!1);let a=q(e,"name",8,void 0),s=q(e,"color",8,"currentColor"),i=q(e,"size",8,24),o=q(e,"strokeWidth",8,2),l=q(e,"absoluteStrokeWidth",8,!1),c=q(e,"iconNode",24,()=>[]);const u=(...p)=>p.filter((y,_,$)=>!!y&&$.indexOf(y)===_).join(" ");We();var d=ch();let f;var v=w(d);Me(v,1,c,Ue,(p,y)=>{let _=()=>h(y)[0],$=()=>h(y)[1];var b=V(),k=N(b);Cc(k,_,!0,(x,P)=>{let S;G(()=>S=Rr(x,S,{...$()},void 0,x.namespaceURI===Ni,x.nodeName.includes("-")))}),m(p,b)});var g=T(v);te(g,e,"default",{}),G((p,y)=>f=Rr(d,f,{...lh,...n,width:i(),height:i(),stroke:s(),"stroke-width":p,class:y},void 0,!0),[()=>l()?Number(o())*24/Number(i()):o(),()=>u("lucide-icon","lucide",a()?`lucide-${a()}`:"",t.class)],yn),m(r,d),ce()}function uh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"align-center"},()=>t,{iconNode:[["path",{d:"M17 12H7"}],["path",{d:"M19 18H5"}],["path",{d:"M21 6H3"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function dh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"align-left"},()=>t,{iconNode:[["path",{d:"M15 12H3"}],["path",{d:"M17 18H3"}],["path",{d:"M21 6H3"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function fh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"arrow-down"},()=>t,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function hh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"arrow-left"},()=>t,{iconNode:[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function vh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"arrow-up"},()=>t,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function gh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"calendar-check"},()=>t,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"m9 16 2 2 4-4"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Fo(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"calendar-clock"},()=>t,{iconNode:[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5"}],["path",{d:"M16 2v4"}],["path",{d:"M8 2v4"}],["path",{d:"M3 10h5"}],["path",{d:"M17.5 17.5 16 16.3V14"}],["circle",{cx:"16",cy:"16",r:"6"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function zo(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"calendar"},()=>t,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function ph(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"chart-no-axes-column"},()=>t,{iconNode:[["line",{x1:"18",x2:"18",y1:"20",y2:"10"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function mh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"check"},()=>t,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function bh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"chevron-down"},()=>t,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function yh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"circle-alert"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function _h(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"circle-check-big"},()=>t,{iconNode:[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function wh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"circle-dot"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"1"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function xh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"clipboard"},()=>t,{iconNode:[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function wi(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"cloud-upload"},()=>t,{iconNode:[["path",{d:"M12 13v8"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}],["path",{d:"m8 17 4-4 4 4"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function kh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"copy"},()=>t,{iconNode:[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function $h(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"download"},()=>t,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"7 10 12 15 17 10"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Sh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"ellipsis-vertical"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function qo(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"external-link"},()=>t,{iconNode:[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Eh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"eye"},()=>t,{iconNode:[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Ho(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"file-text"},()=>t,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Th(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"gauge"},()=>t,{iconNode:[["path",{d:"m12 14 4-4"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Ph(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"ghost"},()=>t,{iconNode:[["path",{d:"M9 10h.01"}],["path",{d:"M15 10h.01"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Ch(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"hammer"},()=>t,{iconNode:[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9"}],["path",{d:"m18 15 4-4"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Ah(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"hash"},()=>t,{iconNode:[["line",{x1:"4",x2:"20",y1:"9",y2:"9"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Ih(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"inbox"},()=>t,{iconNode:[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Oh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"info"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function jh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"key"},()=>t,{iconNode:[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4"}],["path",{d:"m21 2-9.6 9.6"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function fa(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"link"},()=>t,{iconNode:[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Lh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"list-checks"},()=>t,{iconNode:[["path",{d:"m3 17 2 2 4-4"}],["path",{d:"m3 7 2 2 4-4"}],["path",{d:"M13 6h8"}],["path",{d:"M13 12h8"}],["path",{d:"M13 18h8"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Rh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"log-in"},()=>t,{iconNode:[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}],["polyline",{points:"10 17 15 12 10 7"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Nh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"log-out"},()=>t,{iconNode:[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Dh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"mail"},()=>t,{iconNode:[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Mh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"party-popper"},()=>t,{iconNode:[["path",{d:"M5.8 11.3 2 22l10.7-3.79"}],["path",{d:"M4 3h.01"}],["path",{d:"M22 8h.01"}],["path",{d:"M15 2h.01"}],["path",{d:"M22 20h.01"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Bh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"pen-tool"},()=>t,{iconNode:[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18"}],["path",{d:"m2.3 2.3 7.286 7.286"}],["circle",{cx:"11",cy:"11",r:"2"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Uh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"phone"},()=>t,{iconNode:[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Fh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"plus"},()=>t,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function zh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"qr-code"},()=>t,{iconNode:[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3"}],["path",{d:"M21 21v.01"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7"}],["path",{d:"M3 12h.01"}],["path",{d:"M12 3h.01"}],["path",{d:"M12 16v.01"}],["path",{d:"M16 12h1"}],["path",{d:"M21 12v.01"}],["path",{d:"M12 21v-1"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function qh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"rectangle-horizontal"},()=>t,{iconNode:[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Hh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"refresh-cw"},()=>t,{iconNode:[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Vh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"rocket"},()=>t,{iconNode:[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Wh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"scroll-text"},()=>t,{iconNode:[["path",{d:"M15 12h-5"}],["path",{d:"M15 8h-5"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Gh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"share-2"},()=>t,{iconNode:[["circle",{cx:"18",cy:"5",r:"3"}],["circle",{cx:"6",cy:"12",r:"3"}],["circle",{cx:"18",cy:"19",r:"3"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Jh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"signature"},()=>t,{iconNode:[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284"}],["path",{d:"M3 21h18"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Kh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"smile"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Yh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"sparkle"},()=>t,{iconNode:[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Qh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"square-check"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m9 12 2 2 4-4"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Xh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"square-chevron-down"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m16 10-4 4-4-4"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function xi(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"square-pen"},()=>t,{iconNode:[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Zh(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"square-plus"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Vo(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"star"},()=>t,{iconNode:[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function ev(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"toggle-left"},()=>t,{iconNode:[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6"}],["circle",{cx:"8",cy:"12",r:"2"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function ks(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"trash-2"},()=>t,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function Wo(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"trash"},()=>t,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function tv(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"triangle-alert"},()=>t,{iconNode:[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function rv(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"upload"},()=>t,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"17 8 12 3 7 8"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function nv(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"user"},()=>t,{iconNode:[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function av(r,e){const t=re(e,["children","$$slots","$$events","$$legacy"]);se(r,ee({name:"x"},()=>t,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(a,s)=>{var i=V(),o=N(i);te(o,e,"default",{}),m(a,i)},$$slots:{default:!0}}))}function vt(r,{text:e="",position:t="top"}){const n=document.createElement("div");n.classList.add("absolute","invisible","bg-gray-700","text-white","text-xs","rounded","py-1","px-2","opacity-0","transition-opacity","duration-300","transform","whitespace-nowrap","z-50"),n.innerText=e,document.body.appendChild(n);let a=!1;const s=()=>{a||(n.style.visibility="visible",n.style.opacity="1",l(),n.classList.add("animate-tada"))},i=()=>{n.style.visibility="hidden",n.style.opacity="0",n.classList.remove("animate-tada")},o=(d,f,v)=>Math.max(f,Math.min(v,d)),l=()=>{const{top:d,left:f,width:v,height:g}=r.getBoundingClientRect(),{offsetWidth:p,offsetHeight:y}=n;let _,$;switch(t){case"top":_=f+v/2-p/2,$=d-y-5;break;case"bottom":_=f+v/2-p/2,$=d+g+5;break;case"left":_=f-p-5,$=d+g/2-y/2;break;case"right":_=f+v+5,$=d+g/2-y/2;break}const b=8,k=window.innerWidth-p-b,x=window.innerHeight-y-b;n.style.left=`${o(_,b,k)}px`,n.style.top=`${o($,b,x)}px`},c=()=>{i(),a=!0},u=()=>{i(),a=!1};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",u),r.addEventListener("click",c),{destroy(){r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",u),r.removeEventListener("click",c),document.body.removeChild(n)}}}var sv=A('<button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button>');function ki(r,e){let n=q(e,"largeIcon",3,!1)()?"w-8 h-8":"w-5 h-5";var a=sv(),s=w(a);Zh(s,{class:n}),ut(a,(i,o)=>vt==null?void 0:vt(i,o),()=>({text:"Add Block",position:"bottom"})),it(()=>Y("click",a,function(...i){var o;(o=e.clickHandler)==null||o.apply(this,i)})),m(r,a)}var iv=A("<button> </button>");function Ka(r,e){let t=kn(e,["$$slots","$$events","$$legacy","text"]);var n=iv();let a;var s=w(n);G(()=>{a=Rr(n,a,{type:"button",class:"text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-bold rounded-lg text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700",...t}),X(s,e.text)}),m(r,n)}var ov=A('<label class="flex items-center space-x-2 cursor-pointer select-none"><input type="checkbox" class="w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"></label>');function Ya(r,e){let t=q(e,"checked",15,!1);var n=ov(),a=w(n);Mc(a,t),m(r,n)}var lv=A('<div class="flex items-center space-x-2"><button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button> <!></div>');function Go(r,e){let t=q(e,"link",3,""),n=ae(!1);async function a(){if(t())try{await navigator.clipboard.writeText(t()),C(n,!0),setTimeout(()=>C(n,!1),2e3)}catch(u){console.error("Failed to copy:",u)}}var s=lv(),i=w(s),o=w(i);fa(o,{class:"w-5 h-5"}),ut(i,(u,d)=>vt==null?void 0:vt(u,d),()=>({text:"Copy form link",position:"bottom"})),it(()=>Y("click",i,a));var l=T(i,2);{var c=u=>{Ko(u,{message:"Link copied!"})};D(l,u=>{h(n)&&u(c)})}G(()=>i.disabled=!t()),m(r,s)}var cv=A("<option disabled hidden> </option>"),uv=A("<option> </option>"),dv=A('<span class="absolute bottom-0 left-0 h-0.5 w-0 bg-indigo-500 transition-all duration-300 peer-focus:w-full"></span>'),fv=A('<div class="relative w-full m-0 p-0"><select><!><!></select> <!></div>');function tr(r,e){le(e,!0);let t=q(e,"choices",19,()=>[]),n=q(e,"value",15),a=q(e,"canAnswer",3,!1),s=ae(K(n()??""));gt(()=>{e.choiceSelected(h(s)),n(h(s))});var i=fv(),o=w(i),l=w(o);{var c=v=>{var g=cv();g.value=((g.__value="")==null,"");var p=w(g);G(()=>X(p,e.props.placeholder)),m(v,g)};D(l,v=>{var g;(g=e.props)!=null&&g.placeholder&&v(c)})}var u=T(l);Me(u,17,t,Ue,(v,g)=>{var p=uv(),y={},_=w(p);G(()=>{y!==(y=h(g))&&(p.value=(p.__value=h(g))==null?"":h(g)),X(_,h(g))}),m(v,p)});var d=T(o,2);{var f=v=>{var g=dv();m(v,g)};D(d,v=>{a()&&v(f)})}G(()=>{o.disabled=!a(),Se(o,`block w-full bg-transparent border-0 border-b-2 text-xl py-2 px-0 outline-none transition-all duration-300
      ${a()?"text-gray-900 border-gray-400 focus:border-indigo-500 cursor-pointer":"text-gray-400 border-gray-200 cursor-not-allowed"}`)}),Uc(o,()=>h(s),v=>C(s,v)),m(r,i),ce()}var hv=A('<button class="w-full flex items-center gap-2 text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"><!> </button>'),vv=A('<div class="absolute w-48 bg-white rounded-md shadow-lg z-50"></div>'),gv=A('<div class="relative inline-block"><button class="w-7 h-7 flex items-center justify-center rounded-full hover:bg-gray-100 transition" aria-label="More options"><!></button> <!></div>');function Jo(r,e){le(e,!1);let t=q(e,"dropdownItems",24,()=>[]),n=ye(!1),a=ye(),s=ye("");const i={Duplicate:kh,Delete:Wo,Rename:xi,RenameLink:xi,OpenForm:qo,CopyLink:fa,QRCode:zh};function o(){if(C(n,!h(n)),h(n)&&h(a)){const g=h(a).getBoundingClientRect();let p=0,y=g.height+4;C(s,`top:${y}px; left:${p}px;`)}}function l(g){h(a)&&!h(a).contains(g.target)&&C(n,!1)}Ge(()=>(document.addEventListener("click",l),()=>document.removeEventListener("click",l))),We();var c=gv(),u=w(c),d=w(u);Sh(d,{class:"w-4 h-4 text-gray-500 hover:text-black cursor-pointer"});var f=T(u,2);{var v=g=>{var p=vv();Me(p,5,t,Ue,(y,_)=>{let $=()=>h(_).icon,b=()=>h(_).label,k=()=>h(_).onClick;var x=hv(),P=w(x);{var S=j=>{h(yn(()=>i[$()]))(j,{class:"w-4 h-4 text-gray-500"})};D(P,j=>{i[$()]&&j(S)})}var I=T(P);G(()=>X(I,` ${b()??""}`)),Y("click",x,async()=>{var j;await((j=k())==null?void 0:j()),C(n,!1)}),m(y,x)}),G(()=>he(p,"style",h(s))),m(g,p)};D(f,g=>{h(n)&&g(v)})}Wr(c,g=>C(a,g),()=>h(a)),Y("click",u,o),m(r,c),ce()}var pv=A('<div class="relative rounded-2xl overflow-visible border border-neutral-300 bg-gradient-to-br from-neutral-100 via-white to-neutral-200 shadow-xl transition-all duration-300 ease-in-out hover:shadow-2xl max-w-[288px]"><div class="p-4 cursor-pointer hover:bg-white/40 transition duration-200"><h2 class="text-base font-bold text-black tracking-tight drop-shadow-sm"> </h2></div> <div class="h-[1px] bg-gradient-to-r from-transparent via-neutral-400 to-transparent animate-pulse"></div> <div class="relative flex items-center justify-between px-3 py-2 bg-white/30 text-sm text-black backdrop-blur-md rounded-b-2xl"><button class="bg-black hover:bg-neutral-800 text-white text-xs px-2 py-[2px] rounded shadow-sm transition"> </button> <div class="flex items-center gap-1"><!> <span> </span></div></div> <div class="absolute top-2 right-2"><!></div></div>');function mv(r,e){le(e,!1);let t=q(e,"form",8),n=q(e,"responseCount",8,0),a=q(e,"formViewCount",8,0),s=q(e,"onOpen",8),i=q(e,"onCopy",8),o=q(e,"onRenameForm",8),l=q(e,"onRenameFormSlug",8),c=q(e,"onDuplicate",8),u=q(e,"onDelete",8),d=q(e,"onQRCode",8);We();var f=pv(),v=w(f),g=w(v),p=w(g),y=T(v,4),_=w(y),$=w(_),b=T(_,2),k=w(b);Eh(k,{class:"w-4 h-4"});var x=T(k,2),P=w(x),S=T(y,2),I=w(S);const j=yn(()=>[{label:"Open Form",icon:"OpenForm",onClick:s()},{label:"Copy Form Link",icon:"CopyLink",onClick:i()},{label:"Rename Form",icon:"Rename",onClick:o()},{label:"Customize Form Link",icon:"RenameLink",onClick:l()},{label:"Duplicate",icon:"Duplicate",onClick:c()},{label:"Delete Form",icon:"Delete",onClick:u()},{label:"Create QR Code",icon:"QRCode",onClick:d()}]);Jo(I,{get dropdownItems(){return h(j)}}),G(()=>{X(p,t().name),X($,`${n()??""} Response${(n()===1?"":"s")??""}`),X(P,a()??0)}),Y("click",v,()=>$t("/form/build/"+t().id)),Y("click",_,()=>$t("/responses/"+t().id)),m(r,f),ce()}var bv=A('<button class="inline-flex items-center gap-2 p-2 rounded-xl hover:bg-gray-100 transition"><!></button>');function yv(r,e){let t=q(e,"url",3,"");var n=bv(),a=w(n);qo(a,{class:"w-5 h-5"}),ut(n,(s,i)=>vt==null?void 0:vt(s,i),()=>({text:"Open form link",position:"bottom"})),it(()=>Y("click",n,()=>t()&&window.open(t(),"_blank"))),m(r,n)}var _v=A('<div role="alert"><div class="flex items-center gap-2"><!> <span class="text-sm"> </span></div> <button class="text-white font-bold text-xl leading-none hover:opacity-75" aria-label="Close">&times;</button></div>');function Ko(r,e){let t=q(e,"message",8,""),n=q(e,"type",8,"info"),a=q(e,"duration",8,4e3),s=ye(!0);const i={success:{color:"bg-green-500 text-white",Icon:_h},error:{color:"bg-red-500 text-white",Icon:yh},info:{color:"bg-blue-500 text-white",Icon:Oh}},{color:o,Icon:l}=i[n()];setTimeout(()=>{C(s,!1)},a());var c=V(),u=N(c);{var d=f=>{var v=_v();Se(v,`fixed top-12 right-12 px-4 py-3 rounded shadow-lg flex items-center justify-between gap-4 transition-opacity duration-500 ease-in-out ${o}`);var g=w(v),p=w(g);l(p,{class:"w-5 h-5"});var y=T(p,2),_=w(y),$=T(g,2);G(()=>X(_,t())),Y("click",$,()=>C(s,!1)),m(f,v)};D(u,f=>{h(s)&&f(d)})}m(r,c)}var wv=A('<div class="w-screen min-h-screen flex items-center justify-center bg-neutral-50 text-gray-800 animate-fadeIn svelte-7unkar"><div class="flex flex-col items-center gap-2 svelte-7unkar"><div class="text-sm text-gray-600 font-light tracking-wide animate-fadeIn delay-100 svelte-7unkar">Powered By</div> <div class="flex items-center gap-2 animate-slideUp delay-200 svelte-7unkar"><!> <span class="text-xl font-semibold tracking-tight animate-bounce-slow svelte-7unkar">FabForm</span></div> <div class="w-48 h-2.5 mt-3 bg-neutral-300 rounded-full overflow-hidden animate-slideIn delay-300 svelte-7unkar"><div class="h-full bg-pink-500 transition-all duration-700 ease-out svelte-7unkar"></div></div></div></div>');function xv(r,e){le(e,!1);let t=ye(0);Ge(()=>{const c=setInterval(()=>{h(t)<100?C(t,h(t)+1):clearInterval(c)},20)}),We();var n=wv(),a=w(n),s=T(w(a),2),i=w(s);Vh(i,{class:"w-8 h-8 text-pink-500 drop-shadow animate-pulse-slow"});var o=T(s,2),l=w(o);G(()=>he(l,"style",`width: ${h(t)??""}%`)),m(r,n),ce()}var kv=A('<figure class="loader svelte-d62oge"><div class="dot white svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div> <div class="dot svelte-d62oge"></div></figure>');function $v(r){var e=kv();m(r,e)}var Sv=A('<div class="group relative inline-block m-1"><button class="cursor-pointer"><!></button></div>');function Ev(r,e){le(e,!1);function t(){$t("/dashboard")}We();var n=Sv(),a=w(n),s=w(a);hh(s,{class:`w-8 h-8 stroke-current fill-none 
      hover:scale-125 duration-200 hover:stroke-blue-500`,"stroke-width":"2"}),Y("click",a,t),m(r,n),ce()}var Tv=A('<div role="main" aria-label="Page not found error message" class="relative flex items-center justify-center min-h-screen bg-gradient-to-tr from-zinc-950 via-zinc-900 to-zinc-950 text-white overflow-hidden svelte-1i8xg84"><canvas class="absolute inset-0 w-full h-full z-0 pointer-events-none svelte-1i8xg84" aria-hidden="true"></canvas> <div class="absolute inset-0 flex items-center justify-center pointer-events-none z-0 svelte-1i8xg84" aria-hidden="true"><div class="w-40 h-40 bg-purple-600 rounded-full blur-3xl opacity-30 svelte-1i8xg84"></div></div> <div class="text-center animate-fade-in-up z-10 relative svelte-1i8xg84"><!> <h1 class="text-6xl sm:text-7xl font-extrabold mt-6 mb-4 tracking-tight text-white drop-shadow-xl svelte-1i8xg84" tabindex="0">Oops!</h1> <p class="text-2xl sm:text-3xl text-zinc-400 font-medium svelte-1i8xg84" tabindex="0">Page not found <span class="text-purple-400 svelte-1i8xg84" aria-hidden="true">:(</span></p></div></div>');function Pv(r,e){le(e,!1);let t=ye(),n,a=[],s={x:null,y:null};function i(y,_){return Math.random()*(_-y)+y}function o(){a=[];for(let y=0;y<60;y++)a.push({x:Math.random()*h(t).width,y:Math.random()*h(t).height,r:i(1,3),baseR:i(1,3),dx:(Math.random()-.5)*.6,dy:(Math.random()-.5)*.6,opacity:i(.2,.6),pulseDir:Math.random()<.5?1:-1,hueShift:i(-20,20)})}function l(y){for(let $=0;$<a.length;$++)for(let b=$+1;b<a.length;b++){const k=a[$],x=a[b],P=Math.hypot(k.x-x.x,k.y-x.y);if(P<120){const S=.2*(1-P/120);y.strokeStyle=`rgba(168, 85, 247, ${S})`,y.lineWidth=1,y.beginPath(),y.moveTo(k.x,k.y),y.lineTo(x.x,x.y),y.stroke()}}}function c(y){if(s.x===null||s.y===null)return;const _=100,$=y.x-s.x,b=y.y-s.y,k=Math.hypot($,b);if(k<_&&k>0){const x=(_-k)/_*.5;y.dx+=$/k*x,y.dy+=b/k*x}}function u(y){y.clearRect(0,0,h(t).width,h(t).height),a.forEach(_=>{_.r+=.02*_.pulseDir,(_.r>_.baseR+.5||_.r<_.baseR-.5)&&(_.pulseDir*=-1),c(_),_.dx*=.98,_.dy*=.98,_.x+=_.dx,_.y+=_.dy,_.x<0&&(_.x=0,_.dx*=-1),_.x>h(t).width&&(_.x=h(t).width,_.dx*=-1),_.y<0&&(_.y=0,_.dy*=-1),_.y>h(t).height&&(_.y=h(t).height,_.dy*=-1),y.beginPath(),y.shadowColor=`hsla(${275+_.hueShift}, 80%, 70%, 0.6)`,y.shadowBlur=8,y.arc(_.x,_.y,_.r,0,Math.PI*2),y.fillStyle=`hsla(${275+_.hueShift}, 70%, 60%, ${_.opacity})`,y.fill(),y.shadowBlur=0}),l(y),n=requestAnimationFrame(()=>u(y))}function d(){zn(t,h(t).width=window.innerWidth),zn(t,h(t).height=window.innerHeight),o()}Ge(()=>{const y=h(t).getContext("2d");d(),u(y);function _(){document.hidden?cancelAnimationFrame(n):u(y)}window.addEventListener("resize",d),document.addEventListener("visibilitychange",_);function $(k){s.x=k.clientX,s.y=k.clientY}function b(){s.x=null,s.y=null}return window.addEventListener("mousemove",$),window.addEventListener("mouseout",b),()=>{window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",_),window.removeEventListener("mousemove",$),window.removeEventListener("mouseout",b),cancelAnimationFrame(n)}}),We();var f=Tv(),v=w(f);Wr(v,y=>C(t,y),()=>h(t));var g=T(v,4),p=w(g);Ph(p,{class:"w-24 h-24 mx-auto text-purple-400 drop-shadow-xl animate-float","aria-hidden":"true",focusable:"false"}),m(r,f),ce()}var Ea={exports:{}},$i;function Cv(){return $i||($i=1,function(r){(function(){function e(p,y){document.addEventListener?p.addEventListener("scroll",y,!1):p.attachEvent("scroll",y)}function t(p){document.body?p():document.addEventListener?document.addEventListener("DOMContentLoaded",function y(){document.removeEventListener("DOMContentLoaded",y),p()}):document.attachEvent("onreadystatechange",function y(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",y),p())})}function n(p){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(p)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function a(p,y){p.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+y+";"}function s(p){var y=p.g.offsetWidth,_=y+100;return p.j.style.width=_+"px",p.i.scrollLeft=_,p.h.scrollLeft=p.h.scrollWidth+100,p.l!==y?(p.l=y,!0):!1}function i(p,y){function _(){var b=$;s(b)&&b.g.parentNode!==null&&y(b.l)}var $=p;e(p.h,_),e(p.i,_),s(p)}function o(p,y,_){y=y||{},_=_||window,this.family=p,this.style=y.style||"normal",this.weight=y.weight||"normal",this.stretch=y.stretch||"normal",this.context=_}var l=null,c=null,u=null,d=null;function f(p){return c===null&&(v(p)&&/Apple/.test(window.navigator.vendor)?(p=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!p&&603>parseInt(p[1],10)):c=!1),c}function v(p){return d===null&&(d=!!p.document.fonts),d}function g(p,y){var _=p.style,$=p.weight;if(u===null){var b=document.createElement("div");try{b.style.font="condensed 100px sans-serif"}catch{}u=b.style.font!==""}return[_,$,u?p.stretch:"","100px",y].join(" ")}o.prototype.load=function(p,y){var _=this,$=p||"BESbswy",b=0,k=y||3e3,x=new Date().getTime();return new Promise(function(P,S){if(v(_.context)&&!f(_.context)){var I=new Promise(function(R,O){function M(){new Date().getTime()-x>=k?O(Error(""+k+"ms timeout exceeded")):_.context.document.fonts.load(g(_,'"'+_.family+'"'),$).then(function(H){1<=H.length?R():setTimeout(M,25)},O)}M()}),j=new Promise(function(R,O){b=setTimeout(function(){O(Error(""+k+"ms timeout exceeded"))},k)});Promise.race([j,I]).then(function(){clearTimeout(b),P(_)},S)}else t(function(){function R(){var de;(de=Q!=-1&&ne!=-1||Q!=-1&&ue!=-1||ne!=-1&&ue!=-1)&&((de=Q!=ne&&Q!=ue&&ne!=ue)||(l===null&&(de=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!de&&(536>parseInt(de[1],10)||parseInt(de[1],10)===536&&11>=parseInt(de[2],10))),de=l&&(Q==fe&&ne==fe&&ue==fe||Q==ge&&ne==ge&&ue==ge||Q==Te&&ne==Te&&ue==Te)),de=!de),de&&(_e.parentNode!==null&&_e.parentNode.removeChild(_e),clearTimeout(b),P(_))}function O(){if(new Date().getTime()-x>=k)_e.parentNode!==null&&_e.parentNode.removeChild(_e),S(Error(""+k+"ms timeout exceeded"));else{var de=_.context.document.hidden;(de===!0||de===void 0)&&(Q=M.g.offsetWidth,ne=H.g.offsetWidth,ue=W.g.offsetWidth,R()),b=setTimeout(O,50)}}var M=new n($),H=new n($),W=new n($),Q=-1,ne=-1,ue=-1,fe=-1,ge=-1,Te=-1,_e=document.createElement("div");_e.dir="ltr",a(M,g(_,"sans-serif")),a(H,g(_,"serif")),a(W,g(_,"monospace")),_e.appendChild(M.g),_e.appendChild(H.g),_e.appendChild(W.g),_.context.document.body.appendChild(_e),fe=M.g.offsetWidth,ge=H.g.offsetWidth,Te=W.g.offsetWidth,O(),i(M,function(de){Q=de,R()}),a(M,g(_,'"'+_.family+'",sans-serif')),i(H,function(de){ne=de,R()}),a(H,g(_,'"'+_.family+'",serif')),i(W,function(de){ue=de,R()}),a(W,g(_,'"'+_.family+'",monospace'))})})},r.exports=o})()}(Ea)),Ea.exports}var Av=Cv();const Iv=po(Av);var Ov=A("<div><!></div>"),jv=A("<div><!></div>");function Lv(r,e){le(e,!0);let t=q(e,"fontName",3,"Roboto"),n=q(e,"fontScale",3,"medium"),a=q(e,"fallback",3,"sans-serif");const s={small:"1rem",medium:"1.5rem",large:"2rem"};let i=be(()=>s[n()]||"1.5rem"),o=ae(!1);function l(v){const g=v.replace(/ /g,"+");if(!document.getElementById(`gf-${g}`)){const p=document.createElement("link");p.id=`gf-${g}`,p.rel="stylesheet",p.href=`https://fonts.googleapis.com/css2?family=${g}&display=swap`,document.head.appendChild(p)}}Ge(()=>{l(t()),new Iv(t()).load(null,1e4).then(()=>{C(o,!0)}).catch(()=>{C(o,!1)})});var c=V(),u=N(c);{var d=v=>{var g=Ov(),p=w(g);te(p,e,"default",{}),G(()=>he(g,"style",`font-family: '${t()??""}', ${a()??""}; font-size: ${h(i)??""}; transition: opacity 0.3s;`)),m(v,g)},f=v=>{var g=jv(),p=w(g);te(p,e,"default",{}),G(()=>he(g,"style",`font-family: ${a()??""}; font-size: ${h(i)??""}; opacity: 0.5;`)),m(v,g)};D(u,v=>{h(o)?v(d):v(f,!1)})}m(r,c),ce()}const ir=(()=>{/*!
* Copyright (c) 2021-2024 Momo Bassit.
* Licensed under the MIT License (MIT)
* https://github.com/mdbassit/Coloris
* Version: 0.24.0
* NPM: https://github.com/melloware/coloris-npm
*/return((r,e,t,n)=>{const a=e.createElement("canvas").getContext("2d"),s={r:0,g:0,b:0,h:0,s:0,v:0,a:1};let i,o,l,c,u,d,f,v,g,p,y,_,$,b,k,x,P={};const S={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:()=>n,a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},I={};let j="",R={},O=!1;function M(E){if(typeof E=="object")for(const F in E)switch(F){case"el":ue(E.el),E.wrap!==!1&&Te(E.el);break;case"parent":i=E.parent instanceof HTMLElement?E.parent:e.querySelector(E.parent),i&&(i.appendChild(o),S.parent=E.parent,i===e.body&&(i=n));break;case"themeMode":S.themeMode=E.themeMode,E.themeMode==="auto"&&r.matchMedia&&r.matchMedia("(prefers-color-scheme: dark)").matches&&(S.themeMode="dark");case"theme":E.theme&&(S.theme=E.theme),o.className=`clr-picker clr-${S.theme} clr-${S.themeMode}`,S.inline&&ge();break;case"rtl":S.rtl=!!E.rtl,Array.from(e.getElementsByClassName("clr-field")).forEach(oe=>oe.classList.toggle("clr-rtl",S.rtl));break;case"margin":E.margin*=1,S.margin=isNaN(E.margin)?S.margin:E.margin;break;case"wrap":E.el&&E.wrap&&Te(E.el);break;case"formatToggle":S.formatToggle=!!E.formatToggle,Je("clr-format").style.display=S.formatToggle?"block":"none",S.formatToggle&&(S.format="auto");break;case"swatches":if(Array.isArray(E.swatches)){const oe=Je("clr-swatches"),me=e.createElement("div");oe.textContent="",E.swatches.forEach((Re,tt)=>{const Ce=e.createElement("button");Ce.setAttribute("type","button"),Ce.setAttribute("id",`clr-swatch-${tt}`),Ce.setAttribute("aria-labelledby",`clr-swatch-label clr-swatch-${tt}`),Ce.style.color=Re,Ce.textContent=Re,me.appendChild(Ce)}),E.swatches.length&&oe.appendChild(me),S.swatches=E.swatches.slice()}break;case"swatchesOnly":S.swatchesOnly=!!E.swatchesOnly,o.setAttribute("data-minimal",S.swatchesOnly);break;case"alpha":S.alpha=!!E.alpha,o.setAttribute("data-alpha",S.alpha);break;case"inline":if(S.inline=!!E.inline,o.setAttribute("data-inline",S.inline),S.inline){const oe=E.defaultColor||S.defaultColor;b=B(oe),ge(),Pe(oe)}break;case"clearButton":typeof E.clearButton=="object"&&(E.clearButton.label&&(S.clearLabel=E.clearButton.label,f.innerHTML=S.clearLabel),E.clearButton=E.clearButton.show),S.clearButton=!!E.clearButton,f.style.display=S.clearButton?"block":"none";break;case"clearLabel":S.clearLabel=E.clearLabel,f.innerHTML=S.clearLabel;break;case"closeButton":S.closeButton=!!E.closeButton,S.closeButton?o.insertBefore(v,u):u.appendChild(v);break;case"closeLabel":S.closeLabel=E.closeLabel,v.innerHTML=S.closeLabel;break;case"a11y":const z=E.a11y;let Z=!1;if(typeof z=="object")for(const oe in z)z[oe]&&S.a11y[oe]&&(S.a11y[oe]=z[oe],Z=!0);if(Z){const oe=Je("clr-open-label"),me=Je("clr-swatch-label");oe.innerHTML=S.a11y.open,me.innerHTML=S.a11y.swatch,v.setAttribute("aria-label",S.a11y.close),f.setAttribute("aria-label",S.a11y.clear),g.setAttribute("aria-label",S.a11y.hueSlider),y.setAttribute("aria-label",S.a11y.alphaSlider),d.setAttribute("aria-label",S.a11y.input),l.setAttribute("aria-label",S.a11y.instruction)}break;default:S[F]=E[F]}}function H(E,F){typeof E=="string"&&typeof F=="object"&&(I[E]=F,O=!0)}function W(E){delete I[E],Object.keys(I).length===0&&(O=!1,E===j&&ne())}function Q(E){if(O){const F=["el","wrap","rtl","inline","defaultColor","a11y"];for(let z in I){const Z=I[z];if(E.matches(z)){j=z,R={},F.forEach(oe=>delete Z[oe]);for(let oe in Z)R[oe]=Array.isArray(S[oe])?S[oe].slice():S[oe];M(Z);break}}}}function ne(){Object.keys(R).length>0&&(M(R),j="",R={})}function ue(E){E instanceof HTMLElement&&(E=[E]),Array.isArray(E)?E.forEach(F=>{Ie(F,"click",fe),Ie(F,"input",de)}):(Ie(e,"click",E,fe),Ie(e,"input",E,de))}function fe(E){S.inline||(Q(E.target),$=E.target,k=$.value,b=B(k),o.classList.add("clr-open"),ge(),Pe(k),(S.focusInput||S.selectInput)&&(d.focus({preventScroll:!0}),d.setSelectionRange($.selectionStart,$.selectionEnd)),S.selectInput&&d.select(),(x||S.swatchesOnly)&&Ts().shift().focus(),$.dispatchEvent(new Event("open",{bubbles:!0})))}function ge(){if(!o||!$&&!S.inline)return;const E=i,F=r.scrollY,z=o.offsetWidth,Z=o.offsetHeight,oe={left:!1,top:!1};let me,Re,tt,Ce={x:0,y:0};if(E&&(me=r.getComputedStyle(E),Re=parseFloat(me.marginTop),tt=parseFloat(me.borderTopWidth),Ce=E.getBoundingClientRect(),Ce.y+=tt+F),!S.inline){const rt=$.getBoundingClientRect();let Jt=rt.x,or=F+rt.y+rt.height+S.margin;E?(Jt-=Ce.x,or-=Ce.y,Jt+z>E.clientWidth&&(Jt+=rt.width-z,oe.left=!0),or+Z>E.clientHeight-Re&&Z+S.margin<=rt.top-(Ce.y-F)&&(or-=rt.height+Z+S.margin*2,oe.top=!0),or+=E.scrollTop):(Jt+z>e.documentElement.clientWidth&&(Jt+=rt.width-z,oe.left=!0),or+Z-F>e.documentElement.clientHeight&&Z+S.margin<=rt.top&&(or=F+rt.y-Z-S.margin,oe.top=!0)),o.classList.toggle("clr-left",oe.left),o.classList.toggle("clr-top",oe.top),o.style.left=`${Jt}px`,o.style.top=`${or}px`,Ce.x+=o.offsetLeft,Ce.y+=o.offsetTop}P={width:l.offsetWidth,height:l.offsetHeight,x:l.offsetLeft+Ce.x,y:l.offsetTop+Ce.y}}function Te(E){E instanceof HTMLElement?_e(E):Array.isArray(E)?E.forEach(_e):e.querySelectorAll(E).forEach(_e)}function _e(E){const F=E.parentNode;if(!F.classList.contains("clr-field")){const z=e.createElement("div");let Z="clr-field";(S.rtl||E.classList.contains("clr-rtl"))&&(Z+=" clr-rtl"),z.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',F.insertBefore(z,E),z.className=Z,z.style.color=E.value,z.appendChild(E)}}function de(E){const F=E.target.parentNode;F.classList.contains("clr-field")&&(F.style.color=E.target.value)}function $e(E){if($&&!S.inline){const F=$;E&&($=n,k!==F.value&&(F.value=k,F.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(()=>{k!==F.value&&F.dispatchEvent(new Event("change",{bubbles:!0}))}),o.classList.remove("clr-open"),O&&ne(),F.dispatchEvent(new Event("close",{bubbles:!0})),S.focusInput&&F.focus({preventScroll:!0}),$=n}}function Pe(E){const F=nl(E),z=rl(F);J(z.s,z.v),dt(F,z),g.value=z.h,o.style.color=`hsl(${z.h}, 100%, 50%)`,p.style.left=`${z.h/360*100}%`,c.style.left=`${P.width*z.s/100}px`,c.style.top=`${P.height-P.height*z.v/100}px`,y.value=z.a*100,_.style.left=`${z.a*100}%`}function B(E){const F=E.substring(0,3).toLowerCase();return F==="rgb"||F==="hsl"?F:"hex"}function L(E){E=E!==n?E:d.value,$&&($.value=E,$.dispatchEvent(new Event("input",{bubbles:!0}))),S.onChange&&S.onChange.call(r,E,$),e.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:E,currentEl:$}}))}function U(E,F){const z={h:g.value*1,s:E/P.width*100,v:100-F/P.height*100,a:y.value/100},Z=el(z);J(z.s,z.v),dt(Z,z),L()}function J(E,F){let z=S.a11y.marker;E=E.toFixed(1)*1,F=F.toFixed(1)*1,z=z.replace("{s}",E),z=z.replace("{v}",F),c.setAttribute("aria-label",z)}function Ne(E){return{pageX:E.changedTouches?E.changedTouches[0].pageX:E.pageX,pageY:E.changedTouches?E.changedTouches[0].pageY:E.pageY}}function Ae(E){const F=Ne(E);let z=F.pageX-P.x,Z=F.pageY-P.y;i&&(Z+=i.scrollTop),et(z,Z),E.preventDefault(),E.stopPropagation()}function Fe(E,F){let z=c.style.left.replace("px","")*1+E,Z=c.style.top.replace("px","")*1+F;et(z,Z)}function et(E,F){E=E<0?0:E>P.width?P.width:E,F=F<0?0:F>P.height?P.height:F,c.style.left=`${E}px`,c.style.top=`${F}px`,U(E,F),c.focus()}function dt(E,F){E===void 0&&(E={}),F===void 0&&(F={});let z=S.format;for(const me in E)s[me]=E[me];for(const me in F)s[me]=F[me];const Z=al(s),oe=Z.substring(0,7);switch(c.style.color=oe,_.parentNode.style.color=oe,_.style.color=Z,u.style.color=Z,l.style.display="none",l.offsetHeight,l.style.display="",_.nextElementSibling.style.display="none",_.nextElementSibling.offsetHeight,_.nextElementSibling.style.display="",z==="mixed"?z=s.a===1?"hex":"rgb":z==="auto"&&(z=b),z){case"hex":d.value=Z;break;case"rgb":d.value=sl(s);break;case"hsl":d.value=il(tl(s));break}e.querySelector(`.clr-format [value="${z}"]`).checked=!0}function bt(){const E=g.value*1,F=c.style.left.replace("px","")*1,z=c.style.top.replace("px","")*1;o.style.color=`hsl(${E}, 100%, 50%)`,p.style.left=`${E/360*100}%`,U(F,z)}function Gt(){const E=y.value/100;_.style.left=`${E*100}%`,dt({a:E}),L()}function el(E){const F=E.s/100,z=E.v/100;let Z=F*z,oe=E.h/60,me=Z*(1-t.abs(oe%2-1)),Re=z-Z;Z=Z+Re,me=me+Re;const tt=t.floor(oe)%6,Ce=[Z,me,Re,Re,me,Z][tt],rt=[me,Z,Z,me,Re,Re][tt],Jt=[Re,Re,me,Z,Z,me][tt];return{r:t.round(Ce*255),g:t.round(rt*255),b:t.round(Jt*255),a:E.a}}function tl(E){const F=E.v/100,z=F*(1-E.s/100/2);let Z;return z>0&&z<1&&(Z=t.round((F-z)/t.min(z,1-z)*100)),{h:E.h,s:Z||0,l:t.round(z*100),a:E.a}}function rl(E){const F=E.r/255,z=E.g/255,Z=E.b/255,oe=t.max(F,z,Z),me=t.min(F,z,Z),Re=oe-me,tt=oe;let Ce=0,rt=0;return Re&&(oe===F&&(Ce=(z-Z)/Re),oe===z&&(Ce=2+(Z-F)/Re),oe===Z&&(Ce=4+(F-z)/Re),oe&&(rt=Re/oe)),Ce=t.floor(Ce*60),{h:Ce<0?Ce+360:Ce,s:t.round(rt*100),v:t.round(tt*100),a:E.a}}function nl(E){const F=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i;let z,Z;return a.fillStyle="#000",a.fillStyle=E,z=F.exec(a.fillStyle),z?Z={r:z[3]*1,g:z[4]*1,b:z[5]*1,a:z[6]*1}:(z=a.fillStyle.replace("#","").match(/.{2}/g).map(oe=>parseInt(oe,16)),Z={r:z[0],g:z[1],b:z[2],a:1}),Z}function al(E){let F=E.r.toString(16),z=E.g.toString(16),Z=E.b.toString(16),oe="";if(E.r<16&&(F="0"+F),E.g<16&&(z="0"+z),E.b<16&&(Z="0"+Z),S.alpha&&(E.a<1||S.forceAlpha)){const me=E.a*255|0;oe=me.toString(16),me<16&&(oe="0"+oe)}return"#"+F+z+Z+oe}function sl(E){return!S.alpha||E.a===1&&!S.forceAlpha?`rgb(${E.r}, ${E.g}, ${E.b})`:`rgba(${E.r}, ${E.g}, ${E.b}, ${E.a})`}function il(E){return!S.alpha||E.a===1&&!S.forceAlpha?`hsl(${E.h}, ${E.s}%, ${E.l}%)`:`hsla(${E.h}, ${E.s}%, ${E.l}%, ${E.a})`}function ol(){e.getElementById("clr-picker")||(i=n,o=e.createElement("div"),o.setAttribute("id","clr-picker"),o.className="clr-picker",o.innerHTML=`<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="${S.a11y.input}"><div id="clr-color-area" class="clr-gradient" role="application" aria-label="${S.a11y.instruction}"><div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue"><input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="${S.a11y.hueSlider}"><div id="clr-hue-marker"></div></div><div class="clr-alpha"><input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="${S.a11y.alphaSlider}"><div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented"><legend>${S.a11y.format}</legend><input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div><button type="button" id="clr-clear" class="clr-clear" aria-label="${S.a11y.clear}">${S.clearLabel}</button><div id="clr-color-preview" class="clr-preview"><button type="button" id="clr-close" class="clr-close" aria-label="${S.a11y.close}">${S.closeLabel}</button></div><span id="clr-open-label" hidden>${S.a11y.open}</span><span id="clr-swatch-label" hidden>${S.a11y.swatch}</span>`,e.body.appendChild(o),l=Je("clr-color-area"),c=Je("clr-color-marker"),f=Je("clr-clear"),v=Je("clr-close"),u=Je("clr-color-preview"),d=Je("clr-color-value"),g=Je("clr-hue-slider"),p=Je("clr-hue-marker"),y=Je("clr-alpha-slider"),_=Je("clr-alpha-marker"),ue(S.el),Te(S.el),Ie(o,"mousedown",E=>{o.classList.remove("clr-keyboard-nav"),E.stopPropagation()}),Ie(l,"mousedown",E=>{Ie(e,"mousemove",Ae)}),Ie(l,"contextmenu",E=>{E.preventDefault()}),Ie(l,"touchstart",E=>{e.addEventListener("touchmove",Ae,{passive:!1})}),Ie(c,"mousedown",E=>{Ie(e,"mousemove",Ae)}),Ie(c,"touchstart",E=>{e.addEventListener("touchmove",Ae,{passive:!1})}),Ie(d,"change",E=>{const F=d.value;if($||S.inline){const z=F===""?F:Pe(F);L(z)}}),Ie(f,"click",E=>{L(""),$e()}),Ie(v,"click",E=>{L(),$e()}),Ie(Je("clr-format"),"click",".clr-format input",E=>{b=E.target.value,dt(),L()}),Ie(o,"click",".clr-swatches button",E=>{Pe(E.target.textContent),L(),S.swatchesOnly&&$e()}),Ie(e,"mouseup",E=>{e.removeEventListener("mousemove",Ae)}),Ie(e,"touchend",E=>{e.removeEventListener("touchmove",Ae)}),Ie(e,"mousedown",E=>{x=!1,o.classList.remove("clr-keyboard-nav"),$e()}),Ie(e,"keydown",E=>{const F=E.key,z=E.target,Z=E.shiftKey;if(F==="Escape"?$e(!0):["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(F)&&(x=!0,o.classList.add("clr-keyboard-nav")),F==="Tab"&&z.matches(".clr-picker *")){const me=Ts(),Re=me.shift(),tt=me.pop();Z&&z===Re?(tt.focus(),E.preventDefault()):!Z&&z===tt&&(Re.focus(),E.preventDefault())}}),Ie(e,"click",".clr-field button",E=>{O&&ne(),E.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),Ie(c,"keydown",E=>{const F={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(F).includes(E.key)&&(Fe(...F[E.key]),E.preventDefault())}),Ie(l,"click",Ae),Ie(g,"input",bt),Ie(y,"input",Gt))}function Ts(){return Array.from(o.querySelectorAll("input, button")).filter(z=>!!z.offsetWidth)}function Je(E){return e.getElementById(E)}function Ie(E,F,z,Z){const oe=Element.prototype.matches||Element.prototype.msMatchesSelector;typeof z=="string"?E.addEventListener(F,me=>{oe.call(me.target,z)&&Z.call(me.target,me)}):(Z=z,E.addEventListener(F,Z))}function En(E,F){F=F!==n?F:[],e.readyState!=="loading"?E(...F):e.addEventListener("DOMContentLoaded",()=>{E(...F)})}NodeList!==n&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function ll(E,F){$=F,k=$.value,Q(F),b=B(E),ge(),Pe(E),L(),k!==E&&$.dispatchEvent(new Event("change",{bubbles:!0}))}const va=(()=>{const E={init:ol,set:M,wrap:Te,close:$e,setInstance:H,setColor:ll,removeInstance:W,updatePosition:ge,ready:En};function F(z){En(()=>{z&&(typeof z=="string"?ue(z):M(z))})}for(const z in E)F[z]=function(){for(var Z=arguments.length,oe=new Array(Z),me=0;me<Z;me++)oe[me]=arguments[me];En(E[z],oe)};return En(()=>{r.addEventListener("resize",z=>{F.updatePosition()}),r.addEventListener("scroll",z=>{F.updatePosition()})}),F})();return va.coloris=va,va})(window,document,Math)})(),Rv=ir.coloris,Nv=ir.init;ir.set;ir.wrap;ir.close;ir.setInstance;ir.removeInstance;ir.updatePosition;var Dv=A('<div class="flex flex-col gap-2 w-fit"><label class="text-sm font-medium text-gray-700 dark:text-gray-300">Pick a color</label> <input type="text" class="border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none w-40 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"> <div class="text-sm mt-1"> </div></div>');function Yr(r,e){le(e,!0);let t=q(e,"color",15),n=`coloris-${Math.random().toString(36).substring(2,9)}`;Ge(()=>{Nv(),Rv({el:`#${n}`,theme:"default",alpha:!1})});var a=Dv(),s=w(a);he(s,"for",n);var i=T(s,2);he(i,"id",n);var o=T(i,2),l=w(o);G(()=>X(l,t())),Be(i,t),m(r,a),ce()}const je=K({show:!1,title:"",message:"",cancelLabel:"Cancel",confirmLabel:"Yes",component:null,props:null,resolve:null});function Qa(r,e,t="Cancel",n="Yes",a=null,s=null){return new Promise(i=>{je.title=r,je.message=e,je.cancelLabel=t,je.confirmLabel=n,je.show=!0,je.component=a,je.props=s,je.resolve=i})}function Ta(r){je.resolve&&(je.resolve(r),je.resolve=null,je.component=null),je.show=!1}const Mv=r=>r;function Yo(r){const e=r-1;return e*e*e+1}function Si(r){const e=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[r,"px"]}function Qo(r,{delay:e=0,duration:t=400,easing:n=Mv}={}){const a=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*a}`}}function Bv(r,{delay:e=0,duration:t=400,easing:n=Yo,x:a=0,y:s=0,opacity:i=0}={}){const o=getComputedStyle(r),l=+o.opacity,c=o.transform==="none"?"":o.transform,u=l*(1-i),[d,f]=Si(a),[v,g]=Si(s);return{delay:e,duration:t,easing:n,css:(p,y)=>`
			transform: ${c} translate(${(1-p)*d}${f}, ${(1-p)*v}${g});
			opacity: ${l-u*y}`}}function $s(r,{delay:e=0,duration:t=400,easing:n=Yo,start:a=0,opacity:s=0}={}){const i=getComputedStyle(r),o=+i.opacity,l=i.transform==="none"?"":i.transform,c=1-a,u=o*(1-s);return{delay:e,duration:t,easing:n,css:(d,f)=>`
			transform: ${l} scale(${1-c*f});
			opacity: ${o-u*f}
		`}}var Uv=A('<h2 class="text-xl font-semibold text-black mb-2"> </h2>'),Fv=A('<p class="text-gray-700 mb-4"> </p>'),zv=A('<div class="fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50" tabindex="0"><div class="bg-white p-6 rounded-lg shadow-lg text-center max-w-sm w-full" role="dialog" aria-modal="true"><!> <!> <!> <div class="mt-4 flex justify-center space-x-4"><button class="px-4 py-2 bg-white text-gray-700 rounded border border-gray-300 hover:bg-gray-100"> </button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"> </button></div></div></div>');function Xo(r,e){le(e,!1),We();var t=V(),n=N(t);{var a=s=>{var i=zv(),o=w(i),l=w(o);{var c=b=>{var k=Uv(),x=w(k);G(()=>X(x,je.title)),m(b,k)};D(l,b=>{je.title&&b(c)})}var u=T(l,2);{var d=b=>{var k=Fv(),x=w(k);G(()=>X(x,je.message)),m(b,k)};D(u,b=>{je.message&&b(d)})}var f=T(u,2);{var v=b=>{var k=V(),x=N(k);Nt(x,()=>je.component,(P,S)=>{S(P,{get props(){return je.props}})}),m(b,k)};D(f,b=>{je.component&&b(v)})}var g=T(f,2),p=w(g),y=w(p),_=T(p,2),$=w(_);G(()=>{X(y,je.cancelLabel),X($,je.confirmLabel)}),Y("click",p,()=>Ta(!1)),Y("click",_,()=>Ta((je==null?void 0:je.props)??!0)),Y("click",o,oa(function(b){ds.call(this,e,b)})),Nr(3,o,()=>$s,()=>({duration:200})),Y("click",i,()=>Ta(!1)),Nr(3,i,()=>Qo),m(s,i)};D(n,s=>{je.show&&s(a)})}m(r,t),ce()}var qv=A('<input placeholder="Rename form name" class="border p-2 w-full">');function Hv(r,e){le(e,!0);let t=q(e,"props",15);var n=qv();Be(n,()=>t().name,a=>t(t().name=a,!0)),m(r,n),ce()}const fn="https://fabform.io";var Vv=A('<a><!> <span class="text-xs mt-0.5"> </span></a>'),Wv=A('<div class="w-full fixed top-0 left-0 z-50 bg-white border-b border-gray-200 shadow-sm"><nav class="w-full flex items-center justify-between px-4 py-2"><div class="flex items-center space-x-2"><!> <p class="ml-4 font-semibold "> </p></div> <div class="flex items-center space-x-6"></div> <div class="flex items-center gap-2"><!> <!></div></nav></div>');function Gv(r,e){let t=q(e,"formName",3,""),n=q(e,"activeMenuLabel",3,""),a=q(e,"currentFormId",3,"");q(e,"formId",3,"");const s=[{icon:Ch,label:"Build",url:`/form/build/${a()}`},{icon:Bh,label:"Design",url:`/form/design/${a()}`},{icon:fa,label:"Integrate",url:`/integrate/${a()}`},{icon:Gh,label:"Share",url:`/share/${a()}`},{icon:ph,label:"Responses",url:`/responses/${a()}`}];var i=Wv(),o=w(i),l=w(o),c=w(l);Ev(c,{});var u=T(c,2),d=w(u),f=T(l,2);Me(f,21,()=>s,Ue,($,b)=>{let k=()=>h(b).icon,x=()=>h(b).label,P=()=>h(b).url;var S=Vv(),I=w(S);Nt(I,k,(O,M)=>{M(O,{size:24})});var j=T(I,2),R=w(j);ut(S,O=>Ye==null?void 0:Ye(O)),G(()=>{he(S,"href",P()),Se(S,`flex flex-col items-center transition-all duration-200 cursor-pointer
                  ${x()===n()?"text-blue-600 font-semibold scale-110":"text-gray-600 hover:text-blue-500"}`),X(R,x())}),m($,S)});var v=T(f,2),g=w(v);const p=be(()=>`${fn}/v/${a()}`);yv(g,{get url(){return h(p)}});var y=T(g,2);const _=be(()=>`${fn}/v/${a()}`);Go(y,{get link(){return h(_)}}),G(()=>X(d,t())),m(r,i)}function Ht(r,e){const t=n=>{r.contains(n.target)||e==null||e()};return document.addEventListener("mousedown",t,!0),{update(n){e=n},destroy(){document.removeEventListener("mousedown",t,!0)}}}var Jv=A('<a href="/account/password" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition"><!> Change Password</a> <div class="px-4 py-2 text-sm text-gray-500 border-t border-gray-100"> </div> <button class="flex w-full text-left items-center gap-2 px-4 py-2 text-red-600 hover:bg-gray-100 hover:text-red-700 transition"><!> Logout</button>',1),Kv=A('<a href="/login" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition"><!> Login</a> <a href="/signup" class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-purple-600 transition"><!> Signup</a>',1),Yv=A('<div class="absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg py-2 z-50"><!></div>'),Qv=A('<nav class="bg-white border-b border-gray-200 shadow-sm px-6 py-4 font-sans"><div class="flex justify-between items-center"><a href="/" class="flex items-center"><img src="/logo.png" alt="FabForm Logo" class="h-8 w-auto hover:opacity-80 transition"></a> <div class="relative"><button class="focus:outline-none"><span class="text-gray-600 font-bold text-xl"></span></button> <!></div></div></nav>');function Xv(r,e){le(e,!1);const{state:t,logout:n}=ot;let a=ye(!1);const s=async()=>{C(a,!1),await n(),$t("/login")},i=()=>C(a,!h(a));We();var o=Qv(),l=w(o),c=w(l);ut(c,g=>Ye==null?void 0:Ye(g));var u=T(c,2),d=w(u),f=T(d,2);{var v=g=>{var p=Yv(),y=w(p);{var _=b=>{var k=Jv(),x=N(k),P=w(x);jh(P,{class:"w-4 h-4"}),ut(x,O=>Ye==null?void 0:Ye(O)),it(()=>Y("click",x,()=>C(a,!1)));var S=T(x,2),I=w(S),j=T(S,2),R=w(j);Nh(R,{class:"w-4 h-4"}),G(()=>X(I,t.user.email)),Y("click",j,s),m(b,k)},$=b=>{var k=Kv(),x=N(k),P=w(x);Rh(P,{class:"w-4 h-4"}),ut(x,j=>Ye==null?void 0:Ye(j)),it(()=>Y("click",x,()=>C(a,!1)));var S=T(x,2),I=w(S);nv(I,{class:"w-4 h-4"}),ut(S,j=>Ye==null?void 0:Ye(j)),it(()=>Y("click",S,()=>C(a,!1))),m(b,k)};D(y,b=>{t.user?b(_):b($,!1)})}ut(p,(b,k)=>Ht==null?void 0:Ht(b,k),()=>()=>C(a,!1)),m(g,p)};D(f,g=>{h(a)&&g(v)})}Y("click",d,i),m(r,o),ce()}function Ss(r,e){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>r(...n),e)}}var Zv=A('<div class="flex items-center justify-center h-screen"><!></div>'),eg=A('<main class="h-screen flex flex-col"><!> <!></main>');function ha(r,e){le(e,!0);let t=q(e,"form",15),n=q(e,"formId",7),a=ae("loading");const s=Ss(u=>{C(a,K(u))},500);Ge(async()=>{const u=await xs(n());u.success||C(a,"notfound"),t(u.data.form),s("ok")});var i=V(),o=N(i);{var l=u=>{var d=Zv(),f=w(d);$v(f),m(u,d)},c=u=>{var d=V(),f=N(d);{var v=p=>{Pv(p,{})},g=p=>{var y=eg(),_=w(y);Gv(_,{get activeMenuLabel(){return e.activeMenuLabel},get formName(){return t().name},get currentFormId(){return n()},set currentFormId(b){n(b)}});var $=T(_,2);Pc($,()=>e.children??Ve),m(p,y)};D(f,p=>{h(a)==="notfound"?p(v):p(g,!1)},!0)}m(u,d)};D(o,u=>{h(a)==="loading"?u(l):u(c,!1)})}m(r,i),ce()}var tg=A('<p class="text-gray-500 font-semibold mt-2 mb-1">Welcome Screen</p>'),rg=A('<p class="text-gray-500 font-semibold mt-2 mb-1">Thank You Screen</p>'),ng=A('<p class="text-gray-500 font-semibold mt-2 mb-1">Blocks</p>'),ag=A('<!> <div><div class="flex items-center gap-1 flex-1 text-sm text-gray-800"><div class="shrink-0"><!></div> <span class="truncate mx-2 block"> </span></div> <div class="shrink-0 pointer-events-auto relative opacity-0 group-hover:opacity-100 transition-opacity duration-300"><!></div></div>',1),sg=A('<section class="p-2 space-y-1 min-h-[100px] pb-20 overflow-hidden"></section>');function ig(r,e){le(e,!1);let t=q(e,"blocks",24,()=>[]),n=q(e,"blockNo",12,null),a=q(e,"changeBlock",8),s=q(e,"deleteBlock",8),i=q(e,"duplicateBlock",8);function o(u,d){n(d),a()(d)}const l=t().some(u=>u.meta.blockTypeId!==1&&u.meta.blockTypeId!==99);We();var c=sg();Me(c,7,t,u=>u.id,(u,d,f)=>{var v=ag(),g=N(v);{var p=R=>{var O=tg();m(R,O)},y=R=>{var O=V(),M=N(O);{var H=Q=>{var ne=rg();m(Q,ne)},W=Q=>{var ne=V(),ue=N(ne);{var fe=ge=>{var Te=ng();m(ge,Te)};D(ue,ge=>{h(f)===0&&l&&ge(fe)},!0)}m(Q,ne)};D(M,Q=>{h(d).meta.blockTypeId===99?Q(H):Q(W,!1)},!0)}m(R,O)};D(g,R=>{h(d).meta.blockTypeId===1?R(p):R(y,!1)})}var _=T(g,2),$=w(_),b=w($),k=w(b);{var x=R=>{var O=V(),M=N(O);Nt(M,()=>h(d).meta.icon,(H,W)=>{W(H,{class:"w-5 h-5 text-blue-600"})}),m(R,O)};D(k,R=>{h(d).meta.icon&&R(x)})}var P=T(b,2),S=w(P),I=T($,2),j=w(I);Jo(j,{dropdownItems:[{label:"Duplicate",icon:"Duplicate",onClick:()=>i()(h(d).id)},{label:"Delete",icon:"Delete",onClick:()=>s()(h(d).id)}]}),G(()=>{Se(_,`block-draggable w-full sm:w-72 flex items-center justify-between gap-2 p-2 rounded-md transition-all h-16 group
              ${h(d).meta.bgColor}
              ${n()===h(f)?"border-2 shadow-lg scale-105":"border border-gray-300 shadow-sm my-2"}`),X(S,h(d).meta.title||h(d).meta.question)}),Y("click",_,()=>o(h(d).id,h(f))),m(u,v)}),m(r,c),ce()}const De=["bg-red-100","bg-orange-100","bg-yellow-100","bg-green-100","bg-blue-100","bg-indigo-100","bg-purple-100","bg-pink-100","bg-fuchsia-100","bg-rose-100","bg-teal-100","bg-emerald-100","bg-cyan-100","bg-lime-100","bg-amber-100","bg-sky-100","bg-violet-100","bg-rose-200","bg-pink-200","bg-fuchsia-200","bg-violet-200","bg-indigo-200","bg-orange-200","bg-yellow-200","bg-green-200"],sn=[{blockTypeId:1,label:"Welcome",title:"Hello There ",description:"Mind giving this form a quick fill?",embed:"",buttonText:"Lets Start",component:"Welcome",textAlign:"center",coverImageProps:{coverImage:"",layout:""},bgColor:De[0],icon:Yh},{blockTypeId:2,label:"Short Text Block",question:"Your question here...",component:"ShortText",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:De[1],icon:qh},{blockTypeId:3,label:"Long Text Block",question:"Your question here...",component:"LongText",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here...",maxCharacters:"",size:"Medium"},textAlign:"left",coverImageProps:{coverImage:"",layout:""},bgColor:De[2],icon:wh},{blockTypeId:4,label:"Single Select Option",question:"Which do you prefer?",component:"Select",buttonText:"Next",validation:{required:!1},props:{choices:[],multiple:!1},coverImageProps:{coverImage:"",layout:""},bgColor:De[3],icon:mh},{blockTypeId:5,label:"Multi Select Option",question:"Please choose at least one option",component:"Select",buttonText:"Next",validation:{required:!1},props:{choices:[],multiple:!0},coverImageProps:{coverImage:"",layout:""},bgColor:De[4],icon:Lh},{blockTypeId:6,label:"Dropdown",question:"Please choose",component:"DropdownBlock",buttonText:"Next",validation:{required:!1},props:{choices:["One","Two","Three"]},coverImageProps:{coverImage:"",layout:""},bgColor:De[5],icon:Xh},{blockTypeId:7,label:"StarRating",question:"How would you rate your experience?",component:"StarRating",buttonText:"Next",validation:{required:!1},props:{maxRating:"5"},coverImageProps:{coverImage:"",layout:""},bgColor:De[6],icon:Vo},{blockTypeId:8,label:"DatePicker",question:"Please select a date",component:"DatePicker",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[7],icon:gh},{blockTypeId:9,label:"Number",question:"Please enter a number",component:"Number",buttonText:"Next",validation:{required:!1},props:{placeholder:""},coverImageProps:{coverImage:"",layout:""},bgColor:De[8],icon:Ah},{blockTypeId:10,label:"OpinionScale",question:"How likely are you to recommend us?",component:"OpinionScale",buttonText:"Next",validation:{required:!1},props:{start:"1",end:"10",leftLabel:"Good",rightLabel:"Bad"},coverImageProps:{coverImage:"",layout:""},bgColor:De[9],icon:Th},{blockTypeId:11,label:"PhoneNumber",question:"Please enter a phone number",component:"PhoneNumber",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[10],icon:Uh},{blockTypeId:12,label:"Statement",title:"This is The Statement Block",description:"This is where you would put your statement text here",component:"Statement",buttonText:"Next",props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[11],icon:Wh},{blockTypeId:14,label:"Website URL",question:"Please enter a URL",component:"Website",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[13],icon:fa},{blockTypeId:15,label:"Scheduler URL",component:"Scheduler",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[14],icon:ev},{blockTypeId:16,label:"FileUploader",component:"FileUploader",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[15],icon:rv},{blockTypeId:17,label:"Email",question:"Your email address?",component:"Email",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:De[16],icon:Dh},{blockTypeId:18,label:"Checkbox",question:"Please check if....",component:"CheckboxBlock",buttonText:"Next",validation:{required:!1},props:{placeholder:"Your answer here..."},coverImageProps:{coverImage:"",layout:""},bgColor:De[17],icon:Qh},{blockTypeId:19,label:"MoodMeter",question:"How did we make you feel?",component:"MoodMeter",buttonText:"Next",validation:{required:!1},coverImageProps:{coverImage:"",layout:""},bgColor:De[18],icon:Kh},{blockTypeId:20,label:"Timeslot Picker",title:"Timeslot Picker",description:"",embed:"",component:"TimeSlotPicker",textAlign:"center",coverImageProps:{coverImage:"",layout:""},bgColor:De[20],icon:Fo},{blockTypeId:98,label:"Signature",title:"Signature",component:"Signature",buttonText:"Next",validation:{required:!1},props:{},coverImageProps:{coverImage:"",layout:""},bgColor:De[12],icon:Jh},{blockTypeId:99,label:"ThankYou",title:"Thanks",description:"We will get back to you soon",embed:"",component:"ThankYou",buttonText:"Submit",textAlign:"center",coverImageProps:{coverImage:"",layout:""},bgColor:De[20],icon:Mh}];var og=A('<div class="mb-4 p-4 bg-red-100 text-red-800 rounded"> </div>'),lg=A('<div class="flex flex-col items-center justify-center py-20 bg-gray-100 rounded-lg text-center space-y-4"><!> <h2 class="text-xl font-semibold text-gray-700">No forms created yet</h2> <p class="text-gray-500">Click "New Form" to get started.</p></div>'),cg=A('<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6"></div>'),ug=A('<!> <div class="p-6 min-h-screen bg-gray-50 text-black"><!> <div class="flex justify-between items-center mb-6"><h1 class="text-2xl font-bold">My Forms</h1> <button class="flex items-center gap-2 px-4 py-2 bg-black text-white rounded-xl hover:bg-neutral-800 transition"><!> New Form</button></div> <!> <!></div>',1);function dg(r,e){le(e,!1);let t=null,n=ye([]),a=ye({}),s=ye({}),i=ye("");async function o(){var O;t=ot.state.user||await ot.getUser(),t&&((O=t.user_metadata)==null||O.isPaid,await l())}async function l(){if(t)try{const O=await Kf(t.id);C(n,O.success&&Array.isArray(O.data.forms)?O.data.forms:[]),await Promise.all(h(n).map(async M=>{const H=await nh(M.id);zn(a,h(a)[M.id]=H.success?H.data.count:0);const W=await eh(M.id);zn(s,h(s)[M.id]=W.success?W.data.views:0)}))}catch{C(i,"Failed to load forms"),C(n,[])}}async function c(){var M;if(C(i,""),!t){C(i,"User not loaded yet");return}const O={name:"Untitled Form",user_id:t.id,meta:{}};try{const H=await Yf(O);if(H.success){const W=H.data.id;await Ga(W,sn[0]),await Ga(W,sn[sn.length-1]),await l()}else C(i,((M=H.data)==null?void 0:M.error)||"Failed to create form")}catch(H){C(i,H.message||"Error creating form")}}function u(O){window.location.href=fn+`/v/${O}`}function d(O){navigator.clipboard.writeText(fn+`/v/${O}`)}async function f(O){var H;const M=await Qa("Rename form","","Cancel","Rename",Hv,{name:"Untitled"});(H=M==null?void 0:M.name)!=null&&H.trim()&&(await Wa({id:O,name:M.name})).success&&await l()}async function v(O){await Qa("Delete Confirmation","Are you sure?","Cancel","Delete")&&(await Qf(O)).success&&await l()}async function g(O){const{success:M}=await Xf(O);M&&await l()}Ge(o),We();var p=ug(),y=N(p);Xv(y,{});var _=T(y,2),$=w(_);Xo($,{});var b=T($,2),k=T(w(b),2);k.__click=c;var x=w(k);Fh(x,{class:"w-5 h-5"});var P=T(b,2);{var S=O=>{var M=og(),H=w(M);G(()=>X(H,h(i))),m(O,M)};D(P,O=>{h(i)&&O(S)})}var I=T(P,2);{var j=O=>{var M=lg(),H=w(M);Ho(H,{class:"w-16 h-16 text-gray-400"}),m(O,M)},R=O=>{var M=cg();Me(M,5,()=>h(n),Ue,(H,W)=>{mv(H,{get form(){return h(W)},get responseCount(){return h(a)[h(W).id]},get formViewCount(){return h(s)[h(W).id]},onOpen:()=>u(h(W).id),onCopy:()=>d(h(W).id),onRenameForm:()=>f(h(W).id),onDelete:()=>v(h(W).id),onDuplicate:()=>g(h(W).id)})}),m(O,M)};D(I,O=>{h(n).length===0?O(j):O(R,!1)})}m(r,p),ce()}ar(["click"]);var fg=A('<button><!> <span class="text-center font-semibold svelte-1r71yjz"> </span></button>'),hg=A(`<div class="fixed inset-0 flex items-center justify-center z-50 bg-black/30 svelte-1r71yjz" tabindex="0" role="dialog" aria-modal="true"><div class="bg-white rounded-2xl w-[92vw] max-w-5xl p-6 shadow-2xl
             flex flex-col gap-6 items-center animate-fade-scale-in
             max-h-[90vh] overflow-hidden svelte-1r71yjz"><div class="w-full flex justify-between items-center shrink-0 svelte-1r71yjz"><h2 class="text-2xl font-semibold tracking-tight text-gray-900 select-none svelte-1r71yjz">Choose your block</h2> <button aria-label="Close" class="p-2 hover:bg-gray-200 rounded-md transition-colors duration-200 svelte-1r71yjz"><!></button></div> <div class="w-full grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-5
               overflow-y-auto pr-1 svelte-1r71yjz" style="max-height: calc(90vh - 80px);"></div></div></div>`);function vg(r,e){le(e,!0);const t=Fl("blockPickerClick")??(()=>{});function n(l){t(l),e.close()}function a(l){l.key==="Escape"&&e.close()}var s=V(),i=N(s);{var o=l=>{var c=hg(),u=w(c),d=w(u),f=T(w(d),2),v=w(f);av(v,{class:"w-6 h-6 text-gray-700 hover:text-gray-900"});var g=T(d,2);Me(g,21,()=>sn,Ue,(p,y)=>{var _=fg(),$=w(_);{var b=P=>{var S=V(),I=N(S);Nt(I,()=>h(y).icon,(j,R)=>{R(j,{class:"mb-2 w-7 h-7 text-blue-600"})}),m(P,S)};D($,P=>{h(y).icon&&P(b)})}var k=T($,2),x=w(k);G(()=>{Se(_,`${`relative flex flex-col items-center justify-center
                    p-5 rounded-xl cursor-pointer select-none border-2
                    min-h-[115px] min-w-[115px] text-gray-900 text-sm
                    transition-all duration-300 ease-in-out
                    ${h(y).bgColor}
                    border-gray-300 hover:shadow-[0_4px_15px_rgba(0,0,0,0.1)]
                    hover:scale-105 hover:border-indigo-400`??""} svelte-1r71yjz`),X(x,h(y).label)}),Y("click",_,()=>n(h(y))),m(p,_)}),Y("click",f,function(...p){var y;(y=e.close)==null||y.apply(this,p)}),Y("click",u,oa(function(p){ds.call(this,e,p)})),Y("click",c,()=>e.close()),Y("keydown",c,a),m(l,c)};D(i,l=>{e.show&&l(o)})}m(r,s),ce()}var gg=A("<div><!></div>"),pg=A('<div class="w-full h-48 md:h-64 bg-cover bg-center"></div>'),mg=A('<div class="flex flex-col items-center w-full min-h-screen"><!> <div class="flex flex-col justify-center items-center w-full p-4"><!></div></div>'),bg=A('<div class="w-full md:w-1/2 h-48 md:h-auto bg-cover bg-center"></div>'),yg=A('<div class="flex flex-col md:flex-row w-full min-h-screen"><!> <div class="w-full md:w-1/2 flex flex-col justify-center items-center p-4"><!></div></div>'),_g=A('<div class="w-full md:w-1/2 h-48 md:h-auto bg-cover bg-center"></div>'),wg=A('<div class="flex flex-col md:flex-row w-full min-h-screen"><div class="w-full md:w-1/2 flex flex-col justify-center items-center p-4"><!></div> <!></div>'),xg=A('<div class="flex items-center justify-center min-h-screen w-full"><!></div>');function Zo(r,e){var f,v,g,p,y,_,$,b,k,x;le(e,!0);let t=q(e,"block",7,null),n=q(e,"canAnswer",3,!1),a=q(e,"uiMeta",19,()=>({})),s=q(e,"nextBlock",3,()=>{}),i=q(e,"errorMessage",3,"");const o=((g=(v=(f=t())==null?void 0:f.meta)==null?void 0:v.coverImageProps)==null?void 0:g.coverImage)||"",l=((_=(y=(p=t())==null?void 0:p.meta)==null?void 0:y.coverImageProps)==null?void 0:_.layout)||"",c=(b=($=a())==null?void 0:$.backgroundImage)!=null&&b.startsWith("http")?`background-image: url(${a().backgroundImage}); background-size: cover; background-repeat: no-repeat; background-position: center;`:`background-color: ${((k=a())==null?void 0:k.backgroundColor)||"transparent"}`,d=`${`color: ${((x=a())==null?void 0:x.questionColor)||"inherit"}`}; ${c}`;Lv(r,{fontName:"Special Elite",fontScale:"large",children:(P,S)=>{var I=V(),j=N(I);{var R=M=>{var H=gg();Se(H,`flex flex-col items-center justify-center w-full h-full ${o?"bg-cover bg-center":""}`),he(H,"style",o?`background-image: url('${o}')`:"");var W=w(H);{var Q=ne=>{Qr(ne,{get uiMeta(){return a()},get canAnswer(){return n()},get clickHandler(){return s()},get errorMessage(){return i()},get block(){return t()},set block(ue){t(ue)}})};D(W,ne=>{t()&&ne(Q)})}m(M,H)},O=M=>{var H=V(),W=N(H);{var Q=ue=>{var fe=mg();he(fe,"style",c);var ge=w(fe);{var Te=Pe=>{var B=pg();he(B,"style",`background-image: url('${o}')`),m(Pe,B)};D(ge,Pe=>{o&&Pe(Te)})}var _e=T(ge,2),de=w(_e);{var $e=Pe=>{Qr(Pe,{get uiMeta(){return a()},get canAnswer(){return n()},get clickHandler(){return s()},get errorMessage(){return i()},get block(){return t()},set block(B){t(B)}})};D(de,Pe=>{t()&&Pe($e)})}m(ue,fe)},ne=ue=>{var fe=V(),ge=N(fe);{var Te=de=>{var $e=yg(),Pe=w($e);{var B=Ne=>{var Ae=bg();he(Ae,"style",`background-image: url('${o}')`),m(Ne,Ae)};D(Pe,Ne=>{o&&Ne(B)})}var L=T(Pe,2),U=w(L);{var J=Ne=>{Qr(Ne,{get uiMeta(){return a()},get canAnswer(){return n()},get clickHandler(){return s()},get errorMessage(){return i()},get block(){return t()},set block(Ae){t(Ae)}})};D(U,Ne=>{t()&&Ne(J)})}m(de,$e)},_e=de=>{var $e=V(),Pe=N($e);{var B=U=>{var J=wg(),Ne=w(J),Ae=w(Ne);{var Fe=bt=>{Qr(bt,{get uiMeta(){return a()},get canAnswer(){return n()},get clickHandler(){return s()},get errorMessage(){return i()},get block(){return t()},set block(Gt){t(Gt)}})};D(Ae,bt=>{t()&&bt(Fe)})}var et=T(Ne,2);{var dt=bt=>{var Gt=_g();he(Gt,"style",`background-image: url('${o}')`),m(bt,Gt)};D(et,bt=>{o&&bt(dt)})}m(U,J)},L=U=>{var J=xg();he(J,"style",d);var Ne=w(J);{var Ae=Fe=>{Qr(Fe,{get uiMeta(){return a()},get canAnswer(){return n()},get clickHandler(){return s()},get errorMessage(){return i()},get block(){return t()},set block(et){t(et)}})};D(Ne,Fe=>{t()&&Fe(Ae)})}m(U,J)};D(Pe,U=>{l==="Split-right"?U(B):U(L,!1)},!0)}m(de,$e)};D(ge,de=>{l==="Split-left"?de(Te):de(_e,!1)},!0)}m(ue,fe)};D(W,ue=>{l==="Stack"?ue(Q):ue(ne,!1)},!0)}m(M,H)};D(j,M=>{l==="Wallpaper"?M(R):M(O,!1)})}m(P,I)},$$slots:{default:!0}}),ce()}function kg(r){}var $g=A('<span class="absolute bottom-0 left-0 h-0.5 w-0 bg-indigo-500 transition-all duration-300 peer-focus:w-full"></span>'),Sg=A('<div class="relative w-full m-0 p-0"><input type="text"> <!></div>');function Eg(r,e){le(e,!0);let t=q(e,"value",15),n=q(e,"canAnswer",3,!1),a=ae(K(t()??""));gt(()=>{t(h(a))});var s=Sg(),i=w(s),o=T(i,2);{var l=c=>{var u=$g();m(c,u)};D(o,c=>{n()&&c(l)})}G(()=>{he(i,"placeholder",e.props.placeholder),i.readOnly=!n(),Se(i,`block w-full bg-transparent border-0 border-b-2 text-xl py-2 px-0 outline-none transition-all duration-300
      ${n()?"text-gray-900 border-gray-400 focus:border-indigo-500 cursor-text":"text-gray-400 border-gray-200 cursor-not-allowed"}
    `)}),Be(i,()=>h(a),c=>C(a,c)),m(r,s),ce()}var Tg=A('<p class="text-sm text-gray-600 mt-2 ml-1 italic"></p>'),Pg=A('<div class="w-full px-4 py-2"><textarea></textarea> <!></div>');function Cg(r,e){le(e,!0);let t=q(e,"value",15),n=q(e,"canAnswer",3,!1),{message:a=""}=e.props??{},s=ae(K(t()??"")),i=be(()=>{var v;return((v=e.props)==null?void 0:v.size)??"Medium"});const o={Small:"w-80 h-32",Medium:"w-96 h-40",Large:"w-[32rem] h-48","Extra Large":"w-[32rem] h-64"};function l(v){n()&&(C(s,K(v.target.value)),t(v.target.value))}var c=Pg(),u=w(c),d=T(u,2);{var f=v=>{var g=Tg();g.textContent=a,m(v,g)};D(d,v=>{a&&v(f)})}G(()=>{he(u,"placeholder",e.props.placeholder),Se(u,`border rounded-xl p-4 resize-none text-base shadow-sm focus:outline-none
      ${o[h(i)]}
      ${n()?"text-gray-900 border-gray-400 focus:border-indigo-500":"text-gray-400 border-gray-200 cursor-not-allowed"}
    `)}),Be(u,()=>h(s),v=>C(s,v)),Y("input",u,l),m(r,c),ce()}var Ag=A('<div class="flex items-center border border-gray-300 rounded-lg px-3 py-2 bg-white shadow-sm"><input type="date" class="appearance-none text-gray-700 text-lg outline-none bg-transparent flex-grow svelte-tkp40j"> <button type="button" class="ml-2 p-1 rounded-md hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500" aria-label="Open calendar"><!></button></div>');function Ig(r,e){let t=q(e,"value",15),n=q(e,"canAnswer",3,!1),a=q(e,"props",19,()=>({})),{label:s="Pick a date"}=a(),i=ae(K(t()||"")),o;function l(g){C(i,K(g.target.value)),t(h(i))}function c(){n()&&(o!=null&&o.showPicker?o.showPicker():o==null||o.focus())}var u=Ag(),d=w(u);Wr(d,g=>o=g,()=>o);var f=T(d,2),v=w(f);zo(v,{class:"w-5 h-5 text-indigo-600"}),G(()=>{Ut(u,"cursor-not-allowed",!n()),lo(d,h(i)),d.readOnly=!n(),he(d,"tabindex",n()?0:-1),f.disabled=!n()}),Y("input",d,l),Y("click",d,oa(()=>n()&&c())),Y("click",f,c),m(r,u)}var Og=A('<span class="text-gray-700"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg></span>'),jg=A('<li role="option" tabindex="0"><span> </span> <!></li>'),Lg=A('<div class="absolute right-0 mt-2 w-full rounded-lg bg-white border border-gray-300 shadow-lg z-50" role="listbox" tabindex="-1"><div class="relative max-h-60 overflow-y-auto rounded-lg pr-2"><div class="absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-white to-transparent pointer-events-none z-10"></div> <div class="absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-white to-transparent pointer-events-none z-10"></div> <ul class="p-2 space-y-1 relative z-20"></ul></div></div>'),Rg=A('<div class="relative inline-block w-64 font-sans"><button class="w-full flex justify-between items-center px-5 py-3 rounded-lg bg-white border border-gray-300 shadow-sm text-gray-700 font-medium hover:shadow-md focus:outline-none focus:ring-2 focus:ring-gray-400 transition-all duration-200" aria-haspopup="listbox"><span class="truncate flex-grow text-left"> </span> <!></button> <!></div>');function Ng(r,e){le(e,!0);let t=q(e,"value",15),{choices:n=[],label:a=""}=e.props,s=ae(!1),i=ae(K(t()||null)),o=ae(null);const l=Ss(()=>{C(s,!1),C(o,null)},300);function c(){e.canAnswer&&C(s,!h(s))}function u(b,k){e.canAnswer&&(C(i,K(b)),t(b),C(o,K(k)),l())}var d=Rg(),f=w(d),v=w(f),g=w(v),p=T(v,2);const y=be(()=>`w-5 h-5 ml-2 transition-transform duration-300 text-gray-500 ${h(s)?"rotate-180":""}`);bh(p,{get class(){return h(y)}});var _=T(f,2);{var $=b=>{var k=Lg(),x=w(k),P=T(w(x),4);Me(P,21,()=>n,Ue,(S,I,j)=>{var R=jg(),O=w(R),M=w(O),H=T(O,2);{var W=Q=>{var ne=Og();Nr(3,ne,()=>$s,()=>({duration:200})),m(Q,ne)};D(H,Q=>{h(i)===h(I)&&Q(W)})}G(()=>{Se(R,`${`flex justify-between items-center px-4 py-2 rounded-md cursor-pointer select-none transition-colors duration-200
                ${h(o)===j?"bg-gray-100 animate-pulse":h(i)===h(I)?"bg-gray-200 font-semibold text-gray-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`??""} svelte-3az2sw`),he(R,"aria-selected",h(i)===h(I)),X(M,h(I))}),Y("click",R,()=>u(h(I),j)),m(S,R)}),m(b,k)};D(_,b=>{h(s)&&e.canAnswer&&b($)})}ut(d,(b,k)=>Ht==null?void 0:Ht(b,k),()=>()=>{e.canAnswer&&C(s,!1)}),G(()=>{he(f,"style",e.canAnswer?"":"pointer-events: none;"),he(f,"aria-expanded",h(s)),X(g,h(i)||a)}),Y("click",f,c),m(r,d),ce()}function Dg(r,e,t){const n=r.target.value.replace(/\D/g,"");C(e,K(n)),t(n)}function Mg(r,e){if(!e()){r.preventDefault();return}r.data&&/\D/.test(r.data)&&r.preventDefault()}var Bg=A('<div><label class="text-gray-700 text-base font-medium"> </label> <input type="text" inputmode="numeric" pattern="\\d*"></div>');function Ug(r,e){le(e,!0);let t=q(e,"value",15),n=q(e,"canAnswer",3,!1),a=ae(K(t()??""));var s=Bg(),i=w(s),o=w(i),l=T(i,2);l.__input=[Dg,a,t],l.__beforeinput=[Mg,n],G(()=>{var c;Se(s,`${`flex flex-col space-y-2 w-full max-w-xs wrapper ${n()?"":"disabled-cursor"}`??""} svelte-1eb19ou`),X(o,((c=e.props)==null?void 0:c.label)??""),he(l,"placeholder",e.props.placeholder),he(l,"tabindex",n()?0:-1),l.readOnly=!n(),Se(l,`${`w-full bg-transparent text-lg text-center border-b-2 focus:outline-none
      ${n()?"text-gray-800 border-gray-300 focus:border-indigo-500 cursor-text":"text-gray-400 border-gray-200 disabled"}
    `??""} svelte-1eb19ou`)}),Be(l,()=>h(a),c=>C(a,c)),m(r,s),ce()}ar(["input","beforeinput"]);var Fg=(r,e,t)=>e(h(t)),zg=A("<button> </button>"),qg=A('<div class="w-full max-w-3xl mx-auto space-y-6 svelte-16qk2zm"><div class="flex justify-center gap-3 px-2  svelte-16qk2zm"></div> <div class="flex justify-between text-sm text-gray-500 font-medium px-2 svelte-16qk2zm"><span class="svelte-16qk2zm"> </span> <span class="svelte-16qk2zm"> </span></div></div>');function Hg(r,e){le(e,!0);let t=q(e,"canAnswer",3,!1),n=q(e,"value",15),a=be(()=>Number(e.props.start??0)),s=be(()=>Number(e.props.end??10)),i=ae(K(n())),o=ae(!1);function l(y){t()&&(C(i,K(y)),n(y),C(o,!1),requestAnimationFrame(()=>C(o,!0)))}gt(()=>{n()!==h(i)&&C(i,K(n()))});var c=qg(),u=w(c);Me(u,21,()=>Array(h(s)-h(a)+1).entries(),Ue,(y,_)=>{let $=()=>h(_)[0];var b=zg();const k=be(()=>h(a)+$());b.__click=[Fg,l,k];var x=w(b);G(()=>{Se(b,`${`w-10 h-10 sm:w-12 sm:h-12 rounded font-semibold text-sm transition duration-300 transform
          flex items-center justify-center
          ${t()?"cursor-pointer":"pointer-events-none"}
          ${h(i)===h(k)?`bg-indigo-600 text-white shadow-lg ${h(o)?"pop":""}`:"bg-white text-gray-800 border border-gray-300 hover:bg-indigo-100 hover:text-indigo-700"}
        `??""} svelte-16qk2zm`),X(x,h(k))}),m(y,b)});var d=T(u,2),f=w(d),v=w(f),g=T(f,2),p=w(g);G(()=>{X(v,e.props.leftLabel),X(p,e.props.rightLabel)}),m(r,c),ce()}ar(["click"]);const Ei=[{name:"Afghanistan",code:"+93",flag:""},{name:"Albania",code:"+355",flag:""},{name:"Algeria",code:"+213",flag:""},{name:"Andorra",code:"+376",flag:""},{name:"Angola",code:"+244",flag:""},{name:"Antigua and Barbuda",code:"+1-268",flag:""},{name:"Argentina",code:"+54",flag:""},{name:"Armenia",code:"+374",flag:""},{name:"Australia",code:"+61",flag:""},{name:"Austria",code:"+43",flag:""},{name:"Azerbaijan",code:"+994",flag:""},{name:"Bahamas",code:"+1-242",flag:""},{name:"Bahrain",code:"+973",flag:""},{name:"Bangladesh",code:"+880",flag:""},{name:"Barbados",code:"+1-246",flag:""},{name:"Belarus",code:"+375",flag:""},{name:"Belgium",code:"+32",flag:""},{name:"Belize",code:"+501",flag:""},{name:"Benin",code:"+229",flag:""},{name:"Bhutan",code:"+975",flag:""},{name:"Bolivia",code:"+591",flag:""},{name:"Bosnia and Herzegovina",code:"+387",flag:""},{name:"Botswana",code:"+267",flag:""},{name:"Brazil",code:"+55",flag:""},{name:"Brunei",code:"+673",flag:""},{name:"Bulgaria",code:"+359",flag:""},{name:"Burkina Faso",code:"+226",flag:""},{name:"Burundi",code:"+257",flag:""},{name:"Cabo Verde",code:"+238",flag:""},{name:"Cambodia",code:"+855",flag:""},{name:"Cameroon",code:"+237",flag:""},{name:"Canada",code:"+1",flag:""},{name:"Central African Republic",code:"+236",flag:""},{name:"Chad",code:"+235",flag:""},{name:"Chile",code:"+56",flag:""},{name:"China",code:"+86",flag:""},{name:"Colombia",code:"+57",flag:""},{name:"Comoros",code:"+269",flag:""},{name:"Congo (Congo-Brazzaville)",code:"+242",flag:""},{name:"Costa Rica",code:"+506",flag:""},{name:"Croatia",code:"+385",flag:""},{name:"Cuba",code:"+53",flag:""},{name:"Cyprus",code:"+357",flag:""},{name:"Czechia (Czech Republic)",code:"+420",flag:""},{name:"Democratic Republic of the Congo",code:"+243",flag:""},{name:"Denmark",code:"+45",flag:""},{name:"Djibouti",code:"+253",flag:""},{name:"Dominica",code:"+1-767",flag:""},{name:"Dominican Republic",code:"+1-809",flag:""},{name:"Ecuador",code:"+593",flag:""},{name:"Egypt",code:"+20",flag:""},{name:"El Salvador",code:"+503",flag:""},{name:"Equatorial Guinea",code:"+240",flag:""},{name:"Eritrea",code:"+291",flag:""},{name:"Estonia",code:"+372",flag:""},{name:"Eswatini (fmr. 'Swaziland')",code:"+268",flag:""},{name:"Ethiopia",code:"+251",flag:""},{name:"Fiji",code:"+679",flag:""},{name:"Finland",code:"+358",flag:""},{name:"France",code:"+33",flag:""},{name:"Gabon",code:"+241",flag:""},{name:"Gambia",code:"+220",flag:""},{name:"Georgia",code:"+995",flag:""},{name:"Germany",code:"+49",flag:""},{name:"Ghana",code:"+233",flag:""},{name:"Greece",code:"+30",flag:""},{name:"Grenada",code:"+1-473",flag:""},{name:"Guatemala",code:"+502",flag:""},{name:"Guinea",code:"+224",flag:""},{name:"Guinea-Bissau",code:"+245",flag:""},{name:"Guyana",code:"+592",flag:""},{name:"Haiti",code:"+509",flag:""},{name:"Holy See",code:"+379",flag:""},{name:"Honduras",code:"+504",flag:""},{name:"Hungary",code:"+36",flag:""},{name:"Iceland",code:"+354",flag:""},{name:"India",code:"+91",flag:""},{name:"Indonesia",code:"+62",flag:""},{name:"Iran",code:"+98",flag:""},{name:"Iraq",code:"+964",flag:""},{name:"Ireland",code:"+353",flag:""},{name:"Israel",code:"+972",flag:""},{name:"Italy",code:"+39",flag:""},{name:"Jamaica",code:"+1-876",flag:""},{name:"Japan",code:"+81",flag:""},{name:"Jordan",code:"+962",flag:""},{name:"Kazakhstan",code:"+7",flag:""},{name:"Kenya",code:"+254",flag:""},{name:"Kiribati",code:"+686",flag:""},{name:"Kuwait",code:"+965",flag:""},{name:"Kyrgyzstan",code:"+996",flag:""},{name:"Laos",code:"+856",flag:""},{name:"Latvia",code:"+371",flag:""},{name:"Lebanon",code:"+961",flag:""},{name:"Lesotho",code:"+266",flag:""},{name:"Liberia",code:"+231",flag:""},{name:"Libya",code:"+218",flag:""},{name:"Liechtenstein",code:"+423",flag:""},{name:"Lithuania",code:"+370",flag:""},{name:"Luxembourg",code:"+352",flag:""},{name:"Madagascar",code:"+261",flag:""},{name:"Malawi",code:"+265",flag:""},{name:"Malaysia",code:"+60",flag:""},{name:"Maldives",code:"+960",flag:""},{name:"Mali",code:"+223",flag:""},{name:"Malta",code:"+356",flag:""},{name:"Marshall Islands",code:"+692",flag:""},{name:"Mauritania",code:"+222",flag:""},{name:"Mauritius",code:"+230",flag:""},{name:"Mexico",code:"+52",flag:""},{name:"Micronesia",code:"+691",flag:""},{name:"Moldova",code:"+373",flag:""},{name:"Monaco",code:"+377",flag:""},{name:"Mongolia",code:"+976",flag:""},{name:"Montenegro",code:"+382",flag:""},{name:"Morocco",code:"+212",flag:""},{name:"Mozambique",code:"+258",flag:""},{name:"Myanmar (Burma)",code:"+95",flag:""},{name:"Namibia",code:"+264",flag:""},{name:"Nauru",code:"+674",flag:""},{name:"Nepal",code:"+977",flag:""},{name:"Netherlands",code:"+31",flag:""},{name:"New Zealand",code:"+64",flag:""},{name:"Nicaragua",code:"+505",flag:""},{name:"Niger",code:"+227",flag:""},{name:"Nigeria",code:"+234",flag:""},{name:"North Korea",code:"+850",flag:""},{name:"North Macedonia",code:"+389",flag:""},{name:"Norway",code:"+47",flag:""},{name:"Oman",code:"+968",flag:""},{name:"Pakistan",code:"+92",flag:""},{name:"Palau",code:"+680",flag:""},{name:"Palestine State",code:"+970",flag:""},{name:"Panama",code:"+507",flag:""},{name:"Papua New Guinea",code:"+675",flag:""},{name:"Paraguay",code:"+595",flag:""},{name:"Peru",code:"+51",flag:""},{name:"Philippines",code:"+63",flag:""},{name:"Poland",code:"+48",flag:""},{name:"Portugal",code:"+351",flag:""},{name:"Qatar",code:"+974",flag:""},{name:"Romania",code:"+40",flag:""},{name:"Russia",code:"+7",flag:""},{name:"Rwanda",code:"+250",flag:""},{name:"Saint Kitts and Nevis",code:"+1-869",flag:""},{name:"Saint Lucia",code:"+1-758",flag:""},{name:"Saint Vincent and the Grenadines",code:"+1-784",flag:""},{name:"Samoa",code:"+685",flag:""},{name:"San Marino",code:"+378",flag:""},{name:"Sao Tome and Principe",code:"+239",flag:""},{name:"Saudi Arabia",code:"+966",flag:""},{name:"Senegal",code:"+221",flag:""},{name:"Serbia",code:"+381",flag:""},{name:"Seychelles",code:"+248",flag:""},{name:"Sierra Leone",code:"+232",flag:""},{name:"Singapore",code:"+65",flag:""},{name:"Slovakia",code:"+421",flag:""},{name:"Slovenia",code:"+386",flag:""},{name:"Solomon Islands",code:"+677",flag:""},{name:"Somalia",code:"+252",flag:""},{name:"South Africa",code:"+27",flag:""},{name:"South Korea",code:"+82",flag:""},{name:"South Sudan",code:"+211",flag:""},{name:"Spain",code:"+34",flag:""},{name:"Sri Lanka",code:"+94",flag:""},{name:"Sudan",code:"+249",flag:""},{name:"Suriname",code:"+597",flag:""},{name:"Sweden",code:"+46",flag:""},{name:"Switzerland",code:"+41",flag:""},{name:"Syria",code:"+963",flag:""},{name:"Tajikistan",code:"+992",flag:""},{name:"Tanzania",code:"+255",flag:""},{name:"Thailand",code:"+66",flag:""},{name:"Timor-Leste",code:"+670",flag:""},{name:"Togo",code:"+228",flag:""},{name:"Tonga",code:"+676",flag:""},{name:"Trinidad and Tobago",code:"+1-868",flag:""},{name:"Tunisia",code:"+216",flag:""},{name:"Turkey",code:"+90",flag:""},{name:"Turkmenistan",code:"+993",flag:""},{name:"Tuvalu",code:"+688",flag:""},{name:"Uganda",code:"+256",flag:""},{name:"Ukraine",code:"+380",flag:""},{name:"United Arab Emirates",code:"+971",flag:""},{name:"United Kingdom",code:"+44",flag:""},{name:"United States of America",code:"+1",flag:""},{name:"Uruguay",code:"+598",flag:""},{name:"Uzbekistan",code:"+998",flag:""},{name:"Vanuatu",code:"+678",flag:""},{name:"Venezuela",code:"+58",flag:""},{name:"Vietnam",code:"+84",flag:""},{name:"Yemen",code:"+967",flag:""},{name:"Zambia",code:"+260",flag:""},{name:"Zimbabwe",code:"+263",flag:""}];var Vg=A('<li class="px-4 py-3 hover:bg-indigo-50 cursor-pointer flex items-center justify-between transition-all duration-150"><span class="flex items-center space-x-2"><span> </span> <span> </span></span> <span class="text-gray-500"> </span></li>'),Wg=A('<ul class="absolute top-full left-0 mt-2 w-[360px] bg-white/90 backdrop-blur-sm border border-gray-300 rounded-lg shadow-xl z-50 max-h-[calc(100vh-6rem)] overflow-auto text-sm transition-all duration-200"><li class="px-4 py-2 font-semibold text-gray-600 sticky top-0 bg-white/90 backdrop-blur-sm border-b">Select a country</li> <!></ul>'),Gg=A('<div><label class="text-gray-700 text-base font-medium"></label> <div class="relative flex items-center space-x-2 w-full"><button type="button"><span> </span> <span> </span> <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <input type="text" inputmode="numeric" pattern="\\d*" placeholder="123456789"> <!></div></div>');function Jg(r,e){le(e,!0);let t=q(e,"value",15),n=q(e,"canAnswer",3,!1),a=ae(K(Ei[0])),s=ae(""),i=ae(!1);gt(()=>{t(h(s)?`${h(a).code}${h(s)}`:"")});function o(k){if(!n()){k.preventDefault();return}C(s,K(k.target.value.replace(/\D/g,"")))}function l(){n()&&C(i,!h(i))}function c(k){n()&&(C(a,K(k)),C(i,!1))}var u=Gg(),d=T(w(u),2),f=w(d),v=w(f),g=w(v),p=T(v,2),y=w(p),_=T(f,2),$=T(_,2);{var b=k=>{var x=Wg(),P=T(w(x),2);Me(P,17,()=>Ei,Ue,(S,I)=>{var j=Vg(),R=w(j),O=w(R),M=w(O),H=T(O,2),W=w(H),Q=T(R,2),ne=w(Q);G(()=>{X(M,h(I).flag),X(W,h(I).name),X(ne,h(I).code)}),Y("click",j,()=>c(h(I))),m(S,j)}),ut(x,(S,I)=>Ht==null?void 0:Ht(S,I),()=>()=>C(i,!1)),m(k,x)};D($,k=>{h(i)&&k(b)})}G(()=>{Se(u,`${`flex flex-col space-y-2 w-full max-w-xs ${n()?"":"disabled-cursor"}`??""} svelte-16jj6s3`),Se(f,`${`flex items-center space-x-2 min-w-[100px] bg-transparent text-base
        border-b-2 border-gray-300
        ${n()?"focus:border-indigo-500 focus:outline-none":"opacity-50 cursor-not-allowed"}`??""} svelte-16jj6s3`),he(f,"tabindex",n()?0:-1),he(f,"aria-disabled",!n()),X(g,h(a).flag),X(y,h(a).code),Se(_,`${`flex-1 bg-transparent text-lg
        border-b-2 border-gray-300
        focus:border-indigo-500 focus:outline-none
        ${n()?"text-gray-800 cursor-text":"text-gray-400 cursor-not-allowed"}
      `??""} svelte-16jj6s3`),he(_,"tabindex",n()?0:-1),_.readOnly=!n(),he(_,"aria-readonly",!n())}),Y("click",f,l),Be(_,()=>h(s),k=>C(s,k)),Y("input",_,o),m(r,u),ce()}var Kg=A(`<button class="cursor-pointer m-2 px-6 py-4 text-lg rounded-xl transition-all duration-300 ease-in-out shadow-md transform
             bg-white text-gray-800 hover:bg-blue-100 hover:text-blue-600 hover:scale-105
             disabled:opacity-60 disabled:cursor-not-allowed"> </button>`),Yg=A('<div class="flex flex-col"></div>');function Qg(r,e){le(e,!0);let t=q(e,"value",15),n=q(e,"props",19,()=>({})),a=q(e,"canAnswer",3,!1),s=ae(K(n().choices??[])),i=ae(K(n().multiple??!1));gt(()=>{C(s,K(n().choices??[])),C(i,K(n().multiple??!1))});function o(u){var d;a()&&(h(i)?t((d=t())!=null&&d.includes(u)?t().filter(f=>f!==u):[...t()||[],u]):t()!==u&&t(u))}function l(u){var d;return h(i)?(d=t())==null?void 0:d.includes(u):t()===u}var c=Yg();Me(c,21,()=>h(s),Ue,(u,d)=>{var f=Kg(),v=w(f);G(g=>{f.disabled=!a(),he(f,"aria-pressed",g),Ut(f,"bg-blue-600",g),Ut(f,"text-white",g),Ut(f,"scale-105",g),Ut(f,"ring-2",g),Ut(f,"ring-blue-300",g),Ut(f,"animate-[pulse_0.6s_ease-in-out]",g),X(v,h(d))},[()=>l(h(d))]),Y("click",f,()=>o(h(d))),m(u,f)}),m(r,c),ce()}var Xg=A('<span class="cursor-pointer transform transition-transform duration-200"><!></span>'),Zg=A('<div class="inline-block space-y-2"><p class="text-gray-700 font-semibold"></p> <div class="flex items-center space-x-2"></div></div>');function ep(r,e){le(e,!0);let t=q(e,"value",15),n=ae(K(t()||0)),a=ae(0);function s(u){e.canAnswer&&(C(n,K(u)),t(u))}function i(u){e.canAnswer&&C(a,K(u))}function o(){e.canAnswer&&C(a,0)}var l=Zg(),c=T(w(l),2);Me(c,21,()=>Array(Number(e.props.maxRating)),Ue,(u,d,f)=>{var v=Xg(),g=w(v);const p=be(()=>`w-8 h-8 ${(h(a)||h(n))>f?"text-yellow-400 fill-yellow-300":"text-gray-300"}`),y=be(()=>(h(a)||h(n))>f?"currentColor":"none");Vo(g,{get class(){return h(p)},get fill(){return h(y)}}),Y("mouseenter",v,()=>i(f+1)),Y("click",v,()=>s(f+1)),Nr(3,v,()=>$s,()=>({duration:150})),m(u,v)}),G(()=>he(c,"style",e.canAnswer?"":"pointer-events: none;")),Y("mouseleave",c,o),m(r,l),ce()}var tp=A('<p class="text-xs text-gray-500 mt-1 text-left"></p>'),rp=A('<div><div class="px-0 py-2 text-base text-gray-800 whitespace-pre-wrap text-center"> </div> <!></div>');function np(r,e){q(e,"canAnswer",3,!1);let{message:t=""}=e.props??{};var n=rp(),a=w(n),s=w(a),i=T(a,2);{var o=l=>{var c=tp();c.textContent=t,m(l,c)};D(i,l=>{t&&l(o)})}G(()=>X(s,e.value||"")),m(r,n)}var ap=A('<a target="_blank" class="text-sm px-6 py-3 rounded-md bg-black text-white hover:bg-gray-800">Create your own FabForm</a>');function sp(r,e){let t=q(e,"canAnswer",8);var n=ap();G(()=>he(n,"href",t()?"https://fabform.io":"#")),m(r,n)}var ip=A('<span class="absolute inset-y-0 left-3 flex items-center text-gray-400 pointer-events-none"><!></span>'),op=A('<p class="text-xs text-gray-500 mt-1"></p>'),lp=A('<p class="text-xs text-red-500 mt-1">Please enter a valid email address.</p>'),cp=A('<div class="relative group"><!> <input type="email"></div> <!> <!>',1);function up(r,e){le(e,!0);let t=q(e,"value",15),n=q(e,"canAnswer",3,!1),{placeholder:a="Enter your email...",icon:s=null,message:i=""}=e.props??{},o=ae(K(t()??""));gt(()=>{t(h(o))});let l=be(()=>h(o)===""||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h(o)));var c=cp(),u=N(c),d=w(u);{var f=$=>{var b=ip(),k=w(b);us(k,()=>s,!1,!1),m($,b)};D(d,$=>{s&&$(f)})}var v=T(d,2);he(v,"placeholder",a);var g=T(u,2);{var p=$=>{var b=op();b.textContent=i,m($,b)};D(g,$=>{i&&$(p)})}var y=T(g,2);{var _=$=>{var b=lp();m($,b)};D(y,$=>{!h(l)&&h(o)&&$(_)})}G(()=>{he(v,"tabindex",n()?0:-1),v.disabled=!n(),he(v,"aria-invalid",!h(l)),Se(v,`w-full transition-all duration-300 ease-in-out rounded-xl text-base px-4 py-2 font-medium shadow-sm outline-none
      ${s?"pl-10":""}
      ${n()?`${h(l)?"bg-white text-gray-900 border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300":"bg-white text-gray-900 border border-red-500 focus:border-red-500 focus:ring-2 focus:ring-red-300"}`:"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"}
    `)}),Be(v,()=>h(o),$=>C(o,$)),m(r,c),ce()}var dp=A('<span class="absolute inset-y-0 left-3 flex items-center text-gray-400 pointer-events-none"><!></span>'),fp=A('<p class="text-xs text-gray-500 mt-1"></p>'),hp=A('<div class="relative group"><!> <input type="url"></div> <!>',1);function vp(r,e){let t=q(e,"value",15),n=q(e,"canAnswer",3,!1),{placeholder:a="Enter website URL...",icon:s=null,message:i=""}=e.props??{},o=ae(K(t()??""));function l(y){C(o,K(y.target.value)),t(y.target.value)}var c=hp(),u=N(c),d=w(u);{var f=y=>{var _=dp(),$=w(_);us($,()=>s,!1,!1),m(y,_)};D(d,y=>{s&&y(f)})}var v=T(d,2);he(v,"placeholder",a);var g=T(u,2);{var p=y=>{var _=fp();_.textContent=i,m(y,_)};D(g,y=>{i&&y(p)})}G(()=>{he(v,"tabindex",n()?0:-1),v.disabled=!n(),Se(v,`w-full transition-all duration-300 ease-in-out rounded-xl text-base px-4 py-2 font-medium shadow-sm outline-none
      ${s?"pl-10":""}
      ${n()?"bg-white text-gray-900 border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"}
    `)}),Be(v,()=>h(o),y=>C(o,y)),Y("input",v,l),m(r,c)}var gp=A('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black bg-opacity-50"></div> <div class="absolute inset-0"><button class="absolute top-4 right-4 z-10 bg-white text-black text-xl px-3 py-1 rounded shadow hover:bg-gray-100" aria-label="Close"></button> <iframe src="https://calendly.com/irishgeoffrey" class="w-full h-full border-none" frameborder="0"></iframe></div></div>'),pp=A('<button class="flex items-center gap-2 px-4 py-2 bg-white text-black border border-gray-300 rounded hover:bg-gray-100 shadow-sm"><!> </button> <!>',1);function mp(r,e){le(e,!0);let t=ae(!1);function n(){C(t,!0)}function a(){C(t,!1)}const s=e.label??"Choose a slot";var i=pp(),o=N(i),l=w(o);zo(l,{class:"w-5 h-5"});var c=T(l);c.nodeValue=` ${s??""}`;var u=T(o,2);{var d=f=>{var v=gp(),g=w(v),p=T(g,2),y=w(p);Y("click",g,a),Y("click",y,a),m(f,v)};D(u,f=>{h(t)&&f(d)})}Y("click",o,n),m(r,i),ce()}var bp=A('<button class="mt-3 text-blue-600 hover:text-blue-800 font-medium"><!> Upload File</button>'),yp=A('<div class="w-full bg-gray-200 rounded-full h-3 mt-4 overflow-hidden"><div class="bg-blue-500 h-3 rounded-full transition-all duration-300 ease-in-out"></div></div> <p class="text-blue-600 mt-1 font-semibold"> </p>',1),_p=A('<img alt="preview" class="w-24 h-24 rounded-xl object-cover shadow-sm mb-2">'),wp=A('<div class="w-24 h-24 flex items-center justify-center bg-gray-100 rounded-xl shadow-inner mb-2"><!></div>'),xp=A('<div class="flex flex-col items-center w-32 p-3 rounded-2xl bg-white shadow-sm hover:shadow-md border border-gray-300 relative"><!> <span class="text-sm text-gray-900 font-medium truncate w-full text-center"> </span> <span class="text-xs text-gray-500"> </span> <button class="absolute top-2 right-2 text-red-600 hover:text-red-800 p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-red-400" title="Delete file"><!></button></div>'),kp=A('<div class="flex-grow overflow-auto max-w-6xl mx-auto mt-12 px-4 py-3"><div class="flex flex-wrap gap-4 justify-center"></div></div>'),$p=A('<div class="w-full flex justify-center mt-10"><div class="relative border-4 border-dashed border-gray-300 rounded-2xl p-8 flex flex-col items-center justify-center transition-all text-center bg-white shadow-xl max-w-md w-full hover:shadow-2xl"><!> <p class="text-gray-500"> </p> <!> <input type="file" class="hidden"> <!></div></div> <!>',1);function Sp(r,e){le(e,!0);let t=q(e,"canAnswer",3,!1),n,a=[],s="",i=0,o=!1;ot.getUser().then(async R=>{R&&(s=R.id,await l())});async function l(){if(!s)return;const{data:R,error:O}=await xe.storage.from("user-files").list(`users/${s}/`,{limit:100});O?alert("Could not list files: "+O.message):a=await Promise.all(R.map(async M=>{var W;const{data:H}=xe.storage.from("user-files").getPublicUrl(`users/${s}/${M.name}`);return{...M,publicUrl:H.publicUrl,sizeKB:(W=M.metadata)!=null&&W.size?(M.metadata.size/1024).toFixed(1):"0.0"}}))}function c(){t()&&n.click()}async function u(R){const O=R.target.files[0];O&&await d(O)}async function d(R){if(!t()||!s)return;i=0,o=!0;const M=2+1e6/R.size,W=setInterval(()=>{i<90&&(i=Math.min(i+M,90))},100),Q=`users/${s}/${R.name}`,{error:ne}=await xe.storage.from("user-files").upload(Q,R,{upsert:!0});if(clearInterval(W),ne){o=!1,i=0,alert(`Upload failed: ${ne.message}`);return}i=100,await l(),setTimeout(()=>{o=!1,i=0},700)}async function f(R){const O=`users/${s}/${R}`,{error:M}=await xe.storage.from("user-files").remove([O]);M?alert(`Delete failed: ${M.message}`):await l()}var v=$p(),g=N(v),p=w(g),y=w(p);wi(y,{class:"w-16 h-16 text-blue-500 mb-4"});var _=T(y,2),$=w(_),b=T(_,2);{var k=R=>{var O=bp(),M=w(O);wi(M,{class:"inline w-5 h-5 mr-1"}),Y("click",O,c),m(R,O)};D(b,R=>{t()&&R(k)})}var x=T(b,2);Wr(x,R=>n=R,()=>n);var P=T(x,2);{var S=R=>{var O=yp(),M=N(O),H=w(M);he(H,"style",`width: ${i??""}%;`);var W=T(M,2),Q=w(W);G(ne=>X(Q,`${ne??""}%`),[()=>Math.floor(i)]),m(R,O)};D(P,R=>{o&&R(S)})}var I=T(g,2);{var j=R=>{var O=kp(),M=w(O);Me(M,21,()=>a,Ue,(H,W)=>{var Q=xp(),ne=w(Q);{var ue=B=>{var L=_p();G(()=>he(L,"src",h(W).publicUrl)),m(B,L)},fe=B=>{var L=wp(),U=w(L);Ho(U,{class:"w-10 h-10 text-gray-400"}),m(B,L)};D(ne,B=>{h(W).name.match(/\.(jpg|jpeg|png|gif)$/i)?B(ue):B(fe,!1)})}var ge=T(ne,2),Te=w(ge),_e=T(ge,2),de=w(_e),$e=T(_e,2),Pe=w($e);ks(Pe,{class:"w-4 h-4"}),G(()=>{he(Q,"title",h(W).name),X(Te,h(W).name),X(de,`${h(W).sizeKB??""} KB`),he($e,"aria-label",`Delete file ${h(W).name}`)}),Y("click",$e,()=>f(h(W).name)),m(H,Q)}),m(R,O)};D(I,R=>{t()&&R(j)})}G(()=>{X($,t()?"Click or drag and drop to upload a file":""),x.disabled=!t()}),Y("change",x,u),Y("drop",p,It(R=>d(R.dataTransfer.files[0]))),Y("dragover",p,It(function(R){ds.call(this,e,R)})),m(r,v),ce()}var Ep=A('<div class="relative"><canvas class="w-full h-64  rounded-md border-2 border-dotted border-gray-400 touch-none"></canvas> <button type="button" aria-label="Clear signature" class="absolute -bottom-10 left-0 flex items-center gap-1 text-sm px-2 py-1 text-indigo-600 hover:text-indigo-800 transition-colors focus:outline-none"><!> <span class="text-xs">Clear</span></button></div>');function Tp(r,e){le(e,!0);let t=q(e,"value",15),n=q(e,"formMode",3,!0),a,s,i=[],o=[],l=!1,c=1,u=1;function d(){const I=a.getBoundingClientRect();a.width=I.width,a.height=I.height,c=a.width/I.width,u=a.height/I.height,s=a.getContext("2d"),s.scale(c,u)}function f(I){const j=a.getBoundingClientRect(),R=I.touches?I.touches[0].clientX:I.clientX,O=I.touches?I.touches[0].clientY:I.clientY;return{x:R-j.left,y:O-j.top}}function v(I){n()&&(l=!0,o=[],i.push(o),o.push(f(I)))}function g(I){!n()||!l||(o.push(f(I)),_())}function p(){!n()||!l||(l=!1,b())}function y(I,j,R,O){const H=j.x+(R.x-I.x)*.2,W=j.y+(R.y-I.y)*.2,Q=R.x-(O.x-j.x)*.2,ne=R.y-(O.y-j.y)*.2;return[{x:H,y:W},{x:Q,y:ne}]}function _(){s.clearRect(0,0,a.width,a.height),s.lineJoin="round",s.lineCap="round",s.lineWidth=2.5,s.strokeStyle="#4f46e5";for(const I of i)if(!(I.length<2)){s.beginPath();for(let j=0;j<I.length-1;j++){const R=I[j-1]||I[j],O=I[j],M=I[j+1],H=I[j+2]||M;j===0&&s.moveTo(O.x,O.y);const[W,Q]=y(R,O,M,H);s.bezierCurveTo(W.x,W.y,Q.x,Q.y,M.x,M.y)}s.stroke()}}function $(){i=[],o=[],s.clearRect(0,0,a.width,a.height),t("")}function b(){t(a.toDataURL("image/png"))}Ge(()=>{d(),window.addEventListener("resize",d)});var k=Ep(),x=w(k);Wr(x,I=>a=I,()=>a);var P=T(x,2),S=w(P);Hh(S,{class:"w-4 h-4"}),Y("mousedown",x,v),Y("mousemove",x,g),Y("mouseup",x,p),Y("mouseleave",x,p),Y("touchstart",x,It(v)),Y("touchmove",x,It(g)),Y("touchend",x,It(p)),Y("click",P,$),m(r,k),ce()}var Pp=A('<div class="flex space-x-6"><button>Yes</button> <button>No</button></div>');function Cp(r,e){let t=q(e,"value",15),n=q(e,"canAnswer",3,!1);function a(c){n()&&t(c)}function s(c){return t()===c}var i=Pp(),o=w(i),l=T(o,2);G((c,u,d,f)=>{Se(o,Gn(c)),o.disabled=!n(),he(o,"aria-pressed",u),Se(l,Gn(d)),l.disabled=!n(),he(l,"aria-pressed",f)},[()=>["px-8 py-3 rounded-lg text-lg font-semibold transition shadow-md focus:outline-none focus:ring-2",s(!0)?"bg-blue-600 text-white scale-105 shadow-xl ring-2 ring-blue-300 animate-[pulse_0.6s_ease-in-out]":"bg-white text-gray-700 hover:bg-blue-100 hover:text-blue-600",!n()&&"opacity-50 cursor-not-allowed"],()=>s(!0),()=>["px-8 py-3 rounded-lg text-lg font-semibold transition shadow-md focus:outline-none focus:ring-2",s(!1)?"bg-red-600 text-white scale-105 shadow-xl ring-2 ring-red-300 animate-[pulse_0.6s_ease-in-out]":"bg-white text-gray-700 hover:bg-red-100 hover:text-red-600",!n()&&"opacity-50 cursor-not-allowed"],()=>s(!1)]),Y("click",o,()=>a(!0)),Y("click",l,()=>a(!1)),m(r,i)}var Ap=A('<div class="w-2.5 h-2.5 bg-white rounded-sm"></div>'),Ip=A('<label class="inline-flex items-center space-x-3 cursor-pointer select-none"><div><!></div> <span class="text-base text-gray-800">Check me</span></label>');function Op(r,e){let t=q(e,"value",15),n=q(e,"canAnswer",3,!1);function a(){n()&&t(!t())}var s=Ip(),i=w(s),o=w(i);{var l=c=>{var u=Ap();m(c,u)};D(o,c=>{t()&&c(l)})}G(()=>Se(i,Gn(["w-5 h-5 rounded border-2 flex items-center justify-center transition",t()?"bg-blue-600 border-blue-600":"bg-white border-gray-400",!n()&&"opacity-50 cursor-not-allowed"]))),Y("click",i,a),m(r,s)}var jp=A('<button><svg width="64" height="64" viewBox="0 0 80 80" aria-hidden="true" focusable="false" class="svelte-10bhyiw"><!></svg> <span class="mt-1 text-sm text-gray-700 svelte-10bhyiw"> </span></button>'),Lp=A('<div class="w-full max-w-3xl mx-auto space-y-6 svelte-10bhyiw"><div class="flex justify-between gap-3 px-2 svelte-10bhyiw"></div></div>');function Rp(r,e){le(e,!0);let t=q(e,"canAnswer",3,!1),n=q(e,"value",15),a=ae(K(n())),s=ae(!1);function i(d){t()&&(C(a,K(d)),n(d),C(s,!1),requestAnimationFrame(()=>C(s,!0)))}gt(()=>{n()!==h(a)&&C(a,K(n()))});const o=[{id:1,label:"Very Sad",color:"#ef4444"},{id:2,label:"Sad",color:"#f97316"},{id:3,label:"Neutral",color:"#9ca3af"},{id:4,label:"Happy",color:"#22c55e"}];function l(d){switch(d){case 1:return`
          <circle cx="40" cy="40" r="28" fill="#ef4444" stroke="#b91c1c" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <path d="M28 50 Q40 38 52 50" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" /> 
          <circle cx="25" cy="48" r="3" fill="#3b82f6" />
        `;case 2:return`
          <circle cx="40" cy="40" r="28" fill="#f97316" stroke="#c2410c" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <path d="M28 48 Q40 40 52 48" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" />
        `;case 3:return`
          <circle cx="40" cy="40" r="28" fill="#9ca3af" stroke="#6b7280" stroke-width="2" />
          <circle cx="28" cy="32" r="4" fill="#000" />
          <circle cx="52" cy="32" r="4" fill="#000" />
          <line x1="28" y1="48" x2="52" y2="48" stroke="#000" stroke-width="3" stroke-linecap="round" />
        `;case 4:return`
          <circle cx="40" cy="40" r="28" fill="#22c55e" stroke="#15803d" stroke-width="2" />
          <circle cx="25" cy="30" r="5" fill="#000" />
          <circle cx="55" cy="30" r="5" fill="#000" />
          <path d="M24 38 Q40 56 56 38" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" />
        `}}var c=Lp(),u=w(c);Me(u,21,()=>o,Ue,(d,f)=>{let v=()=>h(f).id,g=()=>h(f).label;var p=jp(),y=w(p),_=w(y);us(_,()=>l(v()),!0,!1);var $=T(y,2),b=w($);G(()=>{Se(p,`${`flex-grow rounded transition duration-300 transform flex flex-col items-center justify-center p-1
          ${t()?"cursor-pointer":"pointer-events-none"}
          ${h(a)===v()?`${h(s)?"pop":""}`:"opacity-70 hover:opacity-100"}
        `??""} svelte-10bhyiw`),he(p,"aria-label",`Mood rating: ${g()}`),X(b,g())}),Y("click",p,()=>i(v())),m(d,p)}),m(r,c),ce()}var Np=(r,e,t)=>e(h(t)),Dp=A("<button> </button>"),Mp=(r,e,t)=>e(h(t)),Bp=A("<button> </button>"),Up=A('<div class="grid grid-cols-2 sm:grid-cols-3 gap-3 px-2 svelte-14jne4s"></div>'),Fp=A('<p class="text-center text-gray-500 text-sm px-2 svelte-14jne4s">No available slots for this date.</p>'),zp=A('<p class="mt-2 text-center text-gray-700 font-medium svelte-14jne4s"> </p>'),qp=A("<!> <!>",1),Hp=A('<p class="text-center text-gray-500 text-sm svelte-14jne4s">Pick a date to see available times</p>'),Vp=A('<div class="w-full max-w-3xl mx-auto space-y-4 p-4 border rounded-lg shadow-sm bg-white svelte-14jne4s"><div class="flex items-center gap-2 mb-2 svelte-14jne4s"><!> <span class="font-semibold text-gray-700 svelte-14jne4s">Pick a Time Slot</span></div> <div class="flex gap-2 overflow-x-auto pb-2 scrollbar-hide svelte-14jne4s"></div> <!></div>');function Wp(r,e){le(e,!0);let t=q(e,"canAnswer",3,!0),n=q(e,"value",15);const a=new Date;let s=K([{start:new Date(a.getFullYear(),a.getMonth(),a.getDate(),9,0).toISOString(),end:new Date(a.getFullYear(),a.getMonth(),a.getDate(),9,30).toISOString()},{start:new Date(a.getFullYear(),a.getMonth(),a.getDate(),10,0).toISOString(),end:new Date(a.getFullYear(),a.getMonth(),a.getDate(),10,30).toISOString()},{start:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,11,0).toISOString(),end:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,11,30).toISOString()},{start:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,14,0).toISOString(),end:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,14,30).toISOString()},{start:new Date(a.getFullYear(),a.getMonth(),a.getDate()+2,13,0).toISOString(),end:new Date(a.getFullYear(),a.getMonth(),a.getDate()+2,13,30).toISOString()}]),i=ae(null),o=ae(K(n())),l=ae(!1),c=be(()=>Array.from(new Set(s.map(k=>new Date(k.start).toDateString())))),u=be(()=>h(i)?s.filter(k=>new Date(k.start).toDateString()===new Date(h(i)).toDateString()):[]);Ge(()=>{h(c).length>0&&C(i,K(new Date(h(c)[0])))});function d(k){C(i,K(new Date(k))),C(o,null)}function f(k){t()&&(C(o,K(k)),n(k),C(l,!1),requestAnimationFrame(()=>C(l,!0)))}var v=Vp(),g=w(v),p=w(g);Fo(p,{class:"w-5 h-5 text-indigo-600"});var y=T(g,2);Me(y,21,()=>h(c),Ue,(k,x)=>{var P=Dp();P.__click=[Np,d,x];var S=w(P);G((I,j)=>{Se(P,`${I??""} svelte-14jne4s`),X(S,j)},[()=>{var I;return`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition
          ${((I=h(i))==null?void 0:I.toDateString())===new Date(h(x)).toDateString()?`bg-indigo-600 text-white shadow-md ${h(l)?"pop":""}`:"bg-white text-gray-800 border border-gray-300 hover:bg-indigo-100 hover:text-indigo-700"}
        `},()=>new Date(h(x)).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"})]),m(k,P)});var _=T(y,2);{var $=k=>{var x=qp(),P=N(x);{var S=O=>{var M=Up();Me(M,21,()=>h(u),Ue,(H,W)=>{var Q=Bp();Q.__click=[Mp,f,W];var ne=w(Q);G(ue=>{var fe;Se(Q,`${`p-3 rounded-lg font-medium text-sm transition duration-300 transform
              flex items-center justify-center
              ${((fe=h(o))==null?void 0:fe.start)===h(W).start?`bg-indigo-600 text-white shadow-lg ${h(l)?"pop":""}`:"bg-white text-gray-800 border border-gray-300 hover:bg-indigo-100 hover:text-indigo-700"}
            `??""} svelte-14jne4s`),X(ne,ue)},[()=>new Date(h(W).start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]),m(H,Q)}),m(O,M)},I=O=>{var M=Fp();m(O,M)};D(P,O=>{h(u).length>0?O(S):O(I,!1)})}var j=T(P,2);{var R=O=>{var M=zp(),H=w(M);G((W,Q)=>X(H,` You selected: ${W??""} at ${Q??""}`),[()=>new Date(h(o).start).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}),()=>new Date(h(o).start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]),m(O,M)};D(j,O=>{h(o)&&O(R)})}m(k,x)},b=k=>{var x=Hp();m(k,x)};D(_,k=>{h(i)?k($):k(b,!1)})}m(r,v),ce()}ar(["click"]);function Gp(r){return{Button:Ka,Input:Et,TextArea:Ja,Checkbox:Ya,Dropdown:tr,Welcome:kg,ShortText:Eg,LongText:Cg,DatePicker:Ig,TextArea:Ja,Button:Ka,Checkbox:Ya,Dropdown:tr,Select:Qg,DropdownBlock:Ng,StarRating:ep,OpinionScale:Hg,Statement:np,Number:Ug,PhoneNumber:Jg,ThankYou:sp,Website:vp,Scheduler:mp,FileUploader:Sp,Email:up,YesNo:Cp,CheckboxBlock:Op,Signature:Tp,MoodMeter:Rp,TimeSlotPicker:Wp}[r]||null}var Jp=A('<div><label for="title"> </label></div>'),Kp=A('<div><label for="question"> </label></div>'),Yp=A('<div><label for="description"> </label></div>'),Qp=A('<div class="mt-4 flex"><!></div>'),Xp=A('<div class="mt-4 flex items-center gap-2 bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded"><!> <p class="text-sm"> </p></div>'),Zp=A('<div><div class="w-full max-w-md"><!> <!> <!> <!> <!> <!></div></div>');function Qr(r,e){le(e,!0);let t=q(e,"block",31,()=>K({})),n=q(e,"uiMeta",27,()=>K({})),a=be(()=>{var b,k;return Gp((k=(b=t())==null?void 0:b.meta)==null?void 0:k.component)});var s=Zp(),i=w(s),o=w(i);{var l=b=>{var k=Jp(),x=w(k),P=w(x);G(()=>{var S;Se(x,`block text-${n().fontSize} font-medium`),he(x,"style",`color: ${n().questionColor};`),X(P,(S=t().meta)==null?void 0:S.title)}),m(b,k)};D(o,b=>{var k;(k=t().meta)!=null&&k.title&&b(l)})}var c=T(o,2);{var u=b=>{var k=Kp(),x=w(k),P=w(x);G(()=>{var S;Se(x,`block text-${n().fontSize} font-medium`),he(x,"style",`color: ${n().questionColor};`),X(P,(S=t().meta)==null?void 0:S.question)}),m(b,k)};D(c,b=>{var k;(k=t().meta)!=null&&k.question&&b(u)})}var d=T(c,2);{var f=b=>{var k=Yp(),x=w(k),P=w(x);G(()=>{var S;Se(x,`block text-${n().fontSize} font-normal`),he(x,"style",`color: ${n().questionColor};`),X(P,(S=t().meta)==null?void 0:S.description)}),m(b,k)};D(d,b=>{var k,x;(x=(k=t())==null?void 0:k.meta)!=null&&x.description&&b(f)})}var v=T(d,2);{var g=b=>{var k=V(),x=N(k);const P=be(()=>{var S;return(S=t().meta)==null?void 0:S.props});Nt(x,()=>h(a),(S,I)=>{I(S,{get canAnswer(){return e.canAnswer},get props(){return h(P)},get value(){return t().value},set value(j){t(t().value=j,!0)}})}),m(b,k)};D(v,b=>{t()&&h(a)&&b(g)})}var p=T(v,2);{var y=b=>{var k=Qp(),x=w(k);const P=be(()=>`background-color: ${n().buttonColor}; color: ${n().buttonTextColor};`),S=be(()=>{var I,j;return(j=(I=t())==null?void 0:I.meta)==null?void 0:j.buttonText});Ka(x,{get style(){return h(P)},get text(){return h(S)},get onclick(){return e.clickHandler}}),m(b,k)};D(p,b=>{var k,x;((x=(k=t())==null?void 0:k.meta)==null?void 0:x.blockTypeId)!==99&&b(y)})}var _=T(p,2);{var $=b=>{var k=Xp(),x=w(k);tv(x,{size:20,class:"text-red-600 flex-shrink-0"});var P=T(x,2),S=w(P);G(()=>X(S,e.errorMessage)),m(b,k)};D(_,b=>{e.errorMessage&&b($)})}G(()=>Se(s,`relative ${e.canAnswer?"flex items-center justify-center w-screen h-screen px-6":"max-w-lg px-4 pt-8 mx-auto mt-5"}`)),m(r,s),ce()}var em=A('<div class="space-y-3"><div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Background Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Question Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Answer Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Button Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Button Text Color</label> <!></div> <div class="p-3 rounded bg-white flex items-center justify-between"><label class="text-sm font-medium text-gray-700">Font Size</label> <!></div></div>');function tm(r,e){le(e,!0);const t=K(e.formProp);async function n($){await Wa(t)}async function a(){await Wa(t),e.changeColorOnForm(t)}var s=em(),i=w(s),o=T(w(i),2);Yr(o,{colorChanged:a,get color(){return t.meta.backgroundColor},set color($){t.meta.backgroundColor=$}});var l=T(i,2),c=T(w(l),2);Yr(c,{colorChanged:a,get color(){return t.meta.questionColor},set color($){t.meta.questionColor=$}});var u=T(l,2),d=T(w(u),2);Yr(d,{colorChanged:a,get color(){return t.meta.answerColor},set color($){t.meta.answerColor=$}});var f=T(u,2),v=T(w(f),2);Yr(v,{colorChanged:a,get color(){return t.meta.buttonColor},set color($){t.meta.buttonColor=$}});var g=T(f,2),p=T(w(g),2);Yr(p,{colorChanged:a,get color(){return t.meta.buttonTextColor},set color($){t.meta.buttonTextColor=$}});var y=T(g,2),_=T(w(y),2);tr(_,{choices:["Small","Medium","Large","Extra Large"],choiceSelected:n,get value(){return t.meta.fontSize},set value($){t.meta.fontSize=$}}),m(r,s),ce()}var rm=(r,e)=>e("left"),nm=(r,e)=>e("center"),am=A('<div class="flex space-x-3 mt-3 z-0"><button class="p-2 border rounded-lg hover:bg-gray-200 relative group"><!> <span class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-xs bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10">Left</span></button> <button class="p-2 border rounded-lg hover:bg-gray-200 relative group"><!> <span class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-xs bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10">Center</span></button></div>');function sm(r,e){let t=q(e,"textAlign",15);var n=am(),a=w(n);a.__click=[rm,t];var s=w(a);dh(s,{class:"w-3 h-3 m-1"});var i=T(a,2);i.__click=[nm,t];var o=w(i);uh(o,{class:"w-3 h-3 m-1"}),m(r,n)}ar(["click"]);var im=A('<li class="flex items-center space-x-2"><input> <button class="text-red-500 hover:text-red-700"><!></button></li>'),om=A('<div class="container mx-auto p-4 relative"><div class="absolute top-4 right-4"><button class="w-8 h-8 rounded-full bg-blue-500 text-white shadow-md hover:bg-blue-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v14m7-7H5"></path></svg></button></div> <div class="mt-12"><ul class="space-y-2"></ul></div></div>');function lm(r,e){le(e,!0);let t=q(e,"choices",15);q(e,"selected",19,()=>[]),q(e,"multiple",3,0);let n=kn(e,["$$slots","$$events","$$legacy","choices","selected","multiple"]);function a(){t([...t(),`New Choice ${t().length}`])}function s(f){t(t().filter((v,g)=>g!==f))}function i(f){f.key==="Enter"&&(f.preventDefault(),a())}var o=om(),l=w(o),c=w(l);c.__click=a;var u=T(l,2),d=w(u);Me(d,21,t,Ue,(f,v,g)=>{var p=im(),y=w(p);let _;var $=T(y,2);$.__click=()=>s(g);var b=w($);ks(b,{class:"w-4 h-4"}),G(()=>_=Rr(y,_,{onkeydown:i,class:"border px-2 py-1 rounded w-full",placeholder:"Enter your choice",...n})),Be(y,()=>t()[g],k=>t(t()[g]=k,!0)),m(f,p)}),m(r,o),ce()}ar(["click"]);var cm=A('<div class="absolute inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center"><p class="text-white text-xl">Uploading...</p></div>'),um=A('<div class="w-full h-full flex justify-center items-center relative"><img alt="Uploaded image" class="w-full h-full object-cover rounded-lg"> <button class="absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full" aria-label="Delete image"><!></button></div>'),dm=A('<span class="text-gray-500">Drag & Drop an image here or click to select</span>'),fm=A('<p class="text-red-500 mt-2"> </p>'),hm=A('<div class="relative w-full h-64 border-4 border-dashed border-gray-300 rounded-lg flex justify-center items-center cursor-pointer"><!> <input id="fileInput" type="file" accept=".jpg,.jpeg,.png,.gif" class="hidden"></div> <!>',1);function vm(r,e){le(e,!1);let t=q(e,"blockId",8),n=q(e,"coverImage",12,""),a=ye(!1),s=ye("");const i=["image/jpeg","image/jpg","image/png","image/gif"];function o(x){x.preventDefault(),x.currentTarget.classList.add("border-blue-500","border-4")}function l(x){x.preventDefault(),x.currentTarget.classList.remove("border-blue-500","border-4")}async function c(x){var S;x.preventDefault(),x.currentTarget.classList.remove("border-blue-500","border-4");const P=(S=x.dataTransfer.files)==null?void 0:S[0];P&&await d(P)}async function u(x){var S;const P=(S=x.target.files)==null?void 0:S[0];P&&await d(P)}async function d(x){var R;if(C(s,""),!i.includes(x.type)){C(s,"Only JPG, PNG, and GIF files are allowed.");return}if(!t()){C(s,"Missing block ID.");return}if(C(a,!0),n())try{const O=(R=n().split("/block-images/")[1])==null?void 0:R.split("?")[0];console.log("Trying to delete (upload step):",O),await xe.storage.from("block-images").remove([O])}catch(O){console.warn("Failed to delete previous image:",O)}const P=x.name.split(".").pop(),S=`coverImages/${t()}.${P}`,{error:I}=await xe.storage.from("block-images").upload(S,x,{cacheControl:"3600",upsert:!0});if(I){C(s,"Upload failed: "+I.message),C(a,!1);return}const{data:j}=xe.storage.from("block-images").getPublicUrl(S);n(`${j.publicUrl}?t=${Date.now()}`),C(a,!1)}async function f(){var S;if(!n())return;const x=(S=n().split("/block-images/")[1])==null?void 0:S.split("?")[0];console.log("Trying to delete (manual):",x);const{error:P}=await xe.storage.from("block-images").remove([x]);if(P){C(s,"Failed to delete image: "+P.message);return}n("")}We();var v=hm(),g=N(v),p=w(g);{var y=x=>{var P=cm();m(x,P)},_=x=>{var P=V(),S=N(P);{var I=R=>{var O=um(),M=w(O),H=T(M,2),W=w(H);ks(W,{class:"w-5 h-5"}),G(()=>he(M,"src",n())),Y("click",H,oa(f)),m(R,O)},j=R=>{var O=dm();m(R,O)};D(S,R=>{n()?R(I):R(j,!1)},!0)}m(x,P)};D(p,x=>{h(a)?x(y):x(_,!1)})}var $=T(p,2),b=T(g,2);{var k=x=>{var P=fm(),S=w(P);G(()=>X(S,h(s))),m(x,P)};D(b,x=>{h(s)&&x(k)})}Y("change",$,u),Y("dragover",g,o),Y("dragleave",g,l),Y("drop",g,c),Y("click",g,()=>{var x;return(x=document.getElementById("fileInput"))==null?void 0:x.click()}),m(r,v),ce()}var gm=A('<label class="block text-gray-700 font-medium">Title</label> <!>',1),pm=A('<label class="block text-gray-700 font-medium">Question</label> <!>',1),mm=A('<label class="block text-gray-700 font-medium">Description</label> <!>',1),bm=A('<label class="block text-gray-700 font-medium">Embed</label> <!>',1),ym=A('<label class="block text-gray-700 font-medium">Options</label> <!>',1),_m=A('<label class="block text-gray-700 font-medium">Text Align</label> <!>',1),wm=A('<label class="block text-gray-700 font-medium">Button Text</label> <!>',1),xm=A('<label class="block text-gray-700 font-medium">Placeholder</label> <!>',1),km=A('<label class="block text-gray-700 font-medium">Textbox Size</label> <!>',1),$m=A('<label class="block text-gray-700 font-medium">Start</label> <!>',1),Sm=A('<label class="block text-gray-700 font-medium">End</label> <!>',1),Em=A('<label class="block text-gray-700 font-medium">Max Rating</label> <!>',1),Tm=A('<label class="block text-gray-700 font-medium">Max Characters</label> <!>',1),Pm=A('<label class="block text-gray-700 font-medium">Left Label</label> <!>',1),Cm=A('<label class="block text-gray-700 font-medium">Right Label</label> <!>',1),Am=A('<label class="block text-gray-700 font-medium">Required field</label> <!> <label class="block text-gray-500 text-sm mt-1">If checked, users will be required to complete this field.</label>',1),Im=A('<label class="block text-gray-700 font-medium">Max Characters</label> <!>',1),Om=A('<label class="block text-gray-700 font-medium">Layout</label> <!>',1),jm=A('<label class="block text-gray-700 font-medium">Cover Image URL</label> <!> <!>',1),Lm=A('<div class="overflow-y-auto max-h-[calc(100vh-100px)] pr-2 space-y-4"><!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="flex gap-2"><!> <!></div> <!> <!> <!> <!> <!> <!> <!></div>');function Rm(r,e){le(e,!0);let t=q(e,"block",15);var n=Lm(),a=w(n);{var s=B=>{var L=gm(),U=T(N(L),2);Et(U,{get value(){return t().meta.title},set value(J){t(t().meta.title=J,!0)}}),m(B,L)};D(a,B=>{var L,U;((U=(L=t())==null?void 0:L.meta)==null?void 0:U.title)!==void 0&&B(s)})}var i=T(a,2);{var o=B=>{var L=pm(),U=T(N(L),2);Et(U,{get value(){return t().meta.question},set value(J){t(t().meta.question=J,!0)}}),m(B,L)};D(i,B=>{var L,U;((U=(L=t())==null?void 0:L.meta)==null?void 0:U.question)!==void 0&&B(o)})}var l=T(i,2);{var c=B=>{var L=mm(),U=T(N(L),2);Ja(U,{get value(){return t().meta.description},set value(J){t(t().meta.description=J,!0)}}),m(B,L)};D(l,B=>{var L,U;((U=(L=t())==null?void 0:L.meta)==null?void 0:U.description)!==void 0&&B(c)})}var u=T(l,2);{var d=B=>{var L=bm(),U=T(N(L),2);Et(U,{get value(){return t().meta.embed},set value(J){t(t().meta.embed=J,!0)}}),m(B,L)};D(u,B=>{var L,U;((U=(L=t())==null?void 0:L.meta)==null?void 0:U.embed)!==void 0&&B(d)})}var f=T(u,2);{var v=B=>{var L=ym(),U=T(N(L),2);lm(U,{get choices(){return t().meta.props.choices},set choices(J){t(t().meta.props.choices=J,!0)}}),m(B,L)};D(f,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.props)==null?void 0:J.choices)!==void 0&&B(v)})}var g=T(f,2);{var p=B=>{var L=_m(),U=T(N(L),2);sm(U,{get textAlign(){return t().meta.textAlign},set textAlign(J){t(t().meta.textAlign=J,!0)}}),m(B,L)};D(g,B=>{var L,U;((U=(L=t())==null?void 0:L.meta)==null?void 0:U.textAlign)!==void 0&&B(p)})}var y=T(g,2);{var _=B=>{var L=wm(),U=T(N(L),2);Et(U,{get value(){return t().meta.buttonText},set value(J){t(t().meta.buttonText=J,!0)}}),m(B,L)};D(y,B=>{var L,U;((U=(L=t())==null?void 0:L.meta)==null?void 0:U.buttonText)!==void 0&&B(_)})}var $=T(y,2);{var b=B=>{var L=xm(),U=T(N(L),2);Et(U,{get value(){return t().meta.props.placeholder},set value(J){t(t().meta.props.placeholder=J,!0)}}),m(B,L)};D($,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.props)==null?void 0:J.placeholder)!==void 0&&B(b)})}var k=T($,2);{var x=B=>{var L=km(),U=T(N(L),2);tr(U,{choices:["Small","Medium","Large","Extra Large"],get value(){return t().meta.props.size},set value(J){t(t().meta.props.size=J,!0)}}),m(B,L)};D(k,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.props)==null?void 0:J.size)!==void 0&&B(x)})}var P=T(k,2),S=w(P);{var I=B=>{var L=$m(),U=T(N(L),2);tr(U,{choices:["0","1"],get value(){return t().meta.props.start},set value(J){t(t().meta.props.start=J,!0)}}),m(B,L)};D(S,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.props)==null?void 0:J.start)!==void 0&&B(I)})}var j=T(S,2);{var R=B=>{var L=Sm(),U=T(N(L),2);tr(U,{choices:["3","4","5","6","7","8","9","10"],get value(){return t().meta.props.end},set value(J){t(t().meta.props.end=J,!0)}}),m(B,L)};D(j,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.props)==null?void 0:J.end)!==void 0&&B(R)})}var O=T(P,2);{var M=B=>{var L=Em(),U=T(N(L),2);tr(U,{choices:["3","4","5","6","7","8","9","10"],get value(){return t().meta.props.maxRating},set value(J){t(t().meta.props.maxRating=J,!0)}}),m(B,L)};D(O,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.props)==null?void 0:J.maxRating)!==void 0&&B(M)})}var H=T(O,2);{var W=B=>{var L=Tm(),U=T(N(L),2);Et(U,{get value(){return t().meta.props.maxCharacters},set value(J){t(t().meta.props.maxCharacters=J,!0)}}),m(B,L)};D(H,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.props)==null?void 0:J.maxCharacters)!==void 0&&B(W)})}var Q=T(H,2);{var ne=B=>{var L=Pm(),U=T(N(L),2);Et(U,{get value(){return t().meta.props.leftLabel},set value(J){t(t().meta.props.leftLabel=J,!0)}}),m(B,L)};D(Q,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.props)==null?void 0:J.leftLabel)!==void 0&&B(ne)})}var ue=T(Q,2);{var fe=B=>{var L=Cm(),U=T(N(L),2);Et(U,{get value(){return t().meta.props.rightLabel},set value(J){t(t().meta.props.rightLabel=J,!0)}}),m(B,L)};D(ue,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.props)==null?void 0:J.rightLabel)!==void 0&&B(fe)})}var ge=T(ue,2);{var Te=B=>{var L=Am(),U=T(N(L),2);Ya(U,{get checked(){return t().meta.validation.required},set checked(J){t(t().meta.validation.required=J,!0)}}),m(B,L)};D(ge,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.validation)==null?void 0:J.required)!=null&&B(Te)})}var _e=T(ge,2);{var de=B=>{var L=Im(),U=T(N(L),2);Et(U,{get value(){return t().meta.validation.maxLength},set value(J){t(t().meta.validation.maxLength=J,!0)}}),m(B,L)};D(_e,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.validation)==null?void 0:J.maxLength)!=null&&B(de)})}var $e=T(_e,2);{var Pe=B=>{var L=jm(),U=T(N(L),2);vm(U,{get blockId(){return t().id},get coverImage(){return t().meta.coverImageProps.coverImage},set coverImage(Ae){t(t().meta.coverImageProps.coverImage=Ae,!0)}});var J=T(U,2);{var Ne=Ae=>{var Fe=Om(),et=T(N(Fe),2);tr(et,{choices:["Wallpaper","Stack","Split-left","Split-right"],get value(){return t().meta.coverImageProps.layout},set value(dt){t(t().meta.coverImageProps.layout=dt,!0)}}),m(Ae,Fe)};D(J,Ae=>{t().meta.coverImageProps.coverImage!=null&&t().meta.coverImageProps.coverImage!==""&&Ae(Ne)})}m(B,L)};D($e,B=>{var L,U,J;((J=(U=(L=t())==null?void 0:L.meta)==null?void 0:U.coverImageProps)==null?void 0:J.coverImage)!==void 0&&B(Pe)})}m(r,n),ce()}var Nm=A('<p class="text-gray-400">No blocks to display</p>'),Dm=A('<main class="flex flex-col h-full mt-17"><!> <!> <div class="flex justify-center"><!></div> <div class="flex flex-1 overflow-hidden mt-2 min-h-[400px]"><div class="w-1/4 p-2 overflow-auto min-h-0"><div class="flex justify-end mb-2"><!></div> <!></div> <div class="w-1/2 h-[400px] overflow-auto bg-white m-1 border border-dotted border-gray-400 rounded-xl shadow-sm flex items-center justify-center"><!></div> <div class="w-1/4 p-2 overflow-auto h-[400px] border-l border-gray-200"><!></div></div></main>');function Mm(r,e){le(e,!0),zl("blockPickerClick",y);let t=ae(!1),n=ae(!0),a=ae(K([]));K([]);let s=ae(0),i=ae(K({})),o=ae(K(e.route.result.path.params.id)),l=ae("Build"),c="",u=ae(!1),d;async function f(){try{d=(await xs(h(o))).data.form,C(i,K(d.meta));const P=await Uo(h(o));C(a,K(P.data.blocks.slice().sort((S,I)=>S.meta.blockTypeId-I.meta.blockTypeId))),C(u,!0)}catch(x){console.error("Error fetching form or blocks:",x)}}Ge(f);function v(x){C(i,K(x.meta))}async function g(x){try{await _i(x)}catch(P){console.error("Failed to save block:",P)}}const p=Ss(g,2e3);gt(()=>{const x=h(a)[h(s)];if(!h(u)||!x)return;const P=JSON.stringify(x);P!==c&&(c=P,p(x))}),gt(()=>{const P=e.route.result.path.original.split("/").filter(Boolean);C(n,P[P.length-2]==="design"),C(l,K(h(n)?"Design":"Build"))});async function y(x){await Ga(h(o),x),await f(),C(s,K(h(a).findIndex((P,S)=>P==null&&S<h(a).length-1))),h(s)===-1&&C(s,K(Math.max(0,h(a).length-2)))}async function _(){try{await Promise.all(h(a).map(x=>_i(x)))}catch(x){console.error("Failed to update block positions:",x)}}async function $(x){if(await Qa("Delete Confirmation","Are you sure you want to delete this block?","Cancel","Yes! Delete it")){const{error:S}=await sh(x);S?console.error("Failed to delete block:",S.message):(await f(),C(s,K(Math.min(h(s),Math.max(0,h(a).length-1)))))}}const b=x=>{C(s,K(x))},k=x=>{h(a)[h(s)]=x.detail};ha(r,{get activeMenuLabel(){return h(l)},get formId(){return h(o)},set formId(x){C(o,K(x))},children:(x,P)=>{var S=Dm(),I=w(S);vg(I,{get show(){return h(t)},close:()=>C(t,!1)});var j=T(I,2);Xo(j,{});var R=T(j,2),O=w(R);ki(O,{largeIcon:!0,clickHandler:()=>C(t,!0)});var M=T(R,2),H=w(M),W=w(H),Q=w(W);ki(Q,{clickHandler:()=>C(t,!0)});var ne=T(W,2);ig(ne,{changeBlock:b,deleteBlock:$,updateBlockPositions:_,get blockNo(){return h(s)},set blockNo(B){C(s,K(B))},get blocks(){return h(a)},set blocks(B){C(a,K(B))}});var ue=T(H,2),fe=w(ue);{var ge=B=>{Zo(B,{canAnswer:!1,get block(){return h(a)[h(s)]},set block(L){h(a)[h(s)]=L},$$events:{updateBlock:k}})},Te=B=>{var L=Nm();m(B,L)};D(fe,B=>{h(a)[h(s)]?B(ge):B(Te,!1)})}var _e=T(ue,2),de=w(_e);{var $e=B=>{tm(B,{formProp:d,changeColorOnForm:v})},Pe=B=>{var L=V(),U=N(L);{var J=Ne=>{Rm(Ne,{get block(){return h(a)[h(s)]},set block(Ae){h(a)[h(s)]=Ae}})};D(U,Ne=>{h(a)[h(s)]&&Ne(J)},!0)}m(B,L)};D(de,B=>{h(n)?B($e):B(Pe,!1)})}m(x,S)},$$slots:{default:!0}}),ce()}var Bm=A('<button class="flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg shadow-md"><!> <span>Download CSV</span></button>'),Um=A('<button class="px-6 py-3 bg-red-600 text-white rounded-lg shadow-md flex items-center gap-2"><!> <span> </span></button>'),Fm=A('<div class="flex flex-col items-center text-center text-gray-500 py-24"><!> <h2 class="text-xl font-semibold">No responses yet</h2> <p class="text-gray-400 mt-2">Once someone submits the form, their answers will appear here.</p></div>'),zm=A('<div class="text-xs uppercase text-gray-500 tracking-wide mb-1"> </div>'),qm=A('<div><!> <div class="flex items-center gap-2 text-gray-800 break-words"><!> <span> </span></div></div>'),Hm=A('<div class="text-gray-400 italic">No answers</div>'),Vm=A('<div class="bg-white shadow-xl rounded-lg w-full p-4 border border-gray-200 space-y-2 relative flex items-start"><input type="checkbox" class="w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"> <div class="pl-12 w-full"><!> <div class="text-sm text-gray-500 pt-3 border-t mt-2"> </div></div></div>'),Wm=A('<div class="space-y-6 overflow-y-auto max-h-[80vh] pb-4"></div>'),Gm=A('<div class="max-w-full mx-auto mt-8 px-6"><div class="flex justify-end space-x-4 mb-6"><!> <!></div> <!></div>');function Jm(r,e){le(e,!0);let t=ae(K(e.route.result.path.params.id)),n=[],a=new Set;const s=d=>new Date(d).toLocaleString(void 0,{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),i=d=>{const f=new Set(a);f.has(d)?f.delete(d):f.add(d),a=f},o=async()=>{const d=[...a];try{await Promise.all(d.map(f=>ah(f))),n=n.filter(f=>!a.has(f.id)),a=new Set}catch{}};Ge(async()=>{const d=await rh(h(t));d.success?n=d.data.responses:d.error});function l(d){return d==null?"":`"${String(d).replace(/"/g,'""')}"`}function c(){if(n.length===0)return;const d=Array.from(new Set(n.flatMap($=>{var b;return((b=$.meta)==null?void 0:b.map(k=>k.blockTypeId))||[]}))),f=["ID","Timestamp",...d.map($=>`Answer-${$}`)],v=n.map($=>{var k;const b=new Map((k=$.meta)==null?void 0:k.map(x=>[x.blockTypeId,x.answer||""]));return[$.id,s($.created_at),...d.map(x=>l(b.get(x)||""))]}),g=[f.join(","),...v.map($=>$.join(","))].join(`
`),p=new Blob([g],{type:"text/csv"}),y=URL.createObjectURL(p),_=document.createElement("a");_.href=y,_.download=`responses-${h(t)}.csv`,document.body.appendChild(_),_.click(),document.body.removeChild(_)}const u=d=>{const f=sn.find(v=>v.blockTypeId===d);return f?f.icon:null};ha(r,{activeMenuLabel:"Responses",get formId(){return h(t)},set formId(d){C(t,K(d))},children:(d,f)=>{var v=Gm(),g=w(v),p=w(g);{var y=P=>{var S=Bm(),I=w(S);$h(I,{class:"w-5 h-5"}),Y("click",S,c),m(P,S)};D(p,P=>{n.length>0&&P(y)})}var _=T(p,2);{var $=P=>{var S=Um(),I=w(S);Wo(I,{class:"w-5 h-5"});var j=T(I,2),R=w(j);G(()=>X(R,`${a.size??""} selected - Delete`)),Y("click",S,o),m(P,S)};D(_,P=>{a.size>0&&P($)})}var b=T(g,2);{var k=P=>{var S=Fm(),I=w(S);Ih(I,{class:"w-16 h-16 mb-4 opacity-30"}),m(P,S)},x=P=>{var S=Wm();Me(S,21,()=>n,Ue,(I,j)=>{var R=Vm(),O=w(R),M=T(O,2),H=w(M);{var W=fe=>{var ge=V(),Te=N(ge);Me(Te,17,()=>h(j).meta,Ue,(_e,de)=>{var $e=qm(),Pe=w($e);{var B=Fe=>{var et=zm(),dt=w(et);G(()=>X(dt,h(de).question||h(de).title)),m(Fe,et)};D(Pe,Fe=>{(h(de).question||h(de).title)&&Fe(B)})}var L=T(Pe,2),U=w(L);{var J=Fe=>{var et=V(),dt=N(et);Nt(dt,()=>u(h(de).blockTypeId),(bt,Gt)=>{Gt(bt,{class:"w-5 h-5 text-gray-600"})}),m(Fe,et)};D(U,Fe=>{u(h(de).blockTypeId)!==null&&Fe(J)})}var Ne=T(U,2),Ae=w(Ne);G(()=>{Se($e,`p-3 ${De[h(de).blockTypeId]||"bg-gray-100"} rounded-lg mb-4`),X(Ae,h(de).answer||"---")}),m(_e,$e)}),m(fe,ge)},Q=fe=>{var ge=Hm();m(fe,ge)};D(H,fe=>{h(j).meta&&h(j).meta.length>0?fe(W):fe(Q,!1)})}var ne=T(H,2),ue=w(ne);G((fe,ge)=>{Ic(O,fe),he(O,"aria-label",`Select response ${h(j).id}`),X(ue,ge)},[()=>a.has(h(j).id),()=>s(h(j).created_at)]),Y("change",O,()=>i(h(j).id)),m(I,R)}),m(P,S)};D(b,P=>{n.length===0?P(k):P(x,!1)})}m(d,v)},$$slots:{default:!0}}),ce()}class Km{constructor(e){this.value=e,this.error=null}required(e="This field is required."){return!this.error&&(this.value===""||this.value==null)&&(this.error=e),this}email(e="Invalid email format."){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!this.error&&this.value&&!t.test(this.value)&&(this.error=e),this}url(e="Invalid URL."){const t=/^(https?:\/\/)([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(\/[^\s]*)?$/;return!this.error&&this.value&&!t.test(this.value)&&(this.error=e),this}min(e,t){var n;return!this.error&&((n=this.value)==null?void 0:n.length)<e&&(this.error=t||`Minimum ${e} characters required.`),this}max(e,t){var n;return!this.error&&((n=this.value)==null?void 0:n.length)>e&&(this.error=t||`Maximum ${e} characters allowed.`),this}minSelection(e="Please select at least one option."){return!this.error&&(!this.value||this.value.length===0)&&(this.error=e),this}result(){return this.error}}function Ym({meta:r,value:e}){var l;if(!(r!=null&&r.component))return null;const{required:t}=r.validation||{},{minCharacters:n,maxCharacters:a}=r.props||{},s=new Km(e),i=()=>t?s.required():s,o={ShortText:()=>i(),DropdownBlock:()=>i(),StarRatings:()=>i(),DatePicker:()=>i(),Number:()=>i(),PhoneNumber:()=>i(),OpinionScale:()=>i(),Signature:()=>i(),Website:()=>i().url(),Scheduler:()=>i(),Email:()=>i().email(),LongText:()=>i().min(n),Select:()=>i().minSelection(),YesNo:()=>i(),CheckboxBlock:()=>i(),Website:()=>i().url()};return((l=o[r.component])==null?void 0:l.call(o).result())||null}var Qm=A("<div><!></div>"),Xm=A('<div class="text-center mt-20 text-red-600 text-lg px-4"><p> </p> <p class="text-sm text-gray-500 mt-2">Please check the link or try again later.</p></div>'),Zm=A("<div><!></div>"),e0=A('<button class="w-8 h-8 bg-gray-800 text-white rounded-md hover:bg-gray-700 flex items-center justify-center" title="Previous"><!></button>'),t0=A('<button class="w-8 h-8 bg-gray-800 text-white rounded-md hover:bg-gray-700 flex items-center justify-center" title="Next"><!></button>'),r0=A('<div class="flex gap-2 items-center"><!> <!></div>'),n0=A('<main class="relative w-full h-full"><!> <div class="absolute bottom-10 right-10 z-10 flex gap-4 items-center"><!> <a href="https://fabform.io" target="_blank" class="bg-black text-white text-sm flex items-center gap-2 py-1 px-4 rounded-md hover:bg-gray-800"><span class="text-gray-300">Powered by</span> <span class="text-white">FabForm</span></a></div></main>');function a0(r,e){le(e,!0);let t=ae(!0),n=ae(""),a=ae(K([])),s=ae(0),i=ae(!1),o,l,c=ae("bottom"),u=ae(K({y:0,duration:1e3,opacity:.7})),d=ae(!1);function f(){const I=window.innerHeight,j=1.5;C(u,K({y:h(c)==="top"?-I*j:I*j,duration:1e3,opacity:.7,easing:R=>1-Math.pow(1-R,3)}))}Ge(()=>(setTimeout(()=>C(t,!1),4e3),v(),window.addEventListener("resize",f),window.addEventListener("orientationchange",f),()=>{window.removeEventListener("resize",f),window.removeEventListener("orientationchange",f)}));async function v(){const I=e.route.result.path.params.id,j=await xs(I);if(!j.success){C(n,K(j.error));return}const R=j.data.form;o=R.id,l=R.meta,Zf(o);const O=await Uo(o);if(!O.success){C(n,K(O.error));return}C(a,K(O.data.blocks.slice().sort((M,H)=>M.meta.blockTypeId-H.meta.blockTypeId))),C(s,0),C(c,"bottom"),f(),C(d,!0)}async function g(){const I=h(a).filter(j=>j.value!=null).map(j=>({blockId:j.id,blockTypeId:j.meta.blockTypeId,question:j.meta.question,answer:j.value}));await th(o,I),C(i,!0)}async function p(){C(n,"");const I=h(a)[h(s)];if(I.type!=="thankyou"){const j=Ym(I);if(j){C(n,K(j));return}}h(s)===h(a).length-2&&await g(),h(s)<h(a).length-1&&(C(c,"bottom"),f(),C(s,h(s)+1))}function y(){h(s)>0&&(C(c,"top"),f(),C(s,h(s)-1))}var _=n0(),$=w(_);{var b=I=>{var j=Qm(),R=w(j);xv(R,{}),Nr(3,j,()=>Qo,()=>({duration:600})),m(I,j)},k=I=>{var j=V(),R=N(j);{var O=H=>{var W=Xm(),Q=w(W),ne=w(Q);G(()=>X(ne,h(n))),m(H,W)},M=H=>{var W=V(),Q=N(W);{var ne=ue=>{var fe=V(),ge=N(fe);kc(ge,()=>h(s),Te=>{var _e=Zm(),de=w(_e);Zo(de,{uiMeta:l,canAnswer:!0,get errorMessage(){return h(n)},nextBlock:p,get block(){return h(a)[h(s)]},set block($e){h(a)[h(s)]=$e}}),Nr(1,_e,()=>Bv,()=>h(u)),m(Te,_e)}),m(ue,fe)};D(Q,ue=>{h(d)&&ue(ne)},!0)}m(H,W)};D(R,H=>{h(n)&&h(a).length===0?H(O):H(M,!1)},!0)}m(I,j)};D($,I=>{h(t)?I(b):I(k,!1)})}var x=T($,2),P=w(x);{var S=I=>{var j=r0(),R=w(j);{var O=W=>{var Q=e0(),ne=w(Q);vh(ne,{size:16}),Y("click",Q,y),m(W,Q)};D(R,W=>{h(s)>0&&W(O)})}var M=T(R,2);{var H=W=>{var Q=t0(),ne=w(Q);fh(ne,{size:16}),Y("click",Q,p),m(W,Q)};D(M,W=>{h(s)<h(a).length-2&&W(H)})}m(I,j)};D(P,I=>{h(i)||I(S)})}m(r,_),ce()}var s0=A('<p class="text-red-500 text-center"> </p>'),i0=A('<div class="min-h-screen flex justify-center items-center bg-gray-100"><div class="w-full max-w-sm bg-white p-8 rounded-xl shadow-lg space-y-4"><h2 class="text-2xl font-bold text-center">Login</h2> <!> <form class="space-y-3"><input type="email" placeholder="Email" class="w-full border px-3 py-2 rounded"> <input type="password" placeholder="Password" class="w-full border px-3 py-2 rounded"> <button type="submit" class="w-full py-2 bg-blue-600 text-white rounded"> </button></form> <p class="text-center text-sm text-gray-600 mt-2">Dont have an account? <span class="text-blue-600 cursor-pointer hover:underline">Sign up</span></p></div></div>');function o0(r,e){le(e,!1);let t=ye(""),n=ye(""),a=ye(""),s=ye(!1);async function i(){if(C(a,""),!h(t)||!h(n)){C(a,"Email and password are required");return}C(s,!0);try{await ot.loginWithEmail(h(t),h(n))?$t("/dashboard"):(C(a,"Hmm that email or password doesnt look right. Please try again."),setTimeout(()=>C(a,""),4e3))}catch(b){C(a,b.message||"Hmm that email or password doesnt look right. Please try again."),setTimeout(()=>C(a,""),4e3)}finally{C(s,!1)}}function o(){$t("/signup")}We();var l=i0(),c=w(l),u=T(w(c),2);{var d=b=>{var k=s0(),x=w(k);G(()=>X(x,h(a))),m(b,k)};D(u,b=>{h(a)&&b(d)})}var f=T(u,2),v=w(f),g=T(v,2),p=T(g,2),y=w(p),_=T(f,2),$=T(w(_));G(()=>{p.disabled=h(s),X(y,h(s)?"Logging in":"Login")}),Be(v,()=>h(t),b=>C(t,b)),Be(g,()=>h(n),b=>C(n,b)),Y("submit",f,It(i)),Y("click",$,o),m(r,l),ce()}var Rn=zc(()=>ot),l0=A('<p class="text-red-500 text-center"> </p>'),c0=A('<div class="min-h-screen flex justify-center items-center bg-gray-100"><div class="w-full max-w-sm bg-white p-8 rounded-xl shadow-lg space-y-4"><h2 class="text-2xl font-bold text-center">Sign Up</h2> <!> <form class="space-y-3"><input type="email" placeholder="Email" class="w-full border px-3 py-2 rounded"> <input type="password" placeholder="Password" class="w-full border px-3 py-2 rounded"> <input type="password" placeholder="Confirm Password" class="w-full border px-3 py-2 rounded"> <button type="submit" class="w-full py-2 bg-blue-600 text-white rounded"> </button></form> <p class="text-center text-gray-600 text-sm">Already have an account? <a href="/login" class="text-blue-600 hover:underline font-medium">Log in</a></p></div></div>');function u0(r,e){le(e,!1);let t=ye(""),n=ye(""),a=ye(""),s=ye(""),i=ye(!1);async function o(){C(s,"");const k=h(t).trim(),x=h(n).trim(),P=h(a).trim();if(!k||!x||!P){C(s,"All fields are required");return}if(x!==P){C(s,"Passwords do not match"),setTimeout(()=>C(s,""),4e3);return}if(x.length<6){C(s,"Password must be at least 6 characters");return}C(i,!0);try{if(!await Rn().createUser(k,x))throw new Error(Rn().state.error||"Signup failed");setTimeout(async()=>{try{(await fetch("https://lbwtzoxtlssyjeututrs.supabase.co/functions/v1/send_welcome_email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k})})).ok&&st.success("Welcome email sent!",{position:"top-right",icon:"",duration:4e3})}catch(I){console.error("Failed to send welcome email:",I)}},1500),Rn(Rn().state.user=null),st.success(`Account created for ${k}. Please log in.`,{position:"top-right",icon:"",duration:1e4}),setTimeout(()=>$t("/login"),2e3)}catch(S){C(s,S.message||"Signup failed")}finally{C(i,!1)}}We();var l=c0(),c=w(l),u=T(w(c),2);{var d=k=>{var x=l0(),P=w(x);G(()=>X(P,h(s))),m(k,x)};D(u,k=>{h(s)&&k(d)})}var f=T(u,2),v=w(f),g=T(v,2),p=T(g,2),y=T(p,2),_=w(y),$=T(f,2),b=T(w($));G(()=>{y.disabled=h(i),X(_,h(i)?"Creating":"Sign Up")}),Be(v,()=>h(t),k=>C(t,k)),Be(g,()=>h(n),k=>C(n,k)),Be(p,()=>h(a),k=>C(a,k)),Y("submit",f,It(o)),Y("click",b,It(()=>$t("/login"))),m(r,l),ce()}var d0=(r,e)=>C(e,!h(e)),f0=(r,e)=>C(e,!1),h0=A('<div class="p-4 bg-green-200 border rounded shadow-lg fixed top-20 left-1/2 -translate-x-1/2 z-50"><h2 class="text-lg font-bold mb-2">Portal Content</h2> <p>This snippet is rendered via portal in Svelte 5.</p> <button class="mt-2 px-3 py-1 bg-red-600 text-white rounded">Close</button></div>'),v0=A('<button class="bg-blue-500 hover:bg-blue-700 text-white font-bold m-5 px-5">Toggle Portal</button> <!>',1);function g0(r){let e=ae(!1);function t(o,l=document.body){l.appendChild(o)}var n=v0(),a=N(n);a.__click=[d0,e];var s=T(a,2);{var i=o=>{(c=>{var u=h0(),d=T(w(u),4);d.__click=[f0,e],ut(u,f=>t==null?void 0:t(f)),m(c,u)})(o)};D(s,o=>{h(e)&&o(i)})}m(r,n)}ar(["click"]);var p0=A('<button class="block w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 text-left"> </button>'),m0=A('<div class="absolute mt-2 w-40 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 z-10"><div class="py-1"></div></div>'),b0=A('<div class="mt-10"><!></div>'),y0=A('<div class="min-h-screen bg-gray-50 flex flex-col items-center justify-center px-6 py-12"><div class="w-full max-w-4xl space-y-6 bg-white p-8 rounded-2xl shadow-xl border border-gray-200"><div class="flex flex-col space-y-4 items-center md:items-start"><div class="w-full flex flex-col md:flex-row md:items-center md:space-x-2 space-y-2 md:space-y-0"><input class="w-full md:w-80 px-3 py-2 rounded-md border border-gray-300 text-gray-800 text-sm" type="text" readonly=""> <!></div> <div class="relative inline-block text-left"><button class="inline-flex justify-between w-40 rounded-md bg-gray-800 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700 focus:outline-none"> <svg class="ml-2 h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 8l4 4 4-4"></path></svg></button> <!></div></div> <div class="relative bg-gray-900 rounded-lg p-4 text-sm font-mono text-white overflow-auto max-h-[300px]"><pre class="whitespace-pre-wrap break-all"> </pre> <button class="absolute bottom-2 right-2 p-1 rounded hover:bg-gray-700 transition" aria-label="Copy code"><!></button></div></div> <!></div>');function _0(r,e){var c,u,d,f;le(e,!0);let t=ae(K(((f=(d=(u=(c=e.route)==null?void 0:c.result)==null?void 0:u.path)==null?void 0:d.params)==null?void 0:f.id)??"")),n=ae("Inline Embed"),a=ae(!1),s=ae(!1),i=be(()=>`${fn}/v/${h(t)}`),o=be(()=>{switch(h(n)){case"Inline Embed":return`<iframe src="${h(i)}" style="width:100%; height:300px;" frameborder="0"></iframe>`;case"Popup":return`<button onclick="window.open('${h(i)}', '_blank', 'width=600,height=400')">Open Form</button>`;case"Fullpage":return`<a href="${h(i)}" target="_blank">Go to Fullpage Form</a>`;default:return""}});async function l(){try{await navigator.clipboard.writeText(h(o)),C(a,!0),setTimeout(()=>C(a,!1),3e3)}catch(v){console.error("[COPY] failed",v)}}ha(r,{activeMenuLabel:"Share",get formId(){return h(t)},set formId(v){C(t,K(v))},children:(v,g)=>{var p=y0(),y=w(p),_=w(y),$=w(_),b=w($),k=T(b,2);Go(k,{get link(){return h(i)}});var x=T($,2),P=w(x),S=w(P),I=T(P,2);{var j=ue=>{var fe=m0(),ge=w(fe);Me(ge,20,()=>["Inline Embed","Popup","Fullpage"],Ue,(Te,_e)=>{var de=p0(),$e=w(de);G(()=>X($e,_e)),Y("click",de,()=>{C(n,K(_e)),C(s,!1)}),m(Te,de)}),m(ue,fe)};D(I,ue=>{h(s)&&ue(j)})}var R=T(_,2),O=w(R),M=w(O),H=T(O,2),W=w(H);xh(W,{class:"w-5 h-5 text-white"}),ut(H,(ue,fe)=>vt==null?void 0:vt(ue,fe),()=>({text:"Copy code",position:"bottom"})),it(()=>Y("click",H,l));var Q=T(y,2);{var ne=ue=>{var fe=b0(),ge=w(fe);Ko(ge,{message:"Code Copied!",type:"success"}),m(ue,fe)};D(Q,ue=>{h(a)&&ue(ne)})}G(()=>{lo(b,h(i)),X(S,`${h(n)??""} `),X(M,h(o))}),Y("click",P,()=>C(s,!h(s))),m(v,p)},$$slots:{default:!0}}),ce()}var w0=A('<div class="min-h-screen bg-gray-50 flex flex-col items-center justify-center px-6 py-12"><h2>Settings for My Form</h2> <p1>coming soon</p1></div>');function x0(r,e){le(e,!0);let t=ae(K(e.route.result.path.params.id));ha(r,{activeMenuLabel:"Settings",get formId(){return h(t)},set formId(n){C(t,K(n))},children:(n,a)=>{var s=w0();m(n,s)},$$slots:{default:!0}}),ce()}var k0=A('<div class="text-red-600 mb-2"> </div>'),$0=A('<div class="text-green-600 mb-2"> </div>'),S0=A('<div class="max-w-md mx-auto mt-10 p-6 bg-white border rounded-lg shadow"><h2 class="text-2xl font-semibold mb-4">Change Email</h2> <!> <!> <form class="space-y-4"><div><label class="block text-gray-700">Email</label> <input type="email" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-400" required></div> <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition"><!></button></form></div>');function E0(r,e){le(e,!1);let t=ye(""),n=ye(!1),a=ye(""),s=ye("");Ge(()=>{ot.state.user&&C(t,ot.state.user.email||"")});const i=async()=>{if(C(a,""),C(s,""),!h(t)){C(a,"Email cannot be empty.");return}C(n,!0);try{await ot.updateEmail(h(t))&&C(s,"Email updated successfully!")}catch(b){C(a,(b==null?void 0:b.message)||"Failed to update email.")}finally{C(n,!1)}};We();var o=S0(),l=T(w(o),2);{var c=b=>{var k=k0(),x=w(k);G(()=>X(x,h(a))),m(b,k)};D(l,b=>{h(a)&&b(c)})}var u=T(l,2);{var d=b=>{var k=$0(),x=w(k);G(()=>X(x,h(s))),m(b,k)};D(u,b=>{h(s)&&b(d)})}var f=T(u,2),v=w(f),g=T(w(v),2),p=T(v,2),y=w(p);{var _=b=>{var k=gr("Updating...");m(b,k)},$=b=>{var k=gr("Update");m(b,k)};D(y,b=>{h(n)?b(_):b($,!1)})}G(()=>p.disabled=h(n)),Be(g,()=>h(t),b=>C(t,b)),Y("submit",f,It(i)),m(r,o),ce()}var T0=A('<div class="text-red-600 mb-2"> </div>'),P0=A('<div class="text-green-600 mb-2"> </div>'),C0=A('<div class="max-w-md mx-auto mt-10 p-6 bg-white border rounded-lg shadow"><h2 class="text-2xl font-semibold mb-4">Change Password</h2> <!> <!> <form class="space-y-4"><div><label class="block text-gray-700">New Password</label> <input type="password" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-400" required></div> <div><label class="block text-gray-700">Confirm New Password</label> <input type="password" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-400" required></div> <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition"><!></button></form></div>');function A0(r,e){le(e,!1);let t=ye(""),n=ye(""),a=ye(!1),s=ye(""),i=ye("");const o=async()=>{if(C(s,""),C(i,""),!h(t)||!h(n)){C(s,"All fields are required.");return}if(h(t)!==h(n)){C(s,"Passwords do not match.");return}C(a,!0);try{await ot.updatePassword(h(t))&&(C(i,"Password updated successfully!"),C(t,""),C(n,""))}catch(P){C(s,(P==null?void 0:P.message)||"Failed to update password.")}finally{C(a,!1)}};We();var l=C0(),c=T(w(l),2);{var u=P=>{var S=T0(),I=w(S);G(()=>X(I,h(s))),m(P,S)};D(c,P=>{h(s)&&P(u)})}var d=T(c,2);{var f=P=>{var S=P0(),I=w(S);G(()=>X(I,h(i))),m(P,S)};D(d,P=>{h(i)&&P(f)})}var v=T(d,2),g=w(v),p=T(w(g),2),y=T(g,2),_=T(w(y),2),$=T(y,2),b=w($);{var k=P=>{var S=gr("Updating...");m(P,S)},x=P=>{var S=gr("Update");m(P,S)};D(b,P=>{h(a)?P(k):P(x,!1)})}G(()=>$.disabled=h(a)),Be(p,()=>h(t),P=>C(t,P)),Be(_,()=>h(n),P=>C(n,P)),Y("submit",v,It(o)),m(r,l),ce()}var I0=A('<article class="relative bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-200"><div class="flex items-start gap-4"><div class="w-12 h-12 rounded-lg bg-slate-100 flex items-center justify-center text-2xl font-bold text-slate-600"> </div> <div class="flex-1"><div class="flex items-center justify-between gap-2"><h3 class="text-lg font-semibold text-slate-800"> </h3> <span class="px-2 py-1 text-xs rounded-full bg-amber-100 text-amber-700"> </span></div> <p class="text-sm text-slate-500 mt-1"> </p> <div class="mt-4"><button class="px-3 py-2 rounded-lg bg-teal-600 text-white text-sm shadow">Connect</button></div></div></div> <div class="absolute -bottom-3 left-4 px-3 py-1 rounded-full text-xs bg-gradient-to-r from-teal-500 to-emerald-500 text-white shadow-lg">Paid feature</div></article>'),O0=A('<div class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50"><div class="w-full max-w-2xl bg-white rounded-2xl p-8 shadow-2xl relative"><button class="absolute right-4 top-4 text-slate-500"></button> <div class="flex gap-6"><div class="w-24 h-24 rounded-lg bg-gradient-to-br from-teal-500 to-emerald-500 text-white flex items-center justify-center text-3xl font-bold">FB</div> <div><h3 class="text-xl font-bold text-slate-800">Upgrade to Pro to connect integrations</h3> <p class="text-sm text-slate-500 mt-1">This mockup demonstrates the paid-flow. In the live app you would be redirected to billing and then to an OAuth / connection screen.</p> <div class="mt-4"><a href="https://fabform.io/pricing/" target="_blank" class="px-4 py-2 bg-teal-600 text-white rounded-lg">Upgrade for $59 lifetime deal</a></div></div></div> <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4"><div class="p-4 border rounded-lg"><div class="text-xs text-slate-500">What you get</div> <ul class="mt-2 text-sm text-slate-700 list-disc list-inside"><li>Unlimited integrations</li> <li>Priority support</li> <li>Team shared credentials</li></ul></div> <div class="p-4 border rounded-lg"><div class="text-xs text-slate-500">Billing</div> <div class="mt-2 text-sm text-slate-700">One-time payment of $59 for a lifetime deal. Upgrade instantly, no code required.</div></div></div></div></div>'),j0=A('<div class="min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-100 p-8 font-sans"><div class="max-w-6xl mx-auto"><header class="flex items-center justify-between mb-10"><div class="flex items-center gap-4"><div class="w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-emerald-500 flex items-center justify-center text-white text-lg font-bold shadow-lg">FB</div> <div><h1 class="text-3xl font-extrabold leading-tight text-slate-800">Integrations</h1> <p class="text-sm text-slate-500">Connect your forms to tools you already use  available on paid plans.</p></div></div> <a href="https://fabform.io/pricing/" target="_blank" class="px-4 py-2 bg-teal-600 text-white rounded-lg shadow hover:brightness-95">Upgrade</a></header> <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></section> <footer class="mt-12 bg-white rounded-2xl p-8 shadow-md flex flex-col md:flex-row md:items-center md:justify-between gap-6"><div><h4 class="text-xl font-semibold text-slate-800">Integrations are part of Pro</h4> <p class="text-sm text-slate-500">Connect to Slack, Sheets, Zapier and more. Upgrade to unlock live integrations and automated workflows.</p></div> <div class="flex items-center gap-3"><div class="text-2xl font-extrabold text-slate-800">$59 <span class="text-base font-medium">lifetime deal</span></div> <a href="https://fabform.io/pricing/" target="_blank" class="px-5 py-2 bg-teal-600 text-white rounded-lg shadow">Upgrade now</a></div></footer></div> <!></div>');function L0(r){let e=ye(!1);const t=[{id:"slack",name:"Slack",description:"Send form responses to Slack channels.",badge:"Paid",logo:"S"},{id:"google-sheets",name:"Google Sheets",description:"Log submissions to a spreadsheet.",badge:"Paid",logo:"G"},{id:"zapier",name:"Zapier",description:"Connect to 5,000+ apps via Zapier.",badge:"Paid",logo:"Z"},{id:"mailchimp",name:"Mailchimp",description:"Sync subscribers from responses.",badge:"Paid",logo:"M"},{id:"webhook",name:"Webhooks",description:"Real-time POSTs on new submissions.",badge:"Paid",logo:"W"},{id:"notion",name:"Notion",description:"Create pages for each response.",badge:"Paid",logo:"N"}];function n(c){C(e,!0)}var a=j0(),s=w(a),i=T(w(s),2);Me(i,5,()=>t,Ue,(c,u)=>{var d=I0(),f=w(d),v=w(f),g=w(v),p=T(v,2),y=w(p),_=w(y),$=w(_),b=T(_,2),k=w(b),x=T(y,2),P=w(x),S=T(x,2),I=w(S);G(()=>{X(g,h(u).logo),X($,h(u).name),X(k,h(u).badge),X(P,h(u).description)}),Y("click",I,()=>n(h(u).name)),m(c,d)});var o=T(s,2);{var l=c=>{var u=O0(),d=w(u),f=w(d);Y("click",f,()=>C(e,!1)),m(c,u)};D(o,c=>{h(e)&&c(l)})}m(r,a)}var R0=A('<p class="text-green-600 text-center mt-3"> </p>'),N0=A('<p class="text-red-600 text-center mt-3"> </p>'),D0=A('<div class="min-h-screen flex items-center justify-center bg-gray-100"><div class="bg-white p-8 rounded-2xl shadow-lg w-full max-w-sm"><h1 class="text-2xl font-bold text-center mb-6 text-gray-800">Mark User as Paid</h1> <div class="space-y-4"><input type="email" placeholder="Enter user email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"> <button class="w-full px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 transition disabled:opacity-50"><!></button> <!> <!></div></div></div>');function M0(r,e){le(e,!1);let t=ye(""),n=ye(!1),a=ye(""),s=ye("");async function i(){if(!h(t)){C(s,"Please enter an email address.");return}C(n,!0),C(s,""),C(a,""),await ot.setUserPaidByEmail(h(t))?C(a,`User ${h(t)} marked as paid successfully.`):C(s,ot.state.error||"Something went wrong."),C(n,!1)}We();var o=D0(),l=w(o),c=T(w(l),2),u=w(c),d=T(u,2),f=w(d);{var v=b=>{var k=gr("Processing...");m(b,k)},g=b=>{var k=gr("Mark as Paid");m(b,k)};D(f,b=>{h(n)?b(v):b(g,!1)})}var p=T(d,2);{var y=b=>{var k=R0(),x=w(k);G(()=>X(x,h(a))),m(b,k)};D(p,b=>{h(a)&&b(y)})}var _=T(p,2);{var $=b=>{var k=N0(),x=w(k);G(()=>X(x,h(s))),m(b,k)};D(_,b=>{h(s)&&b($)})}G(()=>d.disabled=h(n)),Be(u,()=>h(t),b=>C(t,b)),Y("click",d,i),m(r,o),ce()}const Dt=()=>ot.state.user?!0:($t("/login"),!1),B0=[{path:"",hooks:{pre:()=>$t("/dashboard")}},{path:"login",component:o0},{path:"signup",component:u0},{path:"dashboard",component:dg,hooks:{pre:Dt}},{path:"order",component:M0,hooks:{pre:Dt}},{path:"share/(?<id>.*)",component:_0,hooks:{pre:Dt}},{path:"integrate/(?<id>.*)",component:L0,hooks:{pre:Dt}},{path:"settings/(?<id>.*)",component:x0,hooks:{pre:Dt}},{path:"responses/(?<id>.*)",component:Jm,hooks:{pre:Dt}},{path:"form/(?<mode>[^/]+)/(?<id>[^/]+)",component:Mm,hooks:{pre:Dt}},{path:"v/(?<id>.*)",component:a0},{path:"test",component:g0},{path:"account/email",component:E0,hooks:{pre:Dt}},{path:"account/password",component:A0,hooks:{pre:Dt}}];var U0=A('<div class="flex items-center justify-center h-full text-gray-600">Loading...</div>'),F0=A('<main class="w-screen h-screen"><!> <!></main>');function z0(r,e){le(e,!1);const{state:t,getUser:n}=ot;let a=ye(!0);Ge(async()=>{try{await n()}catch{console.log("No active session")}finally{C(a,!1)}}),We();var s=F0(),i=w(s);Jf(i,{});var o=T(i,2);{var l=u=>{var d=U0();m(u,d)},c=u=>{iu(u,{routes:B0})};D(o,u=>{h(a)?u(l):u(c,!1)})}m(r,s),ce()}_c(z0,{target:document.getElementById("app")});export{po as g};
